openapi: 3.0.0
paths:
  /api/v1/ordering/update-tax-rate:
    put:
      operationId: updateTaxRate
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateTaxRateDto"
      responses:
        "200":
          description: Tax rates updated
      summary: Update tax rate for businesses
      tags:
        - OrderingCo
  /api/v1/auth/register:
    post:
      operationId: registerUser
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserDto"
      responses:
        "201":
          description: User successfully registered.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RegisterUserResponseDto"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Register a new user
      tags: &a1
        - auth
  /api/v1/auth/login:
    post:
      operationId: login
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CredentialDto"
      responses:
        "201":
          description: Successful login
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LoginResponseDto"
        "400":
          description: Bad Request - Validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Authorize user
      tags: *a1
  /api/v1/auth/logout:
    post:
      operationId: logout
      parameters: []
      responses:
        "200":
          description: User successfully logged out.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LogoutResponseDto"
        "401":
          description: Unauthorized - Missing or invalid token.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Log out the user
      tags: *a1
  /api/v1/auth/refresh:
    post:
      operationId: refreshToken
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RefreshTokenDto"
      responses:
        "200":
          description: New tokens created.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RefreshTokenResponseDto"
        "401":
          description: Unauthorized - Missing or invalid token.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Refresh authentication token
      tags: *a1
  /api/v1/auth/code/generate:
    post:
      operationId: generateCode
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GenerateCodeDto"
      responses:
        "201":
          description: Verification code generated successfully.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GenerateCodeResponseDto"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Generate verification code
      tags: *a1
  /api/v1/auth/code/verify:
    post:
      operationId: verifyCode
      parameters:
        - name: orderingAccessToken
          required: true
          in: header
          description: Access token in the format eyJ0Blcm9.....
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PhoneCodeVerificationDto"
      responses:
        "201":
          description: Code verified successfully.
          content:
            application/json:
              schema:
                type: boolean
                example: true
        "400":
          description: Bad Request - The code is invalid.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Verify the provided code
      tags: *a1
  /api/v1/auth/firebase-login:
    post:
      description: Checks if a user exists in Firebase by email. If not, it creates
        them. It then returns a custom token for the client app to sign in with.
      operationId: firebaseAuth
      parameters: []
      responses:
        "201":
          description: User successfully created/found and custom token returned.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FirebaseTokenDto"
        "400":
          description: Bad Request - The request body is invalid (e.g., malformed email).
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "401":
          description: Unauthorized - The provided orderingAccessToken is invalid or
            missing.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error - Failed to communicate with Firebase.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Upsert a user in Firebase and get a custom sign-in token.
      tags: *a1
  /api/v1/user:
    get:
      operationId: getUserInfo
      parameters: []
      responses:
        "200":
          description: User information retrieved successfully.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetUserInfoResponseDto"
        "401":
          description: Invalid token or session
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      security: &a2
        - JWT-auth: []
      summary: Retrieve user information
      tags: &a3
        - user
  /api/v1/user/business:
    get:
      operationId: getUserBusiness
      parameters: []
      responses:
        "200":
          description: Returns a list of businesses
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/BusinessInfoResponseDto"
        "401":
          description: Invalid token or session
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      security: *a2
      summary: Retrieve user Business information
      tags: *a3
  /api/v1/users:
    post:
      operationId: getUser
      parameters: []
      requestBody:
        required: true
        description: User body data
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserValidation"
      responses:
        "200":
          description: User information retrieved successfully.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/LoyaltyUserDto"
        "401":
          description: Invalid token or session
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      security: &a4
        - JWT-auth: []
      summary: Filter user information with phone number
      tags: &a5
        - Users
  /api/v1/users/{userId}/wallets/{walletId}/events:
    post:
      operationId: updateUserRewardPoints
      parameters:
        - name: userId
          required: true
          in: path
          schema:
            type: number
        - name: walletId
          required: true
          in: path
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RewardPointPayload"
      responses:
        "204":
          description: Credit points added successfully
        "400":
          description: Invalid parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "401":
          description: Invalid token or session
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      security: *a4
      summary: Add credit points to user wallet
      tags: *a5
  /api/v1/notification/add-venue-subscriptions:
    post:
      operationId: addVenueSubscriptions
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DeviceSubscriptionDto"
      responses:
        "201":
          description: ""
      tags: &a6
        - Notification
  /api/v1/notification/remove-venue-subscriptions:
    delete:
      operationId: removeVenueSubscriptions
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DeviceSubscriptionDto"
      responses:
        "200":
          description: ""
      tags: *a6
  /api/v1/orders/reject:
    post:
      operationId: rejectOrder
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RejectOrderDto"
      responses:
        "200":
          description: Order successfully rejected
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderStatusResponseDto"
        "400":
          description: Bad request - order already rejected
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Reject an order
      tags: &a7
        - orders
  /api/v1/orders/accept:
    post:
      operationId: acceptOrder
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AcceptOrderDto"
      responses:
        "200":
          description: Order status successfully accepted
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderStatusResponseDto"
        "400":
          description: Bad request - invalid status update
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Accept an order
      tags: *a7
  /api/v1/orders/ready:
    post:
      operationId: markOrderAsReady
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ReadyOrderDto"
      responses:
        "200":
          description: Order successfully marked as ready
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderStatusResponseDto"
        "400":
          description: Bad request - invalid order ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Mark an order as ready for pickup/delivery
      tags: *a7
  /api/v1/orders/delivered:
    post:
      operationId: deliverOrder
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DeliveredOrderDto"
      responses:
        "200":
          description: Order successfully marked as ready
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderStatusResponseDto"
        "400":
          description: Bad request - invalid order ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Mark an order as delivered to customer or picked-up by driver
      tags: *a7
  /api/v1/orders/confirm/preOrder:
    post:
      operationId: confirmPreOrder
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConfirmPreorderDto"
      responses:
        "200":
          description: Pre-order successfully confirmed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderStatusResponseDto"
        "400":
          description: Bad request - invalid order ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Confirm a pre-order
      tags: *a7
  /api/v1/provider:
    post:
      operationId: registerProvider
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RegisterProviderDto"
      responses:
        "201":
          description: ""
      tags: &a8
        - Provider
  /api/v1/provider/credentials:
    post:
      operationId: registerCredential
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RegisterCredentialDto"
      responses:
        "201":
          description: ""
      tags: *a8
  /api/v1/provider/supported-channels/{businessId}:
    get:
      operationId: getSupportedChannels
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: number
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetSupportedChannelsResponseDto"
      summary: Get supported channels for a business
      tags: *a8
  /api/v1/kiosk/terminal/validate:
    get:
      operationId: validate
      parameters:
        - name: terminalId
          required: true
          in: query
          description: The unique ID of the terminal to validate against the system.
          schema:
            type: string
        - name: provider
          required: true
          in: query
          description: The payment provider of the terminal
          schema:
            type: string
      responses:
        "200":
          description: Successfully validated the terminal ID and returned the associated
            menu data.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TerminalValidationResponseDto"
      tags: &a9
        - Kiosks
  /api/v1/kiosk/orders/{orderId}/{businessId}/status:
    get:
      operationId: getOrderStatus
      parameters:
        - name: orderId
          required: true
          in: path
          description: The unique ID of the order to validate against the system.
          schema:
            type: string
        - name: businessId
          required: true
          in: path
          description: The unique ID of the business to validate against the system.
          schema:
            type: string
      responses:
        "200":
          description: Successfully validated the terminal ID and returned the associated
            menu data.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaymentStatusDto"
      tags: *a9
  /api/v1/kiosk/checkin:
    post:
      operationId: checkIn
      parameters: []
      requestBody:
        required: true
        description: Required data for the Kiosk check-in process, including Kiosk ID,
          Business ID, and the target Payment Terminal ID.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateKioskDto"
      responses:
        "200":
          description: Successful check-in. The Kiosk was either created or updated, and
            is now confirmed to be connected to the specified terminal.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CheckInResponseDto"
        "400":
          description: Bad Request. Indicates a validation error in the payload data or a
            generic database error during creation/fetching.
        "409":
          description: Conflict. The Kiosk ID is already registered and connected to
            *this* terminal, or it is connected to a *different* terminal,
            preventing a new check-in.
      tags: *a9
  /api/v1/kiosk/deactivate:
    post:
      operationId: removeKiosk
      parameters:
        - name: kioskId
          required: true
          in: query
          description: The unique ID of the kiosk device to validate against the system.
          schema:
            type: string
      responses:
        "201":
          description: ""
      tags: *a9
  /api/v1/kiosk/{kioskId}:
    get:
      operationId: getKiosk
      parameters:
        - name: kioskId
          required: true
          in: path
          description: The unique ID of the kiosk device to validate against the system.
          schema:
            type: string
      responses:
        "200":
          description: Successful get kiosk. The Kiosk was either created or updated, and
            is now confirmed to be connected to the specified terminal.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/KioskResponseDto"
      tags: *a9
  /api/v1/ably/request-settings:
    post:
      operationId: requestSettings
      parameters: []
      responses:
        "201":
          description: ""
      tags: &a10
        - Ably
  /api/v1/ably/refresh-config:
    post:
      operationId: refreshConfig
      parameters: []
      responses:
        "201":
          description: ""
      tags: *a10
  /api/v2/notification/add-venue-subscriptions:
    post:
      description: Subscribe a device to multiple venue/business notifications using
        OneSignal ID and hardware ID.
      operationId: addVenueSubscriptionsV2
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DeviceSubscriptionDto"
      responses:
        "201":
          description: ""
      summary: Add venue subscriptions for push notifications
      tags: &a11
        - Notification
  /api/v2/notification/remove-venue-subscriptions:
    delete:
      description: Unsubscribe a device from multiple venue/business notifications
        using hardware ID.
      operationId: removeVenueSubscriptionsV2
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DeviceSubscriptionDto"
      responses:
        "200":
          description: ""
      summary: Remove venue subscriptions for push notifications
      tags: *a11
  /api/v2/orders:
    get:
      operationId: getAllOrders V2
      parameters:
        - name: businessIds
          required: true
          in: query
          description: Comma-separated list of business IDs
          schema:
            example: 3615,351
            type: string
      responses:
        "200":
          description: Returns all orders
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/OrderResponseDto"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Get all orders across all statuses
      tags: &a12
        - orders
  /api/v2/orders/{status}:
    get:
      operationId: getOrders V2
      parameters:
        - name: status
          required: true
          in: path
          description: Order status filter
          schema:
            enum:
              - pending
              - in_progress
              - ready
              - delivered
              - rejected
              - pick_up_by_driver
              - preorder
              - accept_by_driver
              - parked
              - refunded
              - draft
            type: string
        - name: posBusinessId
          required: false
          in: query
          description: Id of the pos
          schema:
            example: "1234"
            type: string
        - name: extraProvider
          required: false
          in: query
          description: Extra attributes to get POS orders
          schema:
            enum:
              - Wolt
              - MunchiOnline
              - MunchiKiosk
              - MunchiPos
              - UberEats
              - Foodora
              - Bolt
              - MunchiKioskV2
              - Kiosk
            type: string
        - name: businessIds
          required: true
          in: query
          description: Comma-separated list of business IDs
          schema:
            example: 3615,351
            type: string
      responses:
        "200":
          description: Returns orders filtered by status
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/OrderResponseDto"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Get orders by status
      tags: *a12
  /api/v2/orders/pos/park:
    get:
      operationId: getParkedPosOrder V2
      parameters:
        - name: businessId
          required: true
          in: query
          description: Id of the pos
          schema:
            example: "1234"
            type: string
      responses:
        "200":
          description: Get all park POS order successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PosOrderDto"
        "400":
          description: Bad request - Failed to park order
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Get all Pos park order
      tags: *a12
    delete:
      operationId: deletePosParkedOrder V2
      parameters: []
      requestBody:
        required: true
        description: Id of the pos
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DeletePosOrderDto"
      responses:
        "202":
          description: Delete order successfully
        "400":
          description: Bad request - invalid order ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Remove a parked pos order
      tags: *a12
  /api/v2/orders/pos/update:
    post:
      operationId: updatePosOrder V2
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PosUpdateOrderDto"
      responses:
        "200":
          description: Order status successfully updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderStatusResponseDto"
        "400":
          description: Bad request - invalid order update
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Update a POS order status
      tags: *a12
  /api/v2/orders/pos/ticket:
    post:
      operationId: sendPosOrderTicket V2
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SendPosOrderTicketDto"
      responses:
        "200":
          description: POS order ticket successfully sent
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PosOrderDto"
        "400":
          description: Bad request - invalid order ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Send a POS order ticket
      tags: *a12
  /api/v2/orders/pos/place:
    post:
      operationId: placePosOrder V2
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PosOrderPayloadDto"
      responses:
        "200":
          description: POS order ticket successfully placed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PosOrderDto"
        "400":
          description: Bad request - invalid order ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Place an POS order
      tags: *a12
  /api/plugin/config.json:
    get:
      operationId: loadConfigFile
      parameters: []
      responses:
        "200":
          description: ""
      tags: &a13
        - Plugin
  /api/plugin/business/upsert:
    post:
      operationId: upsertBusiness
      parameters: []
      responses:
        "201":
          description: ""
      tags: *a13
  /api/v1/business/{businessId}/validate:
    get:
      operationId: validateBusiness
      parameters:
        - name: businessId
          required: true
          in: path
          description: Id of the business
          schema:
            type: string
      responses:
        "200":
          description: Validate business success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BusinessValidationResponseDto"
      security: &a14
        - JWT-auth: []
      tags: &a15
        - Business
  /api/v1/business/{businessId}/menu/{menuType}:
    get:
      operationId: getBusinessMenuByType
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
        - name: menuType
          required: true
          in: path
          description: Type of menu (e.g., pos)
          schema:
            enum:
              - pos
              - kiosk
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/MenuDto"
      security: *a14
      tags: *a15
  /api/v1/business/{businessId}/menu/categories:
    post:
      operationId: getBusinessCategoriesByMenuId
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        description: Exmaple body
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BusinessCategoryBodyDto"
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CategoryDto"
      security: *a14
      tags: *a15
  /api/v1/business/{businessId}/configs:
    get:
      operationId: getBusinessConfig
      parameters:
        - name: businessId
          required: true
          in: path
          description: Id of the business
          schema:
            type: string
        - name: lang
          required: false
          in: query
          description: Language code (default is "en")
          schema:
            type: string
      responses:
        "200":
          description: Business configuration with payment providers
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BusinessConfigResponseDto"
      security: *a14
      tags: *a15
  /api/v1/business/{businessId}/internal/configs:
    get:
      operationId: getBusinessConfiguration
      parameters:
        - name: businessId
          required: true
          in: path
          description: Id of the business
          schema:
            type: string
        - name: lang
          required: false
          in: query
          description: Language code (default is "en")
          schema:
            type: string
      responses:
        "200":
          description: Business configuration with payment providers
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BusinessConfigResponseDto"
      security: *a14
      tags: *a15
  /api/v1/business/{businessId}/external/configs:
    get:
      operationId: getBusinessConfigById
      parameters:
        - name: businessId
          required: true
          in: path
          description: Id of the business
          schema:
            type: string
        - name: lang
          required: false
          in: query
          description: Language code (default is "en")
          schema:
            type: string
      responses:
        "200":
          description: Business configuration with payment providers
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ExternalBusinessConfigResponseDto"
      security: *a14
      tags: *a15
  /api/v1/business/{businessId}/status:
    patch:
      operationId: setBusinessStatus
      parameters:
        - name: businessId
          required: true
          in: path
          description: Id of the business
          schema:
            type: string
      requestBody:
        required: true
        description: Update business status body
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BusinessStatusDto"
      responses:
        "200":
          description: Business status update successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UpdateStatusResponseDto"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      security: *a14
      tags: *a15
  /api/v1/business/{businessId}/status/schedule:
    patch:
      operationId: setBusinessStatusSchedule
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BusinessStatusDto"
      responses:
        "200":
          description: ""
      security: *a14
      tags: *a15
  /api/v1/business/{businessId}/provider/status:
    get:
      operationId: getBusinessProviderStatus
      parameters:
        - name: businessId
          required: true
          in: path
          description: Id of the business
          schema:
            type: string
      responses:
        "200":
          description: Business configuration with payment providers
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ProviderStatusResponseDto"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      security: *a14
      tags: *a15
  /api/v1/business/{businessId}/{provider}/{externalId}/status:
    get:
      operationId: getSingleBusinessProviderStatus
      parameters:
        - name: businessId
          required: true
          in: path
          description: Id of the business
          schema:
            type: string
        - name: provider
          required: true
          in: path
          description: The provider channel like Wolt, Foodora, etc.
          schema:
            $ref: "#/components/schemas/ProviderEnum"
        - name: externalId
          required: true
          in: path
          description: The external identifier for the provider
          schema:
            type: string
      responses:
        "200":
          description: Business configuration with single provider status
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SingleProviderStatusResponseDto"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      security: *a14
      tags: *a15
  /api/v1/business/{businessId}/provider/status/external:
    get:
      operationId: getBusinessProviderStatusExternal
      parameters:
        - name: businessId
          required: true
          in: path
          description: Id of the business
          schema:
            type: string
        - name: channel
          required: false
          in: query
          description: Channel like Wolt, Foodora, etc.
          schema:
            $ref: "#/components/schemas/ProviderEnum"
      responses:
        "200":
          description: Business configuration with payment providers
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ProviderStatusResponseDto"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      security: *a14
      tags: *a15
  /api/v1/business/tax:
    get:
      operationId: getBusinessTax
      parameters: []
      responses:
        "200":
          description: Get business taxes
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/BusinessTaxResponseDto"
      security: *a14
      tags: *a15
  /api/v1/business/{businessId}/discount:
    get:
      operationId: getUnifiedDiscounts
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
      responses:
        "200":
          description: Get discount for all business and venue
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UnifiedDiscountsResponseDto"
      security: *a14
      tags: *a15
  /api/v1/business/{businessId}/permissions:
    post:
      operationId: createBusinessPermission
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            example: "351"
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PermissionDto"
      responses:
        "201":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BusinessPermissionResponseDto"
      security: *a14
      summary: Create single business permission
      tags: *a15
  /api/v1/business/{businessId}/permissions/{permissionId}:
    put:
      operationId: updateBusinessPermission
      parameters:
        - name: permissionId
          required: true
          in: path
          schema:
            example: "1"
            type: string
        - name: businessId
          required: true
          in: path
          schema:
            example: "351"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdatePermissionDto"
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BusinessPermissionResponseDto"
      security: *a14
      summary: Update single business permission
      tags: *a15
    delete:
      operationId: deleteBusinessPermission
      parameters:
        - name: permissionId
          required: true
          in: path
          schema:
            example: "1"
            type: string
        - name: businessId
          required: true
          in: path
          schema:
            example: "351"
      responses:
        "200":
          description: Permission deleted
      security: *a14
      summary: Delete business permission
      tags: *a15
  /api/webhook/wolt-drive/event:
    post:
      operationId: handleWoltDriveEvent
      parameters: []
      responses:
        "201":
          description: ""
      tags: &a16
        - Webhook
  /api/webhook/wolt-drive/{country}/event:
    post:
      operationId: handleWoltDriveEventByCountry
      parameters:
        - name: country
          required: true
          in: path
          schema:
            type: string
      responses:
        "201":
          description: ""
      tags: *a16
  /api/webhook/ship-day:
    post:
      operationId: handleWebhook
      parameters: []
      responses:
        "201":
          description: ""
      tags: *a16
  /api/webhook/preorder-reminder:
    post:
      operationId: handlePreorderReminder
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PreOrderReminderDto"
      responses:
        "200":
          description: Reminder processed successfully
        "401":
          description: Unauthorized - Invalid API key
      summary: Handle preorder reminder (triggered by scheduler)
      tags: *a16
  /api/webhook/order/event:
    post:
      operationId: handleFoodoraEvent
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/OrderUpdateDto"
      responses:
        "201":
          description: ""
      tags: *a16
  /api/webhook/wolt/product/edit:
    post:
      operationId: updateWoltProduct
      parameters: []
      responses:
        "201":
          description: ""
      tags: *a16
  /api/webhook/nets:
    post:
      operationId: handleNetsEvents
      parameters: []
      responses:
        "201":
          description: ""
      tags: *a16
  /api/webhook/nets/refund:
    post:
      operationId: handleNetsRefundEvents
      parameters: []
      responses:
        "201":
          description: ""
      tags: *a16
  /api/webhook/viva/verification:
    get:
      operationId: verifyVivaWebhook
      parameters: []
      responses:
        "200":
          description: ""
      tags: *a16
    post:
      operationId: handleVivaEvents
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VivaWebhookPayloadDto"
      responses:
        "200":
          description: Viva webhook processed successfully
      summary: Handle Viva payment webhook events
      tags: *a16
  /api/webhook/load-employee:
    post:
      operationId: handleLoadEmployee
      parameters: []
      responses:
        "200":
          description: Employee webhook processed successfully
      summary: Handle Supabase employee sync webhook
      tags: *a16
  /api/webhook/add-roles:
    post:
      operationId: handleRoleWebhook
      parameters: []
      responses:
        "201":
          description: ""
      tags: *a16
  /api/webhook/add-employee-assignments:
    post:
      operationId: handleAssignmentWebhook
      parameters: []
      responses:
        "201":
          description: ""
      tags: *a16
  /api/webhook/add-employee-shifts:
    post:
      operationId: handleShiftWebhook
      parameters: []
      responses:
        "201":
          description: ""
      tags: *a16
  /api/webhook/add-business:
    post:
      operationId: handleBusinessWebhook
      parameters: []
      responses:
        "201":
          description: ""
      tags: *a16
  /api/v1/menu/{businessId}/extras:
    get:
      operationId: getBusinessExtras
      parameters:
        - name: businessId
          required: true
          in: path
          description: Business ID
          schema:
            type: string
      responses:
        "200":
          description: Returns business product extras
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/MenuProductExtraDto"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Get business product extras
      tags: &a17
        - menu
  /api/v1/menu/availability/reset-eod:
    post:
      operationId: resetProductEod
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ResetEodDto"
      responses:
        "201":
          description: ""
      tags: *a17
  /api/v1/menu/{businessId}/product:
    patch:
      operationId: editBusinessProduct
      parameters:
        - name: businessId
          required: true
          in: path
          description: Unique identifier of the business
          schema:
            type: string
      requestBody:
        required: true
        description: List of products with updated status
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "#/components/schemas/MenuProductDto"
      responses:
        "200":
          description: Provider-specific update results
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProviderMapResponseDto"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Update product status (enabled/disabled) for a business
      tags: *a17
  /api/v1/report/email:
    post:
      operationId: sendReportEmail
      parameters:
        - name: timeSpan
          required: false
          in: query
          description: Time span
          schema:
            $ref: "#/components/schemas/TimeSpan"
        - name: start
          required: false
          in: query
          description: Start date
          schema:
            type: string
        - name: end
          required: false
          in: query
          description: End date
          schema:
            type: string
        - name: businessIds
          required: true
          in: query
          description: Business ID selected
          schema:
            type: array
            items:
              type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SendReportEmailDto"
      responses:
        "201":
          description: Report email sent successfully
        "400":
          description: Bad Request
      summary: Send end-of-day report via email
      tags: &a18
        - Report
  /api/v1/report/pos/end-of-day:
    get:
      operationId: getPOSEndOfDayReport
      parameters:
        - name: timeSpan
          required: false
          in: query
          description: Time span
          schema:
            $ref: "#/components/schemas/TimeSpan"
        - name: start
          required: false
          in: query
          description: Start date
          schema:
            type: string
        - name: end
          required: false
          in: query
          description: End date
          schema:
            type: string
        - name: businessIds
          required: true
          in: query
          description: Business ID selected
          schema:
            type: array
            items:
              type: number
      responses:
        "200":
          description: POS report generated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EndOfDayReportDto"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Get end-of-day financial report for POS
      tags: *a18
  /api/v1/passcode/create:
    post:
      operationId: createPasscode
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreatePasscodeDto"
      responses:
        "201":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreatePasscodeResponseDto"
      summary: Create new passcode
      tags: &a19
        - Passcode
  /api/v1/passcode/{passcodeId}:
    delete:
      operationId: deletePasscode
      parameters:
        - name: passcodeId
          required: true
          in: path
          schema:
            type: number
      responses:
        "200":
          description: ""
      summary: Delete passcode
      tags: *a19
  /api/v1/passcode/options/{businessId}:
    get:
      description: Returns all available passcodes (business + chain) and permissions
        for the business
      operationId: getPasscodeOptions
      parameters:
        - name: businessId
          required: true
          in: path
          description: Business ordering ID
          schema:
            example: 351
            type: number
      responses:
        "200":
          description: Successfully retrieved passcode options and permissions
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PasscodeOptionsResponseDto"
      summary: Get passcode options and permissions for business
      tags: *a19
  /api/v1/passcode/validate:
    post:
      description: Validates passcode against business/chain passcodes and returns
        permissions if valid
      operationId: validatePasscode
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ValidatePasscodeDto"
      responses:
        "200":
          description: Validation result with permissions if valid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidatePasscodeResponseDto"
      summary: Validate passcode (optional server-side validation)
      tags: *a19
  /api/v1/refunds/businesses/{businessId}/orders/{orderId}/plan:
    post:
      operationId: createRefundPlan
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
        - name: orderId
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateRefundPlanDto"
      responses:
        "200":
          description: Returns either a created refund plan or a request for choice.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RefundPlanDto"
      tags: &a20
        - Refunds
  /api/v1/refunds/businesses/{businessId}/orders/{orderId}/refunds:
    get:
      operationId: getRefundPlan
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
        - name: orderId
          required: true
          in: path
          schema:
            type: string
        - name: status
          required: true
          in: query
          schema: {}
      responses:
        "201":
          description: ""
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RefundPlanDto"
      tags: *a20
  /api/v1/refunds/businesses/{businessId}/orders/{orderId}/plan/{refundId}/record:
    post:
      operationId: recordRefundPlan
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
        - name: orderId
          required: true
          in: path
          schema:
            type: string
        - name: refundId
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CompletedStepDto"
      responses:
        "201":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RefundPlanDto"
      tags: *a20
  /api/v1/refunds/businesses/{businessId}/orders/{orderId}/plan/{refundId}/start:
    post:
      operationId: startProcessPlan
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
        - name: orderId
          required: true
          in: path
          schema:
            type: string
        - name: refundId
          required: true
          in: path
          schema:
            type: string
      responses:
        "201":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RefundPlanDto"
      tags: *a20
  /api/v1/refunds/businesses/{businessId}/orders/{orderId}/plan/{refundId}/cancel:
    delete:
      operationId: cancelPlan
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
        - name: orderId
          required: true
          in: path
          schema:
            type: string
        - name: refundId
          required: true
          in: path
          schema:
            type: string
      responses:
        "202":
          description: ""
      tags: *a20
  /api/v1/refunds/businesses/{businessId}/orders/{orderId}/plan/{refundId}/resolve-choice:
    post:
      operationId: resolveRefundChoice
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
        - name: orderId
          required: true
          in: path
          schema:
            type: string
        - name: refundId
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ResolveChoiceDto"
      responses:
        "200":
          description: The refund plan has been finalized with the chosen payment method
            and is now pending execution.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RefundPlanDto"
      tags: *a20
  /api/v1/giftcard/validate:
    post:
      operationId: validateGiftCard
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ValidateGiftCardDto"
      responses:
        "200":
          description: Gift card validation result
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidateGiftCardResponseDto"
      summary: Validate gift card
      tags: &a21
        - Giftcard
  /api/v1/giftcard/redeem:
    post:
      operationId: redeemGiftCard
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RedeemGiftCardDto"
      responses:
        "200":
          description: Gift card redemption result
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RedeemGiftCardResponseDto"
      summary: Redeem gift card
      tags: *a21
  /api/v1/loyalty/info:
    get:
      operationId: getLoyaltyInfo
      parameters:
        - name: businessId
          required: true
          in: query
          schema:
            example: 351
            type: number
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LoyaltyInfoResponseDto"
      security: &a22
        - &a24
          JWT-auth: []
      summary: Get loyalty program info
      tags: &a23
        - Loyalty Integerations
  /api/v1/loyalty/users/search:
    get:
      operationId: searchUser
      parameters:
        - name: phone
          required: false
          in: query
          schema:
            example: "123456789"
            type: string
        - name: country_code
          required: false
          in: query
          schema:
            example: "+358"
            type: string
        - name: email
          required: false
          in: query
          schema:
            example: user@example.com
            type: string
        - name: businessId
          required: true
          in: query
          schema:
            example: 351
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SearchUserInfoResponseDto"
      security: *a22
      summary: Search user by phone or email
      tags: *a23
  /api/v1/loyalty/users/info:
    get:
      operationId: getUserById
      parameters:
        - name: businessId
          required: true
          in: query
          schema:
            example: 351
            type: number
        - name: userId
          required: true
          in: query
          schema:
            example: "123"
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LoyaltyUserInfoResponseDto"
      security:
        - *a24
        - JWT-auth: []
      summary: Get user by ID
      tags: *a23
  /api/v1/loyalty/update-user-points:
    post:
      operationId: updatePoints
      parameters:
        - name: businessId
          required: true
          in: query
          schema:
            example: 351
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PointsUpdatePayloadDto"
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PointsUpdateResponseDto"
      security:
        - *a24
        - JWT-auth: []
      summary: Update user points
      tags: *a23
  /api/v1/loyalty/admin/transactions:
    get:
      operationId: getAdminTransactions
      parameters:
        - name: businessId
          required: true
          in: query
          schema:
            example: 351
            type: number
        - name: page
          required: false
          in: query
          schema:
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          schema:
            example: 10
            type: number
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdminTransactionResponseDto"
      security: *a22
      summary: Get admin transaction history
      tags: *a23
  /api/v1/history/orders:
    get:
      operationId: getOrderHistoryOnline
      parameters:
        - name: timeSpan
          required: false
          in: query
          description: Time span
          schema:
            $ref: "#/components/schemas/TimeSpan"
        - name: start
          required: false
          in: query
          description: Start date
          schema:
            type: string
        - name: end
          required: false
          in: query
          description: End date
          schema:
            type: string
        - name: businessIds
          required: true
          in: query
          description: Business ID selected
          schema:
            type: array
            items:
              type: number
        - name: page
          required: false
          in: query
          description: Page number
          schema:
            type: number
        - name: rowPerPage
          required: false
          in: query
          description: Number of rows per page
          schema:
            type: number
        - name: provider
          required: false
          in: query
          description: Provider
          schema:
            type: array
            items:
              $ref: "#/components/schemas/ProviderEnum"
        - name: paymentType
          required: false
          in: query
          description: Payment type
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentTypeEnum"
        - name: orderStatus
          required: false
          in: query
          description: Order status
          schema:
            type: array
            items:
              $ref: "#/components/schemas/OrderStatusEnum"
        - name: paymentStatus
          required: false
          in: query
          description: Payment status
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentStatus"
        - name: orderType
          required: false
          in: query
          description: Order type
          schema:
            type: array
            items:
              $ref: "#/components/schemas/OrderType"
        - name: paymentTypePos
          required: false
          in: query
          description: Payment type POS
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentMethod"
        - name: invoiceCompanyId
          required: false
          in: query
          description: Filter by invoice company ID
          schema:
            example: clxxx123
            type: string
        - name: timezone
          required: false
          in: query
          description: Timezone (default is "UTC")
          schema:
            type: string
      responses:
        "201":
          description: Get order history
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderHistoryResponseDto"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Get order history
      tags: &a25
        - History
  /api/v1/history/internal/orders:
    get:
      operationId: getInternalOrderHistoryOnline
      parameters:
        - name: timeSpan
          required: false
          in: query
          description: Time span
          schema:
            $ref: "#/components/schemas/TimeSpan"
        - name: start
          required: false
          in: query
          description: Start date
          schema:
            type: string
        - name: end
          required: false
          in: query
          description: End date
          schema:
            type: string
        - name: businessIds
          required: true
          in: query
          description: Business ID selected
          schema:
            type: array
            items:
              type: number
        - name: page
          required: false
          in: query
          description: Page number
          schema:
            type: number
        - name: rowPerPage
          required: false
          in: query
          description: Number of rows per page
          schema:
            type: number
        - name: provider
          required: false
          in: query
          description: Provider
          schema:
            type: array
            items:
              $ref: "#/components/schemas/ProviderEnum"
        - name: paymentType
          required: false
          in: query
          description: Payment type
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentTypeEnum"
        - name: orderStatus
          required: false
          in: query
          description: Order status
          schema:
            type: array
            items:
              $ref: "#/components/schemas/OrderStatusEnum"
        - name: paymentStatus
          required: false
          in: query
          description: Payment status
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentStatus"
        - name: orderType
          required: false
          in: query
          description: Order type
          schema:
            type: array
            items:
              $ref: "#/components/schemas/OrderType"
        - name: paymentTypePos
          required: false
          in: query
          description: Payment type POS
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentMethod"
        - name: invoiceCompanyId
          required: false
          in: query
          description: Filter by invoice company ID
          schema:
            example: clxxx123
            type: string
        - name: timezone
          required: false
          in: query
          description: Timezone (default is "UTC")
          schema:
            type: string
      responses:
        "201":
          description: Get order history
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderHistoryResponseDto"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Get order history
      tags: *a25
  /api/v1/payment/status:
    post:
      description: Retrieves the current status of a payment transaction by its
        reference ID.
      operationId: getPaymentStatus
      parameters: []
      requestBody:
        required: true
        description: Payment status query parameters
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GetPaymentStatusDto"
      responses:
        "200":
          description: Payment status retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaymentStatusDto"
        "400": &a27
          description: Bad request - Invalid payload
        "404": &a28
          description: Business configuration not found
      summary: Get payment status
      tags: &a26
        - Payment
  /api/v1/payment/stripe/connectionToken:
    get:
      description: Retrieves a Stripe Terminal connection token for the specified
        business. This token is required to initialize the Stripe Terminal SDK.
      operationId: getToken
      parameters:
        - name: businessId
          required: true
          in: query
          description: Unique identifier for the business
          schema:
            example: "12345"
            type: string
      responses:
        "200":
          description: The connection token was successfully generated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StripeConnectionTokenDto"
        "400":
          description: Bad request - Invalid businessId or Stripe payment not enabled for
            this business
        "404":
          description: Business configuration not found
      summary: Get Stripe Terminal connection token
      tags: *a26
  /api/v1/payment/stripe/capture:
    post:
      description: Captures a previously authorized payment intent, transferring funds
        from the customer to your account.
      operationId: captureStripePayment
      parameters: []
      requestBody:
        required: true
        description: Payment intent ID to capture
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PaymentIntentIdDto"
      responses:
        "200":
          description: The payment intent was successfully captured
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StripePaymentIntentDto"
        "400":
          description: Bad request - Invalid payment intent data or payment intent already
            captured
        "404":
          description: Payment intent not found
      summary: Capture a Stripe payment intent
      tags: *a26
  /api/v1/payment/stripe/cancel:
    post:
      description: Cancels a payment intent that has not yet been captured, releasing
        the authorization hold on customer funds.
      operationId: cancelStripePayment
      parameters: []
      requestBody:
        required: true
        description: Payment intent ID to cancel
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PaymentIntentIdDto"
      responses:
        "200":
          description: The payment intent was successfully canceled
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StripePaymentIntentDto"
        "400":
          description: Bad request - Invalid payment intent data or payment intent already
            captured/canceled
        "404":
          description: Payment intent not found
      summary: Cancel a Stripe payment intent
      tags: *a26
  /api/v1/payment/connectionToken:
    post:
      description: Retrieves a connection token for the specified business.
      operationId: getConnectionToken
      parameters: []
      requestBody:
        required: true
        description: Connection token payload
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConnectionTokenPayloadDto"
      responses:
        "200":
          description: The connection token was successfully generated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConnectionTokenResponseDto"
        "400": *a27
        "404": *a28
      summary: Get connection token
      tags: *a26
  /api/v1/payment/viva/createPayment:
    post:
      deprecated: true
      description: Creates a new Viva payment intent.
      operationId: createVivaPayment
      parameters: []
      requestBody:
        required: true
        description: Viva payment creation payload
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VivaCreatePaymentDto"
      responses:
        "200":
          description: The Viva payment intent was successfully created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/VivaPaymentIntent"
        "400": *a27
        "404": *a28
      summary: Create Viva payment
      tags: *a26
  /api/v1/payment/viva/discoverDevices:
    post:
      description: Retrieves a list of available Viva payment devices for the
        associated merchant.
      operationId: discoverDevices
      parameters: []
      requestBody:
        required: true
        description: Payload to specify discovery criteria for Viva devices.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VivaDiscoverDevicesDto"
      responses:
        "200":
          description: Successfully retrieved the list of Viva payment devices.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/VivaDevice"
        "400": *a27
        "404": *a28
      summary: Discover Viva payment devices
      tags: *a26
  /api/v1/payment/viva/cancelTransaction:
    delete:
      description: Cancels a Viva transaction.
      operationId: cancelTransaction
      parameters: []
      requestBody:
        required: true
        description: Payload to cancel a Viva transaction.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VivaCancelTransactionDto"
      responses:
        "200":
          description: The Viva transaction was successfully canceled
        "400": *a27
        "404": *a28
      summary: Cancel a Viva transaction
      tags: *a26
  /api/v1/payment/online-orders/refund:
    post:
      description: Handles refund processing for orders placed through online channels
      operationId: processOnlineOrderRefund
      parameters: []
      requestBody:
        required: true
        description: Order details for refund processing
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/OrderResponseDto"
      responses:
        "202":
          description: Refund processed successfully
        "400": *a27
        "404": *a28
      summary: Process refund for online orders
      tags: *a26
  /api/v1/employees:
    post:
      operationId: createEmployee
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateEmployeeDto"
      responses:
        "201":
          description: The employee has been successfully created.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmployeeResponseDto"
        "400":
          description: Bad Request. Validation failed.
        "401":
          description: Unauthorized.
      tags: &a29
        - Employees
    get:
      operationId: getEmployees
      parameters:
        - name: merchantId
          required: true
          in: query
          schema:
            type: string
        - name: limit
          required: false
          in: query
          schema:
            example: 20
            type: number
        - name: page
          required: false
          in: query
          schema:
            example: 1
            type: number
      responses:
        "200":
          description: Get a paginated list of employees for a merchant.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedEmployeesResponseDto"
      tags: *a29
  /api/v1/merchants:
    post:
      operationId: createMerchant
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateMerchantDto"
      responses:
        "201":
          description: The merchant has been successfully created.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MerchantResponseDto"
        "400":
          description: Bad Request. Validation failed.
        "401":
          description: Unauthorized.
      tags:
        - Merchants
  /api/v1/businesses/{businessId}/roles:
    post:
      operationId: createRole
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateRoleDto"
      responses:
        "201":
          description: The role has been successfully created for the business.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RoleResponseDto"
        "400":
          description: Bad Request. Validation failed.
        "401":
          description: Unauthorized.
        "404":
          description: Business not found.
      tags:
        - Roles & Permissions
  /api/v1/businesses/{businessId}/assignments:
    post:
      operationId: createAssignment
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateEmployeeAssignmentDto"
      responses:
        "201":
          description: The employee has been successfully assigned to the business.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmployeeAssignmentResponseDto"
        "400":
          description: Bad Request. Invalid IDs.
        "401":
          description: Unauthorized.
        "404":
          description: Business, Employee, or Role not found.
        "409":
          description: This employee is already assigned to this business.
      tags:
        - Employees
  /api/v1/pos-session/{businessId}:
    get:
      operationId: getPosSession
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: number
      responses:
        "200":
          description: Returns all data required for a POS app to start an offline-first
            session.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PosSessionResponseDto"
        "401":
          description: Unauthorized.
        "404":
          description: Business not found.
      tags:
        - POS Session
  /api/v1/action-passcodes:
    post:
      operationId: createActionPasscode
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateActionPasscodeDto"
      responses:
        "201":
          description: The action passcode has been successfully created.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ActionPasscodeResponseDto"
        "400":
          description: Bad Request. Validation failed.
        "401":
          description: Unauthorized.
        "404":
          description: Business not found.
        "409":
          description: Passcode name already exists.
      tags:
        - Roles & Permissions
  /api/v1/businesses/{businessId}/shifts/today:
    get:
      operationId: getTodayShift
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
        - name: employeeId
          required: true
          in: query
          description: The ID of the employee to check.
          schema:
            example: clx123abc0000deadbeef1234
            type: string
      responses:
        "200":
          description: The employee's currently active shift for today, if any.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TodayShiftResponseDto"
        "404":
          description: Employee not found.
        "409":
          description: Employee is clocked in at another business.
      tags: &a30
        - Shift Tracking
  /api/v1/businesses/{businessId}/shifts/clock-in:
    post:
      operationId: clockIn
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ClockInRequestDto"
      responses:
        "200":
          description: Employee already has an open shift (Parallel Login/Forgot Out).
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmployeeShiftResponseDto"
        "201":
          description: A new shift was successfully created and clocked in.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmployeeShiftResponseDto"
        "404":
          description: Employee not found.
      tags: *a30
  /api/v1/businesses/{businessId}/shifts/clock-out:
    put:
      operationId: clockOut
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ClockOutRequestDto"
      responses:
        "200":
          description: The shift was successfully closed (clocked out).
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmployeeShiftResponseDto"
        "404":
          description: Shift not found.
      tags: *a30
  /api/v1/businesses/{businessId}/shifts:
    get:
      operationId: getShifts
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
        - name: page
          required: false
          in: query
          schema:
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Items per page (max 100).
          schema:
            example: 20
            type: number
      responses:
        "200":
          description: Returns a paginated list of all employee shifts for the business.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedResponseDto"
      tags: *a30
  /api/v1/businesses/{businessId}/shifts/unlock:
    post:
      operationId: unlock
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UnlockTerminalDto"
      responses:
        "200":
          description: Authenticates an employee and returns their session. Triggers a
            session-kick if an active shift is found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmployeeSessionResponseDto"
        "404":
          description: Employee not found.
        "409":
          description: Employee is already clocked in at another location.
      tags: *a30
  /api/v1/business/{businessId}/categories/{categoryId}/products/{productId}/pos-inventory:
    put:
      operationId: updatePosInventory
      parameters:
        - name: businessId
          required: true
          in: path
          description: Business ID
          schema:
            example: "351"
            type: string
        - name: categoryId
          required: true
          in: path
          description: Category ID
          schema:
            example: "2"
            type: string
        - name: productId
          required: true
          in: path
          description: Product ID
          schema:
            example: "1"
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdatePosInventoryDto"
      responses:
        "200":
          description: POS inventory updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PosInventoryStatusResponseDto"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "401":
          description: Unauthorized
      summary: Update POS inventory settings
      tags:
        - product
  /api/v1/cash-management/{businessId}/active-session:
    get:
      operationId: getCashSession
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
      responses:
        "200":
          description: Get cash session data successfully.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CashSessionResponseDto"
        "201":
          description: Get cash session data successfully.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CashSessionResponseDto"
        "400":
          description: Bad Request. Validation failed.
        "401":
          description: Unauthorized.
        "404":
          description: Business not found.
      tags: &a31
        - CashManagement
  /api/v1/cash-management/{businessId}/create:
    post:
      operationId: create
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CashSessionDto"
      responses:
        "201":
          description: Create cash session data successfully.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CashSessionDto"
        "400":
          description: Bad Request. Validation failed.
        "401":
          description: Unauthorized.
        "404":
          description: Business not found.
      tags: *a31
  /api/v1/cash-management/{businessId}/log:
    post:
      operationId: recordCashLog
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CashLogDto"
      responses:
        "201":
          description: Cash log created successfully. Returns the created log entry.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CashLogDto"
        "400":
          description: Bad Request. Invalid amount or type.
        "401":
          description: Unauthorized.
        "404":
          description: Active Cash Session not found.
      tags: *a31
  /api/v1/invoice-companies:
    post:
      operationId: createInvoiceCompany
      parameters:
        - name: businessId
          required: true
          in: query
          schema:
            example: 351
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateInvoiceCompanyDto"
      responses:
        "201":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvoiceCompanyResponseDto"
      summary: Create a new invoice company
      tags: &a32
        - Invoice Companies
    get:
      operationId: getInvoiceCompanies
      parameters:
        - name: businessId
          required: true
          in: query
          schema:
            example: 351
            type: number
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/InvoiceCompanyResponseDto"
      summary: List all invoice companies for a business
      tags: *a32
  /api/v1/invoice-companies/search:
    get:
      operationId: searchInvoiceCompanies
      parameters:
        - name: businessId
          required: true
          in: query
          schema:
            example: 351
            type: number
        - name: search
          required: false
          in: query
          schema:
            example: Nokia
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/InvoiceCompanyResponseDto"
      summary: Search invoice companies by name, email, or ytunnus
      tags: *a32
  /api/v1/invoice-companies/{id}:
    get:
      operationId: getInvoiceCompanyById
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
        - name: businessId
          required: true
          in: query
          schema:
            example: 351
            type: number
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvoiceCompanyResponseDto"
      summary: Get a single invoice company by ID
      tags: *a32
    patch:
      operationId: updateInvoiceCompany
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
        - name: businessId
          required: true
          in: query
          schema:
            example: 351
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateInvoiceCompanyDto"
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvoiceCompanyResponseDto"
      summary: Update an invoice company
      tags: *a32
    delete:
      operationId: deleteInvoiceCompany
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
        - name: businessId
          required: true
          in: query
          schema:
            example: 351
            type: number
      responses:
        "204":
          description: ""
      summary: Delete an invoice company
      tags: *a32
  /api/v1/terminal/status/{businessId}:
    get:
      operationId: getTerminalStatus
      parameters:
        - name: businessId
          required: true
          in: path
          description: The id of the business
          schema:
            type: number
        - name: provider
          required: true
          in: query
          description: The payment gateway or hardware provider handling the transaction.
          schema:
            $ref: "#/components/schemas/PaymentProvider"
        - name: terminalId
          required: true
          in: query
          description: The unique hardware identifier of the physical terminal mapped to
            this kiosk.
          schema:
            example: TID-99203-AX
            type: string
      responses:
        "200":
          description: ""
      tags: &a33
        - Terminal
  /api/v1/terminal/discover:
    post:
      description: Scan for available terminals on the network for the specified
        provider and business.
      operationId: discoverTerminal
      parameters: []
      requestBody:
        required: true
        description: Discover available payment terminals
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DiscoverTerminalDto"
      responses:
        "200":
          description: List of discovered devices
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PaymentTerminalDto"
      summary: Discover available payment terminals
      tags: *a33
  /api/v1/terminal/connect:
    post:
      description: Connects a physical payment terminal to the station identified by
        the auth token.
      operationId: connectTerminal
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConnectTerminalDto"
      responses:
        "200":
          description: Terminal connected successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaymentTerminalDto"
      summary: Connect a terminal to the calling station
      tags: *a33
  /api/v1/terminal/disconnect:
    post:
      description: Disconnects the currently connected payment terminal from the
        station identified by the auth token.
      operationId: disconnectTerminal
      parameters: []
      responses:
        "201":
          description: ""
      summary: Disconnect the terminal from the calling station
      tags: *a33
  /api/v1/station:
    get:
      operationId: getStation
      parameters: []
      responses:
        "200":
          description: Station data retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetStationResponseDto"
        "400":
          description: Missing X-Munchi-Hardware-Id header
        "401":
          description: Hardware ID not authorized
        "404":
          description: Station not found
      tags: &a34
        - Stations
  /api/v1/station/sync:
    post:
      operationId: syncStation
      parameters: []
      requestBody:
        required: true
        description: Sync station data from frontend tablet to backend
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SyncStationDto"
      responses:
        "200":
          description: Station synced successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StationSyncResponseDto"
        "400":
          description: Validation error or database error
        "409":
          description: Station registered to different business
      tags: *a34
  /api/v1/station/terminal/sync:
    post:
      operationId: syncTerminal
      parameters: []
      requestBody:
        required: true
        description: Connect payment terminal to station
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SyncTerminalDto"
      responses:
        "200":
          description: Terminal synced successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StationSyncResponseDto"
        "400":
          description: Validation error or provider mismatch
        "404":
          description: Station or terminal not found
      tags: *a34
  /api/v1/station/deactivate:
    post:
      operationId: deactivateStation
      parameters: []
      responses:
        "200":
          description: Station deactivated successfully
        "404":
          description: Station not found
      tags: *a34
  /api/v2/history/orders/pos:
    get:
      operationId: getOrderHistoryPOS V2
      parameters:
        - name: timeSpan
          required: false
          in: query
          description: Time span
          schema:
            $ref: "#/components/schemas/TimeSpan"
        - name: start
          required: false
          in: query
          description: Start date
          schema:
            type: string
        - name: end
          required: false
          in: query
          description: End date
          schema:
            type: string
        - name: businessIds
          required: true
          in: query
          description: Business ID selected
          schema:
            type: array
            items:
              type: number
        - name: page
          required: false
          in: query
          description: Page number
          schema:
            type: number
        - name: rowPerPage
          required: false
          in: query
          description: Number of rows per page
          schema:
            type: number
        - name: provider
          required: false
          in: query
          description: Provider
          schema:
            type: array
            items:
              $ref: "#/components/schemas/ProviderEnum"
        - name: paymentType
          required: false
          in: query
          description: Payment type
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentTypeEnum"
        - name: orderStatus
          required: false
          in: query
          description: Order status
          schema:
            type: array
            items:
              $ref: "#/components/schemas/OrderStatusEnum"
        - name: paymentStatus
          required: false
          in: query
          description: Payment status
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentStatus"
        - name: orderType
          required: false
          in: query
          description: Order type
          schema:
            type: array
            items:
              $ref: "#/components/schemas/OrderType"
        - name: paymentTypePos
          required: false
          in: query
          description: Payment type POS
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentMethod"
        - name: invoiceCompanyId
          required: false
          in: query
          description: Filter by invoice company ID
          schema:
            example: clxxx123
            type: string
        - name: timezone
          required: false
          in: query
          description: Timezone (default is "UTC")
          schema:
            type: string
      responses:
        "201":
          description: Get order history for POS
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderHistoryPosResponseDtoV2"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      security:
        - JWT-auth: []
      summary: Get order history for POS V2
      tags:
        - History
  /api/v2/payment/viva/createPayment:
    post:
      description: Creates a new Viva payment intent.
      operationId: createVivaPayment V2
      parameters: []
      requestBody:
        required: true
        description: Viva payment creation payload
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VivaCreatePaymentDto"
      responses:
        "200":
          description: The Viva payment intent was successfully created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/VivaPaymentIntent"
        "400": &a35
          description: Bad request - Invalid payload
        "404": &a36
          description: Business configuration not found
      summary: Create Viva payment
      tags: &a37
        - Payment
  /api/v2/payment/nets/createPayment:
    post:
      description: Creates a new Nets payment intent.
      operationId: createNetsPayment
      parameters: []
      requestBody:
        required: true
        description: Net payment creation payload
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateNetsTransactionDto"
      responses:
        "200":
          description: The Nets payment intent was successfully created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreateNetsTransactionResponseDto"
        "400": *a35
        "404": *a36
      summary: Create Nets payment
      tags: *a37
  /api/v2/payment/nets/cancelTransaction:
    post:
      description: Initiates a request to cancel a Nets payment on a specified terminal.
      operationId: cancelNetsTransaction
      parameters: []
      requestBody:
        required: true
        description: Payload containing the terminal ID for payment cancellation.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NetsCancelPayloadDto"
      responses:
        "202":
          description: The request to cancel the Nets payment has been successfully
            accepted for processing. No response body is returned.
        "400": *a35
        "404": *a36
      summary: Request Nets payment cancellation
      tags: *a37
  /api/v2/payment/nets/discoverDevices:
    post:
      description: Retrieves a list of available Nets payment devices for the
        associated merchant.
      operationId: discoverNetsDevices
      parameters: []
      requestBody:
        required: true
        description: Payload to specify discovery criteria for Nets devices.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ShareOrderingBusinessIdPayload"
      responses:
        "200":
          description: Successfully retrieved the list of Nets payment devices.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/DiscoveredNetsTerminalDto"
        "400": *a35
        "404": *a36
      summary: Discover Nets devices
      tags: *a37
  /api/v2/payment/nets/connectTerminal:
    post:
      description: Connect Nets terminal
      operationId: connectNetsTerminal
      parameters: []
      requestBody:
        required: true
        description: Payload to specify connect criteria for Nets device.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConnectTerminalPayloadDto"
      responses:
        "200":
          description: Successfully connecting with Nets device.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ConnectTerminaldDto"
        "400": *a35
        "404": *a36
      summary: Connect nets device
      tags: *a37
  /api/v2/payment/nets/disconnectTerminal:
    post:
      description: Disconnect Nets terminal
      operationId: DisconnectNetsTerminal
      parameters: []
      requestBody:
        required: true
        description: Payload to specify connect criteria for Nets device.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConnectTerminalPayloadDto"
      responses:
        "200":
          description: Successfully disconnect with Nets device.
        "400": *a35
        "404": *a36
      summary: Disconnect nets device
      tags: *a37
  /api/v2/payment/refund:
    post:
      description: Refund a pos order
      operationId: refundVivaTransactionV2
      parameters: []
      requestBody:
        required: true
        description: Pos order refund payload
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RefundPayloadDto"
      responses:
        "200":
          description: The pos order was successfully refunfed
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PaymentRefundDto"
        "400": *a35
        "404": *a36
      summary: Refund a pos order
      tags: *a37
  /api/v2/payment/nets/refund:
    post:
      description: Refund a pos order
      operationId: refundNetsTransaction
      parameters: []
      requestBody:
        required: true
        description: Pos order refund payload
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RefundPayloadDto"
      responses:
        "200":
          description: The pos order was successfully refunfed
          content:
            application/json:
              schema:
                type: string
        "400": *a35
        "404": *a36
      summary: Refund a pos order with nets
      tags: *a37
  /api/v2/payment/nets/cleanupTransaction:
    post:
      description: Requests the cleanup or removal of a Nets transaction, typically
        one that has failed, is pending, or needs to be voided/refunded due to
        an issue. This operation aims to revert or finalize the state of the
        transaction on the Nets terminal.
      operationId: cleanupNetsTransaction
      parameters: []
      requestBody:
        required: true
        description: Payload containing details for the transaction to be cleaned up or
          refunded.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NetsRemoveFailedTransactionPayloadDto"
      responses:
        "200":
          description: The cleanup/removal request for the Nets transaction was
            successfully initiated. Returns a request ID for tracking the
            operation.
          content:
            application/json:
              schema:
                type: string
        "400": *a35
        "404": *a36
      summary: Initiate cleanup or removal of a Nets transaction
      tags: *a37
  /api/v2/payment/cash/refund:
    post:
      description: Process a cash refund for a previous cash payment transaction.
      operationId: refundCashPayment
      parameters: []
      requestBody:
        required: true
        description: Payload containing details for the cash refund.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CashRefundPayload"
      responses:
        "200":
          description: The cash refund was successfully processed.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PaymentRefundDto"
        "400": *a35
        "404": *a36
      summary: Refund a cash payment
      tags: *a37
  /api/v2/payment/manual/refund:
    post:
      description: Process a manual refund for a previous cash payment transaction.
      operationId: refundManualPayment
      parameters: []
      requestBody:
        required: true
        description: Payload containing details for the manual refund.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ManualRefundPayload"
      responses:
        "200":
          description: The manual refund was successfully processed.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PaymentRefundDto"
        "400": *a35
        "404": *a36
      summary: Refund a manual payment
      tags: *a37
  /api/v2/payment/viva/cancel:
    post:
      description: Initiates a request to cancel a Viva payment.
      operationId: cancelVivaTransactionV2
      parameters: []
      requestBody:
        required: true
        description: Payload containing details for Viva payment cancellation.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VivaCancelTransactionDto"
      responses:
        "202":
          description: The request to cancel the Viva payment has been successfully
            accepted for processing. No response body is returned.
        "400": *a35
        "404": *a36
      summary: Request Viva payment cancellation
      tags: *a37
  /api/v2/report/email:
    post:
      operationId: sendReportEmailV2
      parameters:
        - name: timeSpan
          required: false
          in: query
          description: Time span
          schema:
            $ref: "#/components/schemas/TimeSpan"
        - name: start
          required: false
          in: query
          description: Start date
          schema:
            type: string
        - name: end
          required: false
          in: query
          description: End date
          schema:
            type: string
        - name: businessIds
          required: true
          in: query
          description: Business ID selected
          schema:
            type: array
            items:
              type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SendReportEmailDto"
      responses:
        "201":
          description: Report email sent successfully
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Send end-of-day report via email (V2)
      tags: &a38
        - Report
  /api/v2/report/pos/end-of-day:
    get:
      operationId: getPOSEndOfDayReportV2
      parameters:
        - name: timeSpan
          required: false
          in: query
          description: Time span
          schema:
            $ref: "#/components/schemas/TimeSpan"
        - name: start
          required: false
          in: query
          description: Start date
          schema:
            type: string
        - name: end
          required: false
          in: query
          description: End date
          schema:
            type: string
        - name: businessIds
          required: true
          in: query
          description: Business ID selected
          schema:
            type: array
            items:
              type: number
      responses:
        "200":
          description: POS report generated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EndOfDayReportDto"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Get end-of-day financial report for POS (V2)
      tags: *a38
  /api/v2/business/{businessId}/external/configs:
    get:
      operationId: getBusinessConfigByIdV2
      parameters:
        - name: businessId
          required: true
          in: path
          description: Id of the business
          schema:
            type: string
        - name: lang
          required: false
          in: query
          description: Language code (default is "en")
          schema:
            type: string
      responses:
        "200":
          description: Business configuration with payment providers
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BusinessResponseDto"
      security: &a39
        - JWT-auth: []
      summary: ""
      tags: &a40
        - Business
  /api/v2/business/{businessId}/menu/{menuType}:
    get:
      operationId: getBusinessMenuByType V2
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
        - name: menuType
          required: true
          in: path
          description: Type of menu (e.g., pos)
          schema:
            enum:
              - pos
              - kiosk
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/MenuDto"
      security: *a39
      summary: Get business menu by type V2
      tags: *a40
  /api/v2/business/{businessId}/menu/categories:
    post:
      operationId: getBusinessCategoriesByMenuId V2
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        description: Exmaple body
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BusinessCategoryBodyDto"
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ExtendedCategoryDto"
      security: *a39
      summary: Get business menu categories V2
      tags: *a40
  /api/v2/menu/{businessId}/categories:
    get:
      operationId: getProductsByCategoriesV2
      parameters:
        - name: businessId
          required: true
          in: path
          description: Unique identifier of the business
          schema:
            type: string
        - name: filter
          required: false
          in: query
          description: Filter products by availability status
          schema:
            enum:
              - available
              - unavailable
            type: string
      responses:
        "200":
          description: Returns categories with their products
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProductsByCategoriesResponseDto"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Get products by categories from MongoDB
      tags: &a41
        - menu
  /api/v2/menu/{businessId}/product:
    patch:
      operationId: editBusinessProductV2
      parameters:
        - name: businessId
          required: true
          in: path
          description: Unique identifier of the business
          schema:
            type: string
      requestBody:
        required: true
        description: List of products with updated status
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "#/components/schemas/MenuProductDtoV2"
      responses:
        "200":
          description: Provider-specific update results
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProviderMapResponseDto"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Update product status (enabled/disabled) for a business
      tags: *a41
  /api/v2/business/{businessId}/categories/{categoryId}/products/{productId}/channel-inventory:
    put:
      description: Update inventory settings for multiple channels at once
      operationId: updateChannelInventoryV2
      parameters:
        - name: businessId
          required: true
          in: path
          description: Business ID
          schema:
            example: "351"
            type: string
        - name: categoryId
          required: true
          in: path
          description: Category ID
          schema:
            example: "2"
            type: string
        - name: productId
          required: true
          in: path
          description: Product ID
          schema:
            example: "1"
            type: string
      requestBody:
        required: true
        description: Channel inventory updates
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateChannelInventoryDto"
            examples:
              pos-and-kiosk:
                summary: Update POS and Kiosk
                value:
                  channels:
                    - channel: MunchiPos
                      inventoried: true
                      quantity: 10
                      enabled: true
                    - channel: MunchiKiosk
                      inventoried: true
                      quantity: 5
                      enabled: true
      responses:
        "200":
          description: Channel inventory updated successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ChannelInventoryResponseDto"
      summary: Update channel inventory (POS, Kiosk, etc.)
      tags:
        - product
  /api/v3/report/email:
    post:
      operationId: sendReportEmailV3
      parameters:
        - name: timeSpan
          required: false
          in: query
          description: Time span
          schema:
            $ref: "#/components/schemas/TimeSpan"
        - name: start
          required: false
          in: query
          description: Start date
          schema:
            type: string
        - name: end
          required: false
          in: query
          description: End date
          schema:
            type: string
        - name: businessIds
          required: true
          in: query
          description: Business ID selected
          schema:
            type: array
            items:
              type: number
        - name: timezone
          required: true
          in: query
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SendReportEmailDto"
      responses:
        "201":
          description: Report email sent successfully
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Send end-of-day report via email (V3)
      tags: &a42
        - Report
  /api/v3/report/pos/end-of-day:
    get:
      operationId: getPOSEndOfDayReportV3
      parameters:
        - name: timeSpan
          required: false
          in: query
          description: Time span
          schema:
            $ref: "#/components/schemas/TimeSpan"
        - name: start
          required: false
          in: query
          description: Start date
          schema:
            type: string
        - name: end
          required: false
          in: query
          description: End date
          schema:
            type: string
        - name: businessIds
          required: true
          in: query
          description: Business ID selected
          schema:
            type: array
            items:
              type: number
        - name: timezone
          required: false
          in: query
          description: Timezone (default is "UTC")
          schema:
            type: string
      responses:
        "200":
          description: POS report generated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EndOfDayReportDtoV3"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Get end-of-day financial report for POS (V3)
      tags: *a42
  /api/v3/orders:
    get:
      description: Returns paginated orders sorted by status-specific logic. Database
        and POS orders are combined and sorted before pagination is applied.
      operationId: getAllOrdersV3
      parameters:
        - name: limit
          required: false
          in: query
          description: Number of items per page (max 100)
          schema:
            example: 20
            type: number
        - name: page
          required: false
          in: query
          description: Page number (starts from 1)
          schema:
            example: 1
            type: number
        - name: businessIds
          required: true
          in: query
          description: Comma-separated list of business IDs
          schema:
            example: 3615,351
            type: string
      responses:
        "200":
          description: Returns paginated orders
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedOrderResponseDto"
        "400": &a43
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500": &a44
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Get all orders across all statuses with pagination
      tags: &a45
        - orders
  /api/v3/orders/{status}:
    get:
      description: Returns paginated orders filtered by status and sorted by
        status-specific logic. Database and POS orders are combined and sorted
        before pagination is applied.
      operationId: getOrders V3
      parameters:
        - name: status
          required: true
          in: path
          description: Order status filter
          schema:
            enum:
              - pending
              - in_progress
              - ready
              - delivered
              - rejected
              - pick_up_by_driver
              - preorder
              - accept_by_driver
              - parked
              - refunded
              - draft
            type: string
        - name: limit
          required: false
          in: query
          description: Number of items per page (max 100)
          schema:
            example: 20
            type: number
        - name: page
          required: false
          in: query
          description: Page number (starts from 1)
          schema:
            example: 1
            type: number
        - name: posBusinessId
          required: false
          in: query
          description: Id of the pos
          schema:
            example: "1234"
            type: string
        - name: extraProvider
          required: false
          in: query
          description: Extra attributes to get POS orders
          schema:
            enum:
              - Wolt
              - MunchiOnline
              - MunchiKiosk
              - MunchiPos
              - UberEats
              - Foodora
              - Bolt
              - MunchiKioskV2
              - Kiosk
            type: string
        - name: businessIds
          required: true
          in: query
          description: Comma-separated list of business IDs
          schema:
            example: 3615,351
            type: string
      responses:
        "201":
          description: Returns paginated orders filtered by status
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedOrderResponseDto"
        "400": *a43
        "500": *a44
      summary: Get orders by status with pagination
      tags: *a45
  /api/v3/orders/pos/place:
    post:
      operationId: placePosOrder V3
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PosOrderPayloadDto"
      responses:
        "200":
          description: POS order ticket successfully placed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PosOrderDto"
        "400": *a43
        "500": *a44
      summary: Place an POS order
      tags: *a45
  /api/v3/payment/refund:
    post:
      description: Refund a pos order
      operationId: refundVivaTransactionV3
      parameters: []
      requestBody:
        required: true
        description: Pos order refund payload
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RefundPayloadDto"
      responses:
        "200":
          description: The pos order was successfully refunded
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PaymentRefundDto"
        "400": &a46
          description: Bad request - Invalid payload
        "404": &a47
          description: Business configuration not found
      summary: Refund a pos order
      tags: &a48
        - Payment
  /api/v3/payment/cash/refund:
    post:
      description: Process a cash refund for a previous cash payment transaction.
      operationId: refundCashPaymentV3
      parameters: []
      requestBody:
        required: true
        description: Payload containing details for the cash refund.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CashRefundPayload"
      responses:
        "200":
          description: The cash refund was successfully processed.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PaymentRefundDto"
        "400": *a46
        "404": *a47
      summary: Refund a cash payment
      tags: *a48
  /api/v3/payment/manual/refund:
    post:
      description: Process a manual refund for a previous payment transaction of any
        type specified in the payload.
      operationId: refundManualPaymentV3
      parameters: []
      requestBody:
        required: true
        description: Payload containing details for the manual refund.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ManualRefundPayload"
      responses:
        "200":
          description: The manual refund was successfully processed.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PaymentRefundDto"
        "400": *a46
        "404": *a47
      summary: Refund a manual payment
      tags: *a48
  /api/v3/payment/nets/refund:
    post:
      description: Refund a pos order
      operationId: refundNetsTransactionV3
      parameters: []
      requestBody:
        required: true
        description: Pos order refund payload
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RefundPayloadDtoV4"
      responses:
        "200":
          description: The pos order was successfully refunfed
          content:
            application/json:
              schema:
                type: string
        "400": *a46
        "404": *a47
      summary: Refund a pos order with nets
      tags: *a48
  /api/v3/payment/viva/createPayment:
    post:
      description: Creates a new Viva payment intent.
      operationId: createVivaPayment V3
      parameters: []
      requestBody:
        required: true
        description: Viva payment creation payload
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VivaCreatePaymentDto"
      responses:
        "200":
          description: The Viva payment intent was successfully created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/VivaPaymentIntent"
        "400": *a46
        "404": *a47
      summary: Create Viva payment
      tags: *a48
  /api/v3/payment/viva/create:
    post:
      description: Creates a new Viva transaction.
      operationId: createVivaTransactionV3
      parameters: []
      requestBody:
        required: true
        description: Viva payment creation payload
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateTransactionPayloadDto"
      responses:
        "200":
          description: The Viva payment intent was successfully created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/VivaPaymentIntent"
        "400": *a46
        "404": *a47
      summary: Create Viva payment
      tags: *a48
  /api/v3/history/orders/pos:
    get:
      operationId: getOrderHistoryPOS V3
      parameters:
        - name: timeSpan
          required: false
          in: query
          description: Time span
          schema:
            $ref: "#/components/schemas/TimeSpan"
        - name: start
          required: false
          in: query
          description: Start date
          schema:
            type: string
        - name: end
          required: false
          in: query
          description: End date
          schema:
            type: string
        - name: businessIds
          required: true
          in: query
          description: Business ID selected
          schema:
            type: array
            items:
              type: number
        - name: page
          required: false
          in: query
          description: Page number
          schema:
            type: number
        - name: rowPerPage
          required: false
          in: query
          description: Number of rows per page
          schema:
            type: number
        - name: provider
          required: false
          in: query
          description: Provider
          schema:
            type: array
            items:
              $ref: "#/components/schemas/ProviderEnum"
        - name: paymentType
          required: false
          in: query
          description: Payment type
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentTypeEnum"
        - name: orderStatus
          required: false
          in: query
          description: Order status
          schema:
            type: array
            items:
              $ref: "#/components/schemas/OrderStatusEnum"
        - name: paymentStatus
          required: false
          in: query
          description: Payment status
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentStatus"
        - name: orderType
          required: false
          in: query
          description: Order type
          schema:
            type: array
            items:
              $ref: "#/components/schemas/OrderType"
        - name: paymentTypePos
          required: false
          in: query
          description: Payment type POS
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentMethod"
        - name: invoiceCompanyId
          required: false
          in: query
          description: Filter by invoice company ID
          schema:
            example: clxxx123
            type: string
        - name: timezone
          required: false
          in: query
          description: Timezone (default is "UTC")
          schema:
            type: string
      responses:
        "201":
          description: Get order history for POS
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderHistoryPosResponseDtoV2"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      security:
        - JWT-auth: []
      summary: Get order history for POS V3
      tags:
        - History
  /api/v3/business/{businessId}/menu/{menuType}:
    get:
      operationId: getBusinessMenuByType V3
      parameters:
        - name: businessId
          required: true
          in: path
          schema:
            type: string
        - name: menuType
          required: true
          in: path
          description: Type of menu (e.g., pos)
          schema:
            enum:
              - pos
              - kiosk
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MenuReponseDto"
      security:
        - JWT-auth: []
      summary: Get business menu by type V3
      tags:
        - Business
  /api/v4/orders/pos/place:
    post:
      operationId: placePosOrder V4
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PosOrderPayloadDto"
      responses:
        "200":
          description: POS order ticket successfully placed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PosOrderDto"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500": &a49
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Place an POS order
      tags: &a50
        - orders
  /api/v4/orders/pos/actions:
    post:
      description: Process multiple actions for a POS order
      operationId: processPosOrderActions
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ProcessOrderActionsDto"
      responses:
        "200":
          description: Order actions successfully processed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProcessOrderActionsResponseDto"
        "400":
          description: Invalid request
        "404":
          description: Order not found
        "500": *a49
      summary: Process pos order actions
      tags: *a50
  /api/v4/payment/refund:
    post:
      description: Refund a pos order
      operationId: refundVivaTransactionV4
      parameters: []
      requestBody:
        required: true
        description: Pos order refund payload
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RefundPayloadDtoV4"
      responses:
        "200":
          description: The pos order was successfully refunded
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/VivaPaymentResultDto"
        "400": &a51
          description: Bad request - Invalid payload
        "404": &a52
          description: Business configuration not found
      summary: Refund a pos order
      tags: &a53
        - Payment
  /api/v4/payment/viva/refund/single:
    post:
      description: Refund a single viva transaction
      operationId: refundSingleVivaTransaction
      parameters: []
      requestBody:
        required: true
        description: Refund payload
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateRefundDto"
      responses:
        "200":
          description: The transaction was successfully refunded
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/VivaPaymentResultDto"
        "400": *a51
        "404": *a52
      summary: Refund a single viva transaction
      tags: *a53
  /api/v4/payment/nets/refund/transaction:
    post:
      description: Refund a nets transaction
      operationId: createNetsRefundTransaction
      parameters: []
      requestBody:
        required: true
        description: Refund payload
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateRefundDto"
      responses:
        "200":
          description: The transaction was successfully refunded
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreateNetsRefundResponseDto"
        "400": *a51
        "404": *a52
      summary: Refund a nets transaction
      tags: *a53
  /api/v4/payment/viva/terminal/initiate:
    post:
      description: Initiate a terminal transaction
      operationId: initiateTerminalTransaction
      parameters: []
      requestBody:
        required: true
        description: Pos order refund payload
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateTerminalPaymentDto"
      responses:
        "200":
          description: The pos order was successfully refunded
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/VivaPaymentIntent"
        "400": *a51
        "404": *a52
      summary: Initiate a terminal transaction
      tags: *a53
  /api/v4/report/pos/end-of-day:
    get:
      operationId: getPOSEndOfDayReportV4
      parameters:
        - name: timeSpan
          required: false
          in: query
          description: Time span
          schema:
            $ref: "#/components/schemas/TimeSpan"
        - name: start
          required: false
          in: query
          description: Start date
          schema:
            type: string
        - name: end
          required: false
          in: query
          description: End date
          schema:
            type: string
        - name: businessIds
          required: true
          in: query
          description: Business ID selected
          schema:
            type: array
            items:
              type: number
        - name: timezone
          required: false
          in: query
          description: Timezone (default is "UTC")
          schema:
            type: string
      responses:
        "200":
          description: POS report generated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EndOfDayReportDtoV4"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Get end-of-day financial report for POS (V4)
      tags: &a54
        - Report
  /api/v4/report/email:
    post:
      operationId: sendReportEmailV4
      parameters:
        - name: timeSpan
          required: false
          in: query
          description: Time span
          schema:
            $ref: "#/components/schemas/TimeSpan"
        - name: start
          required: false
          in: query
          description: Start date
          schema:
            type: string
        - name: end
          required: false
          in: query
          description: End date
          schema:
            type: string
        - name: businessIds
          required: true
          in: query
          description: Business ID selected
          schema:
            type: array
            items:
              type: number
        - name: timezone
          required: true
          in: query
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SendReportEmailDto"
      responses:
        "201":
          description: Report email sent successfully
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      summary: Send end-of-day report via email (V4)
      tags: *a54
  /api/v4/history/orders/pos:
    get:
      operationId: getOrderHistoryPOS V4
      parameters:
        - name: timeSpan
          required: false
          in: query
          description: Time span
          schema:
            $ref: "#/components/schemas/TimeSpan"
        - name: start
          required: false
          in: query
          description: Start date
          schema:
            type: string
        - name: end
          required: false
          in: query
          description: End date
          schema:
            type: string
        - name: businessIds
          required: true
          in: query
          description: Business ID selected
          schema:
            type: array
            items:
              type: number
        - name: page
          required: false
          in: query
          description: Page number
          schema:
            type: number
        - name: rowPerPage
          required: false
          in: query
          description: Number of rows per page
          schema:
            type: number
        - name: provider
          required: false
          in: query
          description: Provider
          schema:
            type: array
            items:
              $ref: "#/components/schemas/ProviderEnum"
        - name: paymentType
          required: false
          in: query
          description: Payment type
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentTypeEnum"
        - name: orderStatus
          required: false
          in: query
          description: Order status
          schema:
            type: array
            items:
              $ref: "#/components/schemas/OrderStatusEnum"
        - name: paymentStatus
          required: false
          in: query
          description: Payment status
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentStatus"
        - name: orderType
          required: false
          in: query
          description: Order type
          schema:
            type: array
            items:
              $ref: "#/components/schemas/OrderType"
        - name: paymentTypePos
          required: false
          in: query
          description: Payment type POS
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentMethod"
        - name: invoiceCompanyId
          required: false
          in: query
          description: Filter by invoice company ID
          schema:
            example: clxxx123
            type: string
        - name: timezone
          required: false
          in: query
          description: Timezone (default is "UTC")
          schema:
            type: string
      responses:
        "201":
          description: Get order history for POS
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderHistoryPosResponseDtoV2"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      security:
        - JWT-auth: []
      summary: Get order history for POS V4
      tags:
        - History
  /api/v5/history/orders/pos:
    get:
      operationId: getOrderHistoryPOS V5
      parameters:
        - name: timeSpan
          required: false
          in: query
          description: Time span
          schema:
            $ref: "#/components/schemas/TimeSpan"
        - name: start
          required: false
          in: query
          description: Start date
          schema:
            type: string
        - name: end
          required: false
          in: query
          description: End date
          schema:
            type: string
        - name: businessIds
          required: true
          in: query
          description: Business ID selected
          schema:
            type: array
            items:
              type: number
        - name: page
          required: false
          in: query
          description: Page number
          schema:
            type: number
        - name: rowPerPage
          required: false
          in: query
          description: Number of rows per page
          schema:
            type: number
        - name: provider
          required: false
          in: query
          description: Provider
          schema:
            type: array
            items:
              $ref: "#/components/schemas/ProviderEnum"
        - name: paymentType
          required: false
          in: query
          description: Payment type
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentTypeEnum"
        - name: orderStatus
          required: false
          in: query
          description: Order status
          schema:
            type: array
            items:
              $ref: "#/components/schemas/OrderStatusEnum"
        - name: paymentStatus
          required: false
          in: query
          description: Payment status
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentStatus"
        - name: orderType
          required: false
          in: query
          description: Order type
          schema:
            type: array
            items:
              $ref: "#/components/schemas/OrderType"
        - name: paymentTypePos
          required: false
          in: query
          description: Payment type POS
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentMethod"
        - name: invoiceCompanyId
          required: false
          in: query
          description: Filter by invoice company ID
          schema:
            example: clxxx123
            type: string
        - name: timezone
          required: false
          in: query
          description: Timezone (default is "UTC")
          schema:
            type: string
      responses:
        "201":
          description: Get order history for POS with tax breakdown
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderHistoryPosResponseDtoV2"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      security: &a55
        - JWT-auth: []
      summary: Get order history for POS V5
      tags: &a56
        - History
  /api/v5/history/internal/orders/pos:
    get:
      operationId: getOrderHistoryPOS V5 Internal
      parameters:
        - name: timeSpan
          required: false
          in: query
          description: Time span
          schema:
            $ref: "#/components/schemas/TimeSpan"
        - name: start
          required: false
          in: query
          description: Start date
          schema:
            type: string
        - name: end
          required: false
          in: query
          description: End date
          schema:
            type: string
        - name: businessIds
          required: true
          in: query
          description: Business ID selected
          schema:
            type: array
            items:
              type: number
        - name: page
          required: false
          in: query
          description: Page number
          schema:
            type: number
        - name: rowPerPage
          required: false
          in: query
          description: Number of rows per page
          schema:
            type: number
        - name: provider
          required: false
          in: query
          description: Provider
          schema:
            type: array
            items:
              $ref: "#/components/schemas/ProviderEnum"
        - name: paymentType
          required: false
          in: query
          description: Payment type
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentTypeEnum"
        - name: orderStatus
          required: false
          in: query
          description: Order status
          schema:
            type: array
            items:
              $ref: "#/components/schemas/OrderStatusEnum"
        - name: paymentStatus
          required: false
          in: query
          description: Payment status
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentStatus"
        - name: orderType
          required: false
          in: query
          description: Order type
          schema:
            type: array
            items:
              $ref: "#/components/schemas/OrderType"
        - name: paymentTypePos
          required: false
          in: query
          description: Payment type POS
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PaymentMethod"
        - name: invoiceCompanyId
          required: false
          in: query
          description: Filter by invoice company ID
          schema:
            example: clxxx123
            type: string
        - name: timezone
          required: false
          in: query
          description: Timezone (default is "UTC")
          schema:
            type: string
      responses:
        "201":
          description: Get order history for POS with tax breakdown
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderHistoryPosResponseDtoV2"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "500":
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      security: *a55
      summary: Get order history for POS V5
      tags: *a56
info:
  title: Munchi Super Server Api
  description: The Munchi API description
  version: "1.0"
  contact: {}
tags:
  - name: munchi
    description: ""
servers: []
components:
  securitySchemes:
    JWT-auth:
      scheme: bearer
      bearerFormat: JWT
      type: http
      name: JWT
      description: Enter JWT token
      in: header
  schemas:
    UpdateTaxRateDto:
      type: object
      properties: {}
    UserDto:
      type: object
      properties:
        name:
          type: string
          description: Name of the user
          example: John Doe
        email:
          type: string
          description: Email address of the user
          example: john.doe@example.com
        cellphone:
          type: string
          description: Cellphone number of the user
          example: "1234567890"
        countryPhoneCode:
          type: string
          description: Country phone code
          example: "+1"
        password:
          type: string
          description: Password for the user account
          example: my-secure-password
      required:
        - email
        - cellphone
        - countryPhoneCode
        - password
    UserInfoResponse:
      type: object
      properties:
        id:
          type: number
          example: 24223
        name:
          type: string
          example: John Doe
        email:
          type: string
          example: john.doe@example.com
        cellphone:
          type: string
          example: "1234567890"
        countryPhoneCode:
          type: string
          example: "+1"
        phoneVerified:
          type: boolean
          example: true
        orderingAccessToken:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
      required:
        - id
        - name
        - email
        - cellphone
        - countryPhoneCode
        - phoneVerified
        - orderingAccessToken
    RegisterUserResponseDto:
      type: object
      properties:
        status:
          type: boolean
          example: true
        message:
          type: string
          example: User successfully registered.
        userInfo:
          $ref: "#/components/schemas/UserInfoResponse"
      required:
        - status
        - message
        - userInfo
    ErrorResponseDto:
      type: object
      properties:
        status:
          type: boolean
          example: false
          description: Indicates whether the request was successful
        name:
          type: string
          example: INVALID_INPUT
          description: Type of error
        message:
          type: string
          example: The input provided is invalid.
          description: Error message
      required:
        - status
        - name
        - message
    CredentialDto:
      type: object
      properties:
        email:
          type: string
          example: john.doe
          description: User email or username
        password:
          type: string
          example: my-secret-password
          description: User password
      required:
        - email
        - password
    UserInfo:
      type: object
      properties:
        id:
          type: number
          example: 1001
          description: Unique identifier of the user
        name:
          type: string
          example: Jane Doe
          description: Full name of the user
        email:
          type: string
          example: jane.doe@example.com
          description: Email address of the user
        cellphone:
          type: string
          example: "0123456789"
          description: Users cellphone number
        countryPhoneCode:
          type: string
          example: "971"
          description: Country dialing code for the phone number
        phoneVerified:
          type: boolean
          example: true
          description: Whether the phone number is verified
        orderingAccessToken:
          type: string
          example: JWT-TOKEN-HERE
          description: Session token used for ordering authorization
      required:
        - id
        - name
        - email
        - cellphone
        - countryPhoneCode
        - phoneVerified
        - orderingAccessToken
    LoginResponseDto:
      type: object
      properties:
        accessToken:
          type: string
          example: JWT-TOKEN-HERE
          description: Access token used for authenticated API requests
        refreshToken:
          type: string
          example: REFRESH-TOKEN-HERE
          description: Refresh token to obtain a new access token
        userInfo:
          description: Detailed user information after successful login
          allOf:
            - $ref: "#/components/schemas/UserInfo"
      required:
        - userInfo
    LogoutResponseDto:
      type: object
      properties:
        message:
          type: string
          example: Session deleted
      required:
        - message
    RefreshTokenDto:
      type: object
      properties:
        refreshToken:
          type: string
          description: JWT refresh token issued by the login endpoint
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0
      required:
        - refreshToken
    RefreshTokenResponseDto:
      type: object
      properties:
        message:
          type: string
          example: new tokens created
          description: Message indicating that new access and refresh tokens have been
            generated
        accessToken:
          type: string
          example: JWT-TOKEN-HERE
          description: New access token for authenticated API requests
        refreshToken:
          type: string
          example: REFRESH-TOKEN-HERE
          description: New refresh token to obtain future access tokens
      required:
        - message
        - accessToken
        - refreshToken
    VerificationType:
      type: number
      enum:
        - 1
        - 2
        - 3
        - 4
    CodeChannel:
      type: number
      enum:
        - 1
        - 2
        - 3
        - 4
    GenerateCodeDto:
      type: object
      properties:
        cellphone:
          type: string
          description: User cellphone number
          example: "1234567890"
        countryPhoneCode:
          type: string
          description: Country phone code
          example: "+1"
        verificationType:
          description: Type of verification
          example: 2
          allOf:
            - $ref: "#/components/schemas/VerificationType"
        channel:
          description: Channel for sending the code
          example: 2
          allOf:
            - $ref: "#/components/schemas/CodeChannel"
      required:
        - cellphone
        - countryPhoneCode
        - verificationType
        - channel
    GenerateCodeResponseDto:
      type: object
      properties:
        result:
          type: string
          example: VERIFICATION_CODE_WAS_SENT_TO
      required:
        - result
    PhoneCodeVerificationDto:
      type: object
      properties:
        userId:
          type: number
          description: User ID
          example: 123
        code:
          type: string
          description: Verification code sent to the user
          example: "123456"
        channel:
          description: Channel used for verification
          example: 2
          allOf:
            - $ref: "#/components/schemas/CodeChannel"
      required:
        - userId
        - code
        - channel
    FirebaseTokenDto:
      type: object
      properties:
        customToken:
          type: string
          description: A short-lived Firebase custom token for client-side sign-in.
          example: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...
      required:
        - customToken
    UserInfoResponseDto:
      type: object
      properties:
        id:
          type: number
          example: 24223
        name:
          type: string
          example: John Doe
        email:
          type: string
          example: john.doe@example.com
        cellphone:
          type: string
          example: "1234567890"
        countryPhoneCode:
          type: string
          example: "+1"
        phoneVerified:
          type: boolean
          example: true
        orderingAccessToken:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
      required:
        - id
        - name
        - email
        - cellphone
        - countryPhoneCode
        - phoneVerified
        - orderingAccessToken
    GetUserInfoResponseDto:
      type: object
      properties:
        userInfo:
          $ref: "#/components/schemas/UserInfoResponseDto"
        accessToken:
          type: string
          example: JWT-TOKEN-HERE
        refreshToken:
          type: string
          example: REFRESH-TOKEN-HERE
      required:
        - userInfo
        - accessToken
        - refreshToken
    BusinessLoyaltyPlan:
      type: object
      properties:
        id:
          type: number
          description: Unique identifier for the business loyalty plan
          example: 1
        business_id:
          type: number
          description: ID of the business this loyalty plan belongs to
          example: 100
        loyalty_plan_id:
          type: number
          description: ID of the associated loyalty plan
          example: 5
        redeems:
          type: boolean
          description: Whether points can be redeemed in this plan
          example: true
        accumulates:
          type: boolean
          description: Whether points can be accumulated in this plan
          example: true
        redemption_rate:
          type: number
          description: The rate at which points can be redeemed (null if not applicable)
          example: 0.1
          nullable: true
        accumulation_rate:
          type: number
          description: The rate at which points are accumulated per dollar spent (null if
            not applicable)
          example: 0.05
          nullable: true
        maximum_redemption_type:
          type: string
          description: Type of maximum redemption limit
          nullable: true
        maximum_redemption_rate:
          type: number
          description: Maximum redemption rate if applicable
          nullable: true
        maximum_accumulation:
          type: number
          description: Maximum points that can be accumulated
          nullable: true
        expire_after_minutes:
          type: number
          description: Time in minutes after which points expire
          nullable: true
          example: 43200
      required:
        - id
        - business_id
        - loyalty_plan_id
        - redeems
        - accumulates
        - redemption_rate
        - accumulation_rate
        - maximum_redemption_type
        - maximum_redemption_rate
        - maximum_accumulation
        - expire_after_minutes
    BusinessDetail:
      type: object
      properties:
        address:
          type: string
          description: Legal business address
          example: Helsinki, Finland
        identityCode:
          type: string
          description: Business Identity Code
          example: "12345678"
          nullable: true
        timezone:
          type: string
          description: Timezone of the business
          example: Europe/Helsinki
      required:
        - address
        - identityCode
        - timezone
    BusinessInfoResponseDto:
      type: object
      properties:
        businessId:
          type: number
          description: The ID of the business
          example: 351
        businessName:
          type: string
          description: The name of the business
          example: Juicy Burger
        logoUrl:
          type: string
          description: The URL of the business logo
          example: https://res.cloudinary.com/or.........png
          nullable: true
        phone:
          type: string
          description: The phone of the business
          example: "12344567"
          nullable: true
        loyaltyPlan:
          description: The loyalty plan of the business
          example:
            id: 12345
            business_id: 789
            loyalty_plan_id: 456
            redeems: true
            accumulates: true
            redemption_rate: 0.1
            accumulation_rate: 0.05
            maximum_redemption_type: null
            maximum_redemption_rate: null
            maximum_accumulation: null
            expire_after_minutes: null
          nullable: true
          allOf:
            - $ref: "#/components/schemas/BusinessLoyaltyPlan"
        detail:
          description: Business details
          example:
            address: Arkadiankatu 10b, 00100 Helsinki, Finland
            identityCode: 1234567-8
            timezone: Europe/Helsinki
          allOf:
            - $ref: "#/components/schemas/BusinessDetail"
        businessEmail:
          type: string
          description: Email address of the business
          example: hello@test.com
          nullable: true
      required:
        - businessId
        - businessName
        - logoUrl
        - loyaltyPlan
        - detail
        - businessEmail
    UserValidation:
      type: object
      properties:
        phone:
          type: string
      required:
        - phone
    WalletDto:
      type: object
      properties:
        id:
          type: number
          description: The ID of the wallet
          example: 1001
        code:
          type: string
          description: Unique code for the wallet
          example: wallet123abc456def789
        user_id:
          type: number
          description: The ID of the user who owns this wallet
          example: 12345
        balance:
          type: number
          description: Current balance in the wallet
          example: 100.5
        locked:
          type: boolean
          description: Whether the wallet is locked
          example: false
        locked_reason:
          type: object
          description: Reason for locking the wallet, if applicable
          example: null
          nullable: true
        locked_at:
          type: object
          description: Timestamp when the wallet was locked, if applicable
          example: null
          nullable: true
        created_at:
          type: string
          description: Timestamp when the wallet was created
          example: 2024-01-01 10:00:00
        updated_at:
          type: string
          description: Timestamp when the wallet was last updated
          example: 2024-03-15 15:30:00
        type:
          type: string
          description: Type of wallet (e.g., cash, credit_point)
          example: cash
      required:
        - id
        - code
        - user_id
        - balance
        - locked
        - locked_reason
        - locked_at
        - created_at
        - updated_at
        - type
    LoyaltyUserDto:
      type: object
      properties:
        id:
          type: number
          description: The ID of the user
          example: 12345
        phone:
          type: object
          description: The landline phone number of the user
          example: null
          nullable: true
        cellphone:
          type: string
          description: The mobile phone number of the user
          example: "5551234567"
        name:
          type: string
          description: The first name of the user
          example: John
        lastname:
          type: string
          description: The last name of the user
          example: Doe
        level:
          type: number
          description: The level of the user
          example: 3
        enabled:
          type: boolean
          description: Whether the user account is enabled
          example: true
        address:
          type: object
          description: The address of the user
          example: null
          nullable: true
        loyalty_level_points:
          type: number
          description: Loyalty points accumulated by the user
          example: 150
        country_code:
          type: string
          description: Country code of the user
          example: "01"
        orders_count:
          type: number
          description: Number of orders placed by the user
          example: 10
        photo:
          type: object
          description: URL to the user's profile photo
          example: null
          nullable: true
        wallets:
          description: List of wallets associated with the user
          type: array
          items:
            $ref: "#/components/schemas/WalletDto"
      required:
        - id
        - phone
        - cellphone
        - name
        - lastname
        - level
        - enabled
        - address
        - loyalty_level_points
        - country_code
        - orders_count
        - photo
        - wallets
    RewardPointPayload:
      type: object
      properties:
        amount:
          type: string
          description: 'The amount of credit to add (positive value) or deduct (negative
            value). Examples: "+20" to add 20 points, "-20" to deduct 20 points,
            "+100" for large additions, "-5" for small deductions.'
          example: "20"
        businessId:
          type: number
          description: The business ID associated with the reward points
          example: 1
      required:
        - amount
        - businessId
    DeviceSubscriptionDto:
      type: object
      properties:
        oneSignalId:
          type: string
          description: OneSignal Device ID
          example: f47ac10b-58cc-4372-a567-0e02b2c3d479
        hardwareId:
          type: string
          description: Hardware ID of the device
          example: HWID-1234567890
        businessIds:
          description: List of business IDs to subscribe/unsubscribe
          example:
            - 101
            - 202
            - 303
          type: array
          items:
            type: number
      required:
        - oneSignalId
        - hardwareId
        - businessIds
    ProviderEnum:
      type: string
      enum:
        - Wolt
        - MunchiOnline
        - MunchiKiosk
        - MunchiPos
        - UberEats
        - Foodora
        - Bolt
        - MunchiKioskV2
        - Kiosk
    RejectOrderDto:
      type: object
      properties:
        orderId:
          type: string
          description: Unique identifier for the order
        orderingBusinessId:
          type: number
          description: ID of the business updating the order
        provider:
          description: Name of the provider handling the order
          allOf:
            - $ref: "#/components/schemas/ProviderEnum"
        reason:
          type: string
          description: Reason for rejecting the order
      required:
        - orderId
        - orderingBusinessId
        - provider
        - reason
    PaymentTypeEnum:
      type: string
      enum:
        - cash
        - card
    OrderStatusEnum:
      type: string
      enum:
        - pending
        - in_progress
        - ready
        - delivered
        - rejected
        - pick_up_by_driver
        - preorder
        - accept_by_driver
        - parked
        - refunded
        - draft
    Type:
      type: string
      enum:
        - instant
        - preorder
    PaymentStatus:
      type: string
      enum:
        - paid
        - pending
    OrderType:
      type: string
      enum:
        - delivery
        - pick_up
        - dine_in
    CustomerDto:
      type: object
      properties:
        id:
          type: string
          description: Customer ID
        email:
          type: string
          description: Customer email
          nullable: true
        name:
          type: string
          description: Customer name
        phone:
          type: string
          description: Customer phone
          nullable: true
      required:
        - id
        - email
        - name
        - phone
    DeliveryStatus:
      type: string
      enum:
        - none
        - pickup_eta_updated
        - pickup_started
        - picked_up
        - dropoff_started
        - dropoff_completed
        - delivered
        - dropoff_eta_updated
    DeliveryType:
      type: string
      enum:
        - self_delivery
        - home_delivery
    CoordinateDto:
      type: object
      properties:
        id:
          type: string
          description: Coordinate ID
        lat:
          type: number
          description: Latitude
        lon:
          type: number
          description: Longitude
      required:
        - id
        - lat
        - lon
    LocationDto:
      type: object
      properties:
        id:
          type: string
          description: Location ID
        formatted_address:
          type: string
          description: Formatted address
          nullable: true
        city:
          type: string
          description: City
          nullable: true
        country:
          type: string
          description: Country
          nullable: true
        coordinates:
          description: Coordinates
          nullable: true
          allOf:
            - $ref: "#/components/schemas/CoordinateDto"
      required:
        - id
        - formatted_address
        - city
        - country
        - coordinates
    DeliveryDto:
      type: object
      properties:
        id:
          type: string
          description: Delivery ID
        selfDelivery:
          type: boolean
          description: Self delivery flag
          nullable: true
        note:
          type: string
          description: Delivery note
          nullable: true
        status:
          description: Delivery status
          allOf:
            - $ref: "#/components/schemas/DeliveryStatus"
        type:
          description: Delivery type
          allOf:
            - $ref: "#/components/schemas/DeliveryType"
        location:
          description: Delivery location details
          nullable: true
          allOf:
            - $ref: "#/components/schemas/LocationDto"
        deliveryFee:
          type: number
          description: Delivery fee
      required:
        - id
        - selfDelivery
        - note
        - status
        - type
        - location
        - deliveryFee
    DiscountDto:
      type: object
      properties:
        id:
          type: string
          description: Discount ID
        discountName:
          type: string
          description: Name of the discount
        discountAmount:
          type: number
          description: Amount of discount
        createdAt:
          format: date-time
          type: string
          description: Creation date of the discount
      required:
        - id
        - discountName
        - discountAmount
        - createdAt
    PreorderStatus:
      type: string
      enum:
        - waiting
        - confirm
    PreorderDto:
      type: object
      properties:
        id:
          type: string
          description: Preorder ID
        status:
          description: Preorder status
          allOf:
            - $ref: "#/components/schemas/PreorderStatus"
        preorderTime:
          type: string
          description: Preorder time
          nullable: true
      required:
        - id
        - status
        - preorderTime
    PriceSummaryDto:
      type: object
      properties:
        id:
          type: string
          description: Price summary ID
        totalNet:
          type: number
          description: Total net amount
      required:
        - id
        - totalNet
    SubOptionDto:
      type: object
      properties:
        id:
          type: string
          description: SubOption ID
        externalId:
          type: string
          description: SubOption external ID
        name:
          type: string
          description: SubOption name
        quantity:
          type: number
          description: Quantity of suboption
        paidPrice:
          type: number
          description: Paid price of suboption
        unitPrice:
          type: number
          description: Unit price of suboption
      required:
        - id
        - externalId
        - name
        - quantity
        - paidPrice
        - unitPrice
    OptionDto:
      type: object
      properties:
        id:
          type: string
          description: Option ID
        externalId:
          type: string
          description: Option external ID
        name:
          type: string
          description: Option name
        image:
          type: string
          description: Option image
          nullable: true
        subOptions:
          description: List of sub options
          type: array
          items:
            $ref: "#/components/schemas/SubOptionDto"
      required:
        - id
        - externalId
        - name
        - image
        - subOptions
    ProductDto:
      type: object
      properties:
        id:
          type: string
          description: Product ID
        externalId:
          type: string
          description: Product external ID
        name:
          type: string
          description: Product name
        quantity:
          type: number
          description: Quantity of product
        unitPrice:
          type: number
          description: Unit price of product
        paidPrice:
          type: number
          description: Paid price of product
        comment:
          type: string
          description: Comment for the product
          nullable: true
        customField:
          type: object
          description: Custom fields for the product
          nullable: true
          example:
            isBar: false
        kitchenStatus:
          type: string
          description: Kitchen status of the product
          nullable: true
          example: pending
        options:
          description: List of product options
          type: array
          items:
            $ref: "#/components/schemas/OptionDto"
      required:
        - id
        - externalId
        - name
        - quantity
        - unitPrice
        - paidPrice
        - comment
        - customField
        - kitchenStatus
        - options
    BusinessDto:
      type: object
      properties:
        id:
          type: string
          description: Unique identifier of the business
        name:
          type: string
          description: Name of the business
        logo:
          type: string
          description: Logo of the business
        email:
          type: string
          description: Email of the business
        address:
          type: string
          description: Address of the business
        createdAt:
          format: date-time
          type: string
          description: Creation date of the business
        timeZone:
          type: string
          description: Time zone of the business
        currency:
          type: string
          description: Currency used by the business
        phone:
          type: string
          description: Phone number of the business
        orderingBusinessId:
          type: number
          description: Ordering business identifier
        bic:
          type: string
          description: BIC/SWIFT code of the business
          nullable: true
        enabled:
          type: boolean
          description: Whether the business is enabled
        chainId:
          type: string
        merchantId:
          type: string
      required:
        - id
        - name
        - logo
        - createdAt
        - timeZone
        - currency
        - orderingBusinessId
        - bic
        - enabled
    PaymentProvider:
      type: string
      enum:
        - stripe
        - viva
        - nets
    RefundStatusEnum:
      type: string
      enum:
        - PENDING
        - SUCCESS
        - FAILED
        - CANCELED
    RefundDto:
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the refund
        referenceId:
          type: string
          description: Reference ID for the refund
        originalReferenceId:
          type: string
          description: Original reference ID
        providerRefundId:
          type: string
          description: Provider refund ID
        paymentProvider:
          description: Payment provider
          allOf:
            - $ref: "#/components/schemas/PaymentProvider"
        amount:
          type: string
          description: Refund amount
        currency:
          type: string
          description: Currency code
          example: EUR
        status:
          description: Refund status
          allOf:
            - $ref: "#/components/schemas/RefundStatusEnum"
        processedAt:
          format: date-time
          type: string
          description: Date when the refund was processed
        orderExternalId:
          type: string
          description: External order ID
      required:
        - id
        - referenceId
        - originalReferenceId
        - providerRefundId
        - paymentProvider
        - amount
        - currency
        - status
        - processedAt
        - orderExternalId
    OrderResponseDto:
      type: object
      properties:
        id:
          type: string
          description: Order ID
        externalId:
          type: string
          description: External order identifier
        createdAt:
          format: date-time
          type: string
          description: Creation date of the order
        acceptedAt:
          type: string
          description: Accepted time of the order
          nullable: true
        paymentType:
          description: Payment type of the order
          allOf:
            - $ref: "#/components/schemas/PaymentTypeEnum"
        pickupEta:
          type: string
          description: Estimated pickup time
          nullable: true
        deliveryEta:
          type: string
          description: Estimated delivery time
          nullable: true
        customerComment:
          type: string
          description: Additional comment from the customer
          example: Please deliver to the back door
          nullable: true
        dineInNumber:
          type: string
          example: "25"
          nullable: true
        preparedIn:
          type: number
          description: Preparation time in minutes
          nullable: true
        status:
          description: Order status
          allOf:
            - $ref: "#/components/schemas/OrderStatusEnum"
        orderNumber:
          type: string
          description: Order Number
        type:
          description: Type of the order
          allOf:
            - $ref: "#/components/schemas/Type"
        expiryDate:
          type: string
          description: Expiry date of the order
          nullable: true
        paymentStatus:
          description: Payment status of the order
          allOf:
            - $ref: "#/components/schemas/PaymentStatus"
        orderType:
          description: Order type (Delivery, Pick_Up, Dine_In)
          allOf:
            - $ref: "#/components/schemas/OrderType"
        updatedAt:
          type: string
          description: Last update date of the order
        rejectedReason:
          type: string
          description: Reason for rejection if applicable
          nullable: true
        provider:
          description: Provider of the order
          allOf:
            - $ref: "#/components/schemas/ProviderEnum"
        orderingBusinessId:
          type: number
          description: Ordering business identifier
        customer:
          description: Customer details
          nullable: true
          allOf:
            - $ref: "#/components/schemas/CustomerDto"
        delivery:
          description: Delivery details
          nullable: true
          allOf:
            - $ref: "#/components/schemas/DeliveryDto"
        discounts:
          description: List of discounts
          nullable: true
          type: array
          items:
            $ref: "#/components/schemas/DiscountDto"
        preorder:
          description: Preorder details
          nullable: true
          allOf:
            - $ref: "#/components/schemas/PreorderDto"
        priceSummary:
          description: Price summary details
          nullable: true
          allOf:
            - $ref: "#/components/schemas/PriceSummaryDto"
        products:
          description: List of products
          type: array
          items:
            $ref: "#/components/schemas/ProductDto"
        business:
          description: Business details
          nullable: true
          allOf:
            - $ref: "#/components/schemas/BusinessDto"
        refunds:
          description: List of refunds associated with the order
          type: array
          items:
            $ref: "#/components/schemas/RefundDto"
      required:
        - id
        - externalId
        - createdAt
        - acceptedAt
        - pickupEta
        - deliveryEta
        - customerComment
        - dineInNumber
        - preparedIn
        - status
        - orderNumber
        - type
        - expiryDate
        - paymentStatus
        - orderType
        - updatedAt
        - rejectedReason
        - provider
        - orderingBusinessId
        - customer
        - delivery
        - discounts
        - preorder
        - priceSummary
        - products
        - business
    OrderStatusResponseDto:
      type: object
      properties:
        message:
          type: string
          example: order-status-accepted
          description: Message indicating order status accepted
        error:
          type: boolean
          example: false
          description: Indicates if there was an error processing the order
          default: false
        order:
          description: order data
          allOf:
            - $ref: "#/components/schemas/OrderResponseDto"
      required:
        - message
        - error
        - order
    AcceptOrderDto:
      type: object
      properties:
        orderId:
          type: string
          description: Unique identifier for the order
        orderingBusinessId:
          type: number
          description: ID of the business updating the order
        provider:
          description: Name of the provider handling the order
          allOf:
            - $ref: "#/components/schemas/ProviderEnum"
        preparedIn:
          type: number
          description: Time of acceptance if applicable
          example: "40"
      required:
        - orderId
        - orderingBusinessId
        - provider
    ReadyOrderDto:
      type: object
      properties:
        orderId:
          type: string
          description: Unique identifier for the order
        orderingBusinessId:
          type: number
          description: ID of the business updating the order
        provider:
          description: Name of the provider handling the order
          allOf:
            - $ref: "#/components/schemas/ProviderEnum"
      required:
        - orderId
        - orderingBusinessId
        - provider
    DeliveredOrderDto:
      type: object
      properties:
        orderId:
          type: string
          description: Unique identifier for the order
        orderingBusinessId:
          type: number
          description: ID of the business updating the order
        provider:
          description: Name of the provider handling the order
          allOf:
            - $ref: "#/components/schemas/ProviderEnum"
      required:
        - orderId
        - orderingBusinessId
        - provider
    ConfirmPreorderDto:
      type: object
      properties:
        orderId:
          type: string
          description: Unique identifier for the order
        orderingBusinessId:
          type: number
          description: ID of the business updating the order
        provider:
          description: Name of the provider handling the order
          allOf:
            - $ref: "#/components/schemas/ProviderEnum"
        preparedIn:
          type: number
          description: Time of acceptance if applicable
          example: "30"
      required:
        - orderId
        - orderingBusinessId
        - provider
        - preparedIn
    RegisterProviderDto:
      type: object
      properties: {}
    RegisterCredentialDto:
      type: object
      properties: {}
    SupportedChannelDto:
      type: object
      properties:
        channel:
          example: MunchiPos
          allOf:
            - $ref: "#/components/schemas/ProviderEnum"
        label:
          type: string
          example: Munchi POS
      required:
        - channel
        - label
    GetSupportedChannelsResponseDto:
      type: object
      properties:
        channels:
          type: array
          items:
            $ref: "#/components/schemas/SupportedChannelDto"
      required:
        - channels
    TerminalValidationResponseDto:
      type: object
      properties:
        isValid:
          type: boolean
          description: Is valid terminal id or not for the current user session
      required:
        - isValid
    SimplePaymentStatus:
      type: string
      enum:
        - PENDING
        - SUCCESS
        - FAILED
    PaymentFailureCode:
      type: string
      enum:
        - payment.aborted
        - payment.cancelled_by_user
        - payment.insufficient_funds
        - payment.card_expired
        - payment.card_invalid
        - payment.pin_error
        - payment.declined
        - terminal.offline
        - terminal.timeout
        - terminal.busy
        - system.provider_error
        - system.unknown
    PaymentErrorDto:
      type: object
      properties:
        code:
          example: payment.declined
          allOf:
            - $ref: "#/components/schemas/PaymentFailureCode"
        retryable:
          type: boolean
          example: true
        message:
          type: string
          example: Insufficient Funds
        timestamp:
          format: date-time
          type: string
          description: When this error occurred
        referenceError:
          type: string
          description: Reference error from provider
      required:
        - code
        - retryable
        - message
        - timestamp
    PaymentMethod:
      type: string
      enum:
        - Cash
        - Card
        - Voucher
        - EPassi
        - Edenred
        - Munchi
        - Flatpay
        - GiftUp
        - MobilePay
        - CardManual
        - EdenredManual
        - EmployeeDiscount
        - LunchVoucher
        - EdenredVoucher
        - SmartumVoucher
        - Invoice
        - Smartum
        - GiftCard
        - Debit
        - Credit
        - GiftCardManual
        - WoltBenefit
        - Fundis
    CardDetailDto:
      type: object
      properties:
        cardType:
          type: string
        cardNumber:
          type: string
        aid:
          type: string
          nullable: true
        orderCode:
          type: string
          nullable: true
        transactionId:
          type: string
        timestamp:
          type: string
        applicationLabel:
          type: string
          nullable: true
        issuer:
          type: string
          nullable: true
      required:
        - cardType
        - cardNumber
        - aid
        - orderCode
        - transactionId
        - timestamp
        - applicationLabel
        - issuer
    TransactionDto:
      type: object
      properties:
        id:
          type: string
        referenceId:
          type: string
          nullable: true
        provider:
          allOf:
            - $ref: "#/components/schemas/PaymentProvider"
        type:
          allOf:
            - $ref: "#/components/schemas/PaymentMethod"
        amount:
          type: number
          description: Amount paid in cents
          example: 5000
        roundingDifference:
          type: number
          description: Difference from cash rounding in cents
          example: 4
        rawData:
          type: object
          description: Raw data from payment provider
        createdAt:
          format: date-time
          type: string
        cardDetail:
          description: Details about the cart, optional
          nullable: true
          allOf:
            - $ref: "#/components/schemas/CardDetailDto"
        voucherForfeitedAmount:
          type: number
          description: The monetary amount of the voucher value that was *not* used and
            *not* refunded to the customer (i.e., the overage). This is
            applicable only when a voucher is used and its value exceeds the
            order total.
          example: 4
          nullable: true
        lineItemIds:
          description: The specific line items this transaction paid for. If null or
            empty, it was a pooled payment against the total bill.
          nullable: true
          type: array
          items:
            type: string
        splitPartId:
          type: string
          description: The specific split part this transaction paid for. If null, it was
            not a payment for a split part.
          nullable: true
        label:
          type: string
          description: Indicates whether this transaction was processed as a
            pre-authorization.
          example: Edenred_Voucher_13.00
          nullable: true
      required:
        - id
        - referenceId
        - provider
        - type
        - amount
        - roundingDifference
        - rawData
        - createdAt
        - cardDetail
        - label
    PaymentStatusDto:
      type: object
      properties:
        status:
          allOf:
            - $ref: "#/components/schemas/SimplePaymentStatus"
        orderId:
          type: string
        transactionId:
          type: string
          description: Provider Transaction ID
        error:
          $ref: "#/components/schemas/PaymentErrorDto"
        transaction:
          description: The full transaction object. Used for POS optimistic updates.
          allOf:
            - $ref: "#/components/schemas/TransactionDto"
      required:
        - status
        - orderId
    CreateKioskDto:
      type: object
      properties:
        kioskId:
          type: string
          example: abcde
        businessId:
          type: number
          example: 351
          description: Ordering business ID
        name:
          type: string
          example: Summer Sale 10%
        prefix:
          type: string
          example: A
          description: Prefix for kiosk when create order
        paymentTerminalId:
          type: string
          example: abcde
        provider:
          description: The provider of the payment terminal (e.g., Stripe, Adyen).
          example: stripe
          allOf:
            - $ref: "#/components/schemas/PaymentProvider"
      required:
        - kioskId
        - businessId
        - prefix
        - paymentTerminalId
        - provider
    Status:
      type: string
      enum:
        - ACTIVE
        - INACTIVE
    TerminalConnectionType:
      type: string
      enum:
        - NETWORK
    LinkedStationDto:
      type: object
      properties:
        id:
          type: string
          example: cuid123456
        name:
          type: string
          example: Kitchen Station 1
        hardwareId:
          type: string
          example: station-tablet-001
        status:
          example: ACTIVE
          allOf:
            - $ref: "#/components/schemas/Status"
      required:
        - id
        - name
        - hardwareId
        - status
    PaymentTerminalDto:
      type: object
      properties:
        id:
          type: string
          description: The unique ID of the Payment Terminal.
          example: terminal-xyz-7890
        hardwareId:
          type: string
          description: The unique ID of the Payment Terminal.
          example: terminal-xyz-7890
        label:
          type: string
          description: The unique ID of the Payment Terminal.
          example: terminal-xyz-7890
          nullable: true
        connectionType:
          description: The connection type of the Payment Terminal.
          example: NETWORK
          allOf:
            - $ref: "#/components/schemas/TerminalConnectionType"
        orderingBusinessId:
          type: string
          description: The unique ID of the Payment Terminal.
          example: terminal-xyz-7890
        provider:
          description: The unique ID of the Payment Terminal.
          example: terminal-xyz-7890
          allOf:
            - $ref: "#/components/schemas/PaymentProvider"
        updatedAt:
          type: string
          description: Timestamp when the payment terminal record was last updated.
        stations:
          description: List of stations connected to this terminal.
          type: array
          items:
            $ref: "#/components/schemas/LinkedStationDto"
      required:
        - id
        - hardwareId
        - label
        - connectionType
        - orderingBusinessId
        - provider
        - updatedAt
        - stations
    KioskDetailsDto:
      type: object
      properties:
        id:
          type: string
          description: The unique ID of the Kiosk.
          example: kiosk-2345
        hardwareId:
          type: string
          description: The unique ID of the Kiosk hardware.
          example: kiosk-2345
        paymentTerminalId:
          type: string
          description: The unique ID of the payment terminal connected to this kiosk, or
            null if unassigned.
          example: terminal-xyz-7890
          nullable: true
        name:
          type: string
          description: The display name of the Kiosk.
          example: Main Entrance Kiosk
        status:
          description: The status of the Kiosk.
          example: ACTIVE
          allOf:
            - $ref: "#/components/schemas/Status"
        prefix:
          type: string
          description: The prefix used by the kiosk when creating orders.
          example: K
        orderingBusinessId:
          type: number
          description: The business ID the kiosk is registered to.
          example: 351
        createdAt:
          type: string
          description: Timestamp when the kiosk record was created.
          format: date-time
        updatedAt:
          type: string
          description: Timestamp when the kiosk record was last updated.
          format: date-time
        paymentTerminal:
          description: The payment terminal connected to this kiosk, or null if unassigned.
          nullable: true
          allOf:
            - $ref: "#/components/schemas/PaymentTerminalDto"
      required:
        - id
        - hardwareId
        - paymentTerminalId
        - name
        - status
        - prefix
        - orderingBusinessId
        - createdAt
        - updatedAt
        - paymentTerminal
    TerminalDetailsDto:
      type: object
      properties:
        id:
          type: string
          description: The unique ID of the payment terminal.
          example: terminal-abc-1234
        hardwareId:
          type: string
          description: The hardware ID provided by the payment service provider.
          example: HW-0012345678
        provider:
          description: The provider of the payment terminal (e.g., Stripe, Adyen).
          example: ADAPTER
          allOf:
            - $ref: "#/components/schemas/PaymentProvider"
        label:
          type: string
          description: An optional human-readable label for the terminal.
          example: Front Counter Terminal
          nullable: true
        orderingBusinessId:
          type: number
          description: The business ID the terminal is registered to.
          example: 351
        createdAt:
          type: string
          description: Timestamp when the terminal record was created.
          example: 2024-01-15T10:20:30Z
        updatedAt:
          type: string
          description: Timestamp when the terminal record was last updated.
          example: 2024-01-15T10:20:30Z
      required:
        - id
        - hardwareId
        - provider
        - label
        - orderingBusinessId
        - createdAt
        - updatedAt
    CheckInResponseDto:
      type: object
      properties:
        kiosk:
          description: Details of the Kiosk that was either fetched or created.
          allOf:
            - $ref: "#/components/schemas/KioskDetailsDto"
        terminal:
          description: Details of the Payment Terminal connected to the Kiosk.
          allOf:
            - $ref: "#/components/schemas/TerminalDetailsDto"
      required:
        - kiosk
        - terminal
    KioskResponseDto:
      type: object
      properties:
        kiosk:
          description: The kiosk details.
          nullable: true
          allOf:
            - $ref: "#/components/schemas/KioskDetailsDto"
      required:
        - kiosk
    CurrencyCode:
      type: string
      enum:
        - EUR
        - GBP
        - CHF
        - SEK
        - NOK
        - DKK
        - PLN
        - CZK
        - HUF
        - RON
        - BGN
        - HRK
        - ISK
        - RSD
        - TRY
        - UAH
        - RUB
        - ALL
        - MKD
        - MDL
        - BAM
        - AED
    PosBusinessDto:
      type: object
      properties:
        orderingBusinessId:
          type: string
        name:
          type: string
        address:
          type: string
          nullable: true
        email:
          type: string
          nullable: true
        companyName:
          type: string
          nullable: true
        companyPhone:
          type: string
          nullable: true
        timezone:
          type: string
        bic:
          type: string
          nullable: true
      required:
        - orderingBusinessId
        - name
        - address
        - email
        - companyName
        - companyPhone
        - timezone
        - bic
    OrderTypePOS:
      type: string
      enum:
        - dine_in
        - pick_up
    OrderRefundStatus:
      type: string
      enum:
        - NONE
        - PARTIAL
        - FULL
    LocatorType:
      type: string
      enum:
        - table
        - indicator
    MoneyDto:
      type: object
      properties:
        amount:
          type: number
          description: Amount in the smallest currency unit (e.g., cents)
          example: 1250
        currency:
          type: string
          description: The ISO 4217 currency code
          example: EUR
      required:
        - amount
        - currency
    PriceBreakdownDto:
      type: object
      properties:
        totalBeforeDiscounts:
          $ref: "#/components/schemas/MoneyDto"
        subtotalItemDiscounts:
          $ref: "#/components/schemas/MoneyDto"
        subtotalBasketDiscounts:
          $ref: "#/components/schemas/MoneyDto"
        totalDiscounts:
          $ref: "#/components/schemas/MoneyDto"
      required:
        - totalBeforeDiscounts
        - subtotalItemDiscounts
        - subtotalBasketDiscounts
        - totalDiscounts
    PosOrderPriceDto:
      type: object
      properties:
        priceBreakdown:
          $ref: "#/components/schemas/PriceBreakdownDto"
        total:
          $ref: "#/components/schemas/MoneyDto"
      required:
        - priceBreakdown
        - total
    ItemPriceBreakdownDto:
      type: object
      properties:
        totalBeforeDiscounts:
          $ref: "#/components/schemas/MoneyDto"
        subtotalItemDiscounts:
          $ref: "#/components/schemas/MoneyDto"
        subtotalBasketDiscounts:
          $ref: "#/components/schemas/MoneyDto"
        totalDiscounts:
          $ref: "#/components/schemas/MoneyDto"
        basePriceBeforeDiscounts:
          $ref: "#/components/schemas/MoneyDto"
        unitPriceBeforeDiscounts:
          $ref: "#/components/schemas/MoneyDto"
        subtotalOptionsBasketDiscounts:
          $ref: "#/components/schemas/MoneyDto"
        subtotalOptionsItemDiscounts:
          $ref: "#/components/schemas/MoneyDto"
      required:
        - totalBeforeDiscounts
        - subtotalItemDiscounts
        - subtotalBasketDiscounts
        - totalDiscounts
        - basePriceBeforeDiscounts
        - unitPriceBeforeDiscounts
        - subtotalOptionsBasketDiscounts
        - subtotalOptionsItemDiscounts
    ItemPriceDto:
      type: object
      properties:
        unitPrice:
          $ref: "#/components/schemas/MoneyDto"
        basePrice:
          $ref: "#/components/schemas/MoneyDto"
        vatPercentage:
          type: number
        total:
          $ref: "#/components/schemas/MoneyDto"
        priceBreakdown:
          $ref: "#/components/schemas/ItemPriceBreakdownDto"
      required:
        - unitPrice
        - basePrice
        - vatPercentage
        - total
        - priceBreakdown
    KitchenStatus:
      type: string
      enum:
        - not_applicable
        - pending
        - on_hold
        - sent_to_om
        - dispatched_to_kitchen
        - completed
        - cancelled
    PosPaymentStatus:
      type: string
      enum:
        - unpaid
        - paying
        - paid
    DiscountType:
      type: string
      enum:
        - PERCENTAGE
        - FIXED
    DiscountScope:
      type: string
      enum:
        - ITEM
        - CART
    PosDiscountDto:
      type: object
      properties:
        id:
          type: string
        type:
          allOf:
            - $ref: "#/components/schemas/DiscountType"
        value:
          type: number
        lineItemId:
          type: string
          nullable: true
        scope:
          allOf:
            - $ref: "#/components/schemas/DiscountScope"
        name:
          type: string
          nullable: true
        createdAt:
          format: date-time
          type: string
        appliedAmount:
          $ref: "#/components/schemas/MoneyDto"
      required:
        - id
        - type
        - value
        - lineItemId
        - scope
        - name
        - createdAt
    PrinterTypeEnum:
      type: string
      enum:
        - KITCHEN
        - BAR
        - RECEIPT
        - CLOUD
    SuboptionPriceBreakdownDto:
      type: object
      properties:
        totalBeforeDiscounts:
          $ref: "#/components/schemas/MoneyDto"
        totalDiscounts:
          $ref: "#/components/schemas/MoneyDto"
        subtotalBasketDiscounts:
          $ref: "#/components/schemas/MoneyDto"
        subtotalItemDiscounts:
          $ref: "#/components/schemas/MoneyDto"
      required:
        - totalBeforeDiscounts
        - totalDiscounts
        - subtotalBasketDiscounts
        - subtotalItemDiscounts
    PosOrderSuboptionDto:
      type: object
      properties:
        id:
          type: string
        posId:
          type: string
        name:
          type: string
        taxRate:
          type: number
        price:
          $ref: "#/components/schemas/MoneyDto"
        quantity:
          type: number
        priceBreakdown:
          $ref: "#/components/schemas/SuboptionPriceBreakdownDto"
        value_pos_id:
          type: string
          nullable: true
      required:
        - id
        - posId
        - name
        - taxRate
        - price
        - quantity
        - priceBreakdown
        - value_pos_id
    PosOrderOptionDto:
      type: object
      properties:
        id:
          type: string
        posId:
          type: string
        name:
          type: string
        suboptions:
          type: array
          items:
            $ref: "#/components/schemas/PosOrderSuboptionDto"
      required:
        - id
        - posId
        - name
        - suboptions
    ReportingCategoryDto:
      type: object
      properties:
        id:
          type: number
          description: Reporting Category ID
          example: 1
        business_id:
          type: string
          description: Business ID
          example: "351"
        reporting_category_name:
          type: string
          description: Reporting Category Name
          example: Beverages
        index:
          type: number
          description: Index/Order
          example: 1
        created_at:
          type: string
          description: Created at timestamp
        updated_at:
          type: string
          description: Updated at timestamp
      required:
        - id
        - business_id
        - reporting_category_name
        - index
        - created_at
        - updated_at
    PosOrderItemDto:
      type: object
      properties:
        id:
          type: string
        lineItemId:
          type: string
        posId:
          type: string
        name:
          type: string
        basePrice:
          $ref: "#/components/schemas/MoneyDto"
        taxRate:
          type: number
        quantity:
          type: number
        itemPrice:
          $ref: "#/components/schemas/ItemPriceDto"
        kitchenStatus:
          allOf:
            - $ref: "#/components/schemas/KitchenStatus"
        paymentStatus:
          allOf:
            - $ref: "#/components/schemas/PosPaymentStatus"
        discount:
          nullable: true
          allOf:
            - $ref: "#/components/schemas/PosDiscountDto"
        isBundleOffer:
          type: boolean
        isAlcohol:
          type: boolean
        comments:
          type: string
          nullable: true
        logo:
          type: string
          nullable: true
        printerType:
          description: Printer type for the product
          example: BAR
          allOf:
            - $ref: "#/components/schemas/PrinterTypeEnum"
        options:
          type: array
          items:
            $ref: "#/components/schemas/PosOrderOptionDto"
        display_photo:
          type: boolean
          description: Whether the product has a display label
          example: false
          default: false
        reporting_category:
          description: Reporting category details
          nullable: true
          allOf:
            - $ref: "#/components/schemas/ReportingCategoryDto"
        category_id:
          type: number
          description: Category ID of the item
          example: 5
          nullable: true
      required:
        - id
        - lineItemId
        - posId
        - name
        - basePrice
        - taxRate
        - quantity
        - itemPrice
        - kitchenStatus
        - paymentStatus
        - discount
        - isBundleOffer
        - isAlcohol
        - comments
        - logo
        - options
        - category_id
    PosCustomerDto:
      type: object
      properties:
        id:
          type: number
          description: The unique identifier of the customer.
          example: 6
        first_name:
          type: string
          description: The customer's first name at the time of the order.
          example: John
          nullable: true
        last_name:
          type: string
          description: The customer's last name at the time of the order.
          example: Doe
          nullable: true
        email:
          type: string
          description: The primary email address of the customer.
          example: test@gmail.com
          nullable: true
        phone:
          type: string
          description: The primary phone number of the customer (without country code).
          example: "505346484"
          nullable: true
        country_code:
          type: string
          description: The customer's phone country code.
          example: "+358"
          nullable: true
        logo:
          type: string
          description: The logo of the customer.
          example: logo_url
          nullable: true
      required:
        - id
        - first_name
        - last_name
        - email
        - phone
        - country_code
        - logo
    PaymentProviderEnum:
      type: string
      enum:
        - stripe
        - viva
        - nets
    RefundedItemDto:
      type: object
      properties:
        id:
          type: string
          description: Unique ID for this refunded item record (response only)
          example: clxvf0q8g000008l0g1h2g3i4
          nullable: true
        lineItemId:
          type: string
          description: Reference to the unique line item from the original order
          example: p1s1der2pp0ym8oy0janwsg4
        itemId:
          type: string
          description: Reference to the general product's ID (e.g., SKU or posId)
          example: "15358"
        name:
          type: string
          description: Product name
          example: Deluxe Burger
        unitPrice:
          type: number
          description: The price of a single unit of this item at the time of refund
          example: 12.5
        quantity:
          type: number
          description: Quantity refunded for this item
          example: 1
        amount:
          type: number
          description: Total amount refunded for this line (quantity * unitPrice)
          example: 12.5
      required:
        - lineItemId
        - itemId
        - name
        - unitPrice
        - quantity
        - amount
    PaymentRefundDto:
      type: object
      properties:
        id:
          type: string
          description: Unique internal ID for this refund transaction
        refundId:
          type: string
          description: Unique internal ID for this refund transaction
        providerRefundId:
          type: string
          description: Refund ID from the payment provider (e.g., Stripe refund ID).
            Deprecated soon
        sourceTransactionId:
          type: string
          description: Refund ID from the payment provider V2 (e.g., Stripe refund ID)
          nullable: true
        originalPaymentId:
          type: string
          description: ID of the original payment being refunded
          nullable: true
          deprecated: true
        originalPaymentEventId:
          type: string
          description: ID of the original payment being refunded
          nullable: true
        paymentProvider:
          allOf:
            - $ref: "#/components/schemas/PaymentProviderEnum"
        amount:
          type: number
          description: The amount refunded
        currency:
          type: string
          description: Currency of the refund (ISO 4217 code, e.g., EUR)
        status:
          allOf:
            - $ref: "#/components/schemas/RefundStatusEnum"
        processedAt:
          format: date-time
          type: string
          description: Timestamp when the refund was processed
        reason:
          type: string
          description: Reason for the refund
          nullable: true
        items:
          description: Specific items refunded
          type: array
          items:
            $ref: "#/components/schemas/RefundedItemDto"
        type:
          allOf:
            - $ref: "#/components/schemas/PaymentMethod"
        metadata:
          type: object
          description: Additional metadata from the payment provider or system
          additionalProperties: true
      required:
        - id
        - refundId
        - providerRefundId
        - sourceTransactionId
        - paymentProvider
        - amount
        - currency
        - status
        - processedAt
    OrderFormat:
      type: string
      enum:
        - OPEN
        - INSTANT
    OrderTaxSummaryDto:
      type: object
      properties:
        taxRate:
          type: number
          description: Tax rate percentage
          example: 14
        totalWithoutTax:
          type: number
          description: Total without tax in cents
          example: 774
        totalTax:
          type: number
          description: Total tax amount in cents
          example: 95
        totalWithTax:
          type: number
          description: Total with tax in cents
          example: 869
      required:
        - taxRate
        - totalWithoutTax
        - totalTax
        - totalWithTax
    OrderTaxSummaryDetailedDto:
      type: object
      properties:
        taxSummaries:
          description: Tax breakdown by rate
          type: array
          items:
            $ref: "#/components/schemas/OrderTaxSummaryDto"
        totalWithoutTax:
          type: number
          description: Total without tax in cents
          example: 774
        totalTax:
          type: number
          description: Total tax amount in cents
          example: 95
        grandTotal:
          type: number
          description: Grand total in cents
          example: 869
      required:
        - taxSummaries
        - totalWithoutTax
        - totalTax
        - grandTotal
    InvoiceCompanyResponseDto:
      type: object
      properties:
        id:
          type: string
        businessId:
          type: number
        name:
          type: string
        email:
          type: string
        countryCode:
          type: string
        phone:
          type: string
        bic:
          type: string
        address:
          type: string
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
      required:
        - id
        - businessId
        - name
        - email
        - countryCode
        - phone
        - createdAt
        - updatedAt
    PosOrderDto:
      type: object
      properties:
        id:
          type: string
        businessId:
          type: string
        currency:
          allOf:
            - $ref: "#/components/schemas/CurrencyCode"
        business:
          $ref: "#/components/schemas/PosBusinessDto"
        createdAt:
          format: date-time
          type: string
        status:
          allOf:
            - $ref: "#/components/schemas/OrderStatusEnum"
        updatedAt:
          format: date-time
          type: string
        orderNumber:
          type: string
        orderType:
          allOf:
            - $ref: "#/components/schemas/OrderTypePOS"
        spotNumber:
          type: string
          nullable: true
        comments:
          type: string
          nullable: true
        staffId:
          type: string
          nullable: true
          description: Id of the staff in shift
        shiftId:
          type: string
          nullable: true
          description: Id of the shift
        orderRefundStatus:
          allOf:
            - $ref: "#/components/schemas/OrderRefundStatus"
        locatorType:
          allOf:
            - $ref: "#/components/schemas/LocatorType"
        basketPrice:
          $ref: "#/components/schemas/PosOrderPriceDto"
        items:
          type: array
          items:
            $ref: "#/components/schemas/PosOrderItemDto"
        discounts:
          type: array
          items:
            $ref: "#/components/schemas/PosDiscountDto"
        customer:
          nullable: true
          allOf:
            - $ref: "#/components/schemas/PosCustomerDto"
        paymentEvents:
          type: array
          items:
            $ref: "#/components/schemas/TransactionDto"
        refunds:
          type: array
          items:
            $ref: "#/components/schemas/PaymentRefundDto"
        version:
          type: string
          description: Data version code
        orderFormat:
          description: Order format (e.g., open, instant)
          allOf:
            - $ref: "#/components/schemas/OrderFormat"
        loyaltyProgramId:
          type: string
          description: The ID of the loyalty program active during this order.
          example: 68274e2987e02a582e0e697f
          nullable: true
        loyaltyTransactionIds:
          description: An array of loyalty transaction IDs related to this order.
          example:
            - loy-tx-12345
            - loy-tx-67890
          type: array
          items:
            type: string
        taxSummary:
          description: Tax breakdown for this order
          allOf:
            - $ref: "#/components/schemas/OrderTaxSummaryDetailedDto"
        staffName:
          type: string
          nullable: true
          description: Name of staff member who created the order
        invoiceCompany:
          nullable: true
          description: Invoice company information for this order
          allOf:
            - $ref: "#/components/schemas/InvoiceCompanyResponseDto"
        lastPaymentError:
          type: object
      required:
        - id
        - businessId
        - currency
        - business
        - createdAt
        - status
        - updatedAt
        - orderNumber
        - orderType
        - spotNumber
        - comments
        - staffId
        - shiftId
        - orderRefundStatus
        - locatorType
        - basketPrice
        - items
        - discounts
        - customer
        - paymentEvents
        - version
        - loyaltyProgramId
        - loyaltyTransactionIds
    PosUpdateOrderDto:
      type: object
      properties:
        orderId:
          type: string
          description: Unique identifier for the order
        orderingBusinessId:
          type: number
          description: ID of the business updating the order
        provider:
          description: Name of the provider handling the order
          allOf:
            - $ref: "#/components/schemas/ProviderEnum"
        status:
          description: New status of the order
          example: in_progress
          allOf:
            - $ref: "#/components/schemas/OrderStatusEnum"
        isTicket:
          type: boolean
          description: Whether the order is a ticket
          example: true
      required:
        - orderId
        - orderingBusinessId
        - provider
        - status
    SendPosOrderTicketDto:
      type: object
      properties:
        data:
          description: Order data
          allOf:
            - $ref: "#/components/schemas/PosOrderDto"
        businessId:
          type: string
          description: Business ID
        sendNotification:
          type: boolean
          description: Send notification to the business
      required:
        - data
        - businessId
    PosOrderPayloadDto:
      type: object
      properties:
        order:
          description: The finalized order data.
          allOf:
            - $ref: "#/components/schemas/PosOrderDto"
        businessId:
          type: number
          description: The business ID.
        sentToOm:
          type: boolean
          description: For sending to OM
        isTicket:
          type: boolean
          description: For sending to OM as a ticket
        sendNotification:
          type: boolean
          description: For sending notification to tablet
      required:
        - order
        - businessId
        - sentToOm
        - isTicket
    DeletePosOrderDto:
      type: object
      properties:
        businessId:
          type: number
          example: 1234
          description: Id of the business
        orderId:
          type: string
          description: Id of the order
      required:
        - businessId
        - orderId
    BusinessValidationResponseDto:
      type: object
      properties:
        isValid:
          type: boolean
          description: Is valid business id or not for the current user session
      required:
        - isValid
    MenuDto:
      type: object
      properties:
        id:
          type: string
          example: 24223
        name:
          type: string
          example: John Doe
        cid:
          example:
            - 1234
            - 4567
            - 7891
          type: array
          items:
            type: string
      required:
        - id
        - name
        - cid
    BusinessCategoryBodyDto:
      type: object
      properties:
        cid:
          description: Array of category IDs
          type: array
          items:
            type: number
      required:
        - cid
    OrderingItemExtraSubOptionDto:
      type: object
      properties:
        id:
          type: number
        name:
          type: string
        price:
          type: number
        image:
          type: string
          nullable: true
        rank:
          type: number
        description:
          type: string
          nullable: true
        max:
          type: number
        enabled:
          type: boolean
      required:
        - id
        - name
        - price
        - image
        - rank
        - description
        - max
        - enabled
    OrderingItemExtraOptionDto:
      type: object
      properties:
        id:
          type: number
        name:
          type: string
        image:
          type: string
          nullable: true
        min:
          type: number
        max:
          type: number
        rank:
          type: number
        allow_suboption_quantity:
          type: boolean
        limit_suboptions_by_max:
          type: boolean
        enabled:
          type: boolean
        suboptions:
          type: array
          items:
            $ref: "#/components/schemas/OrderingItemExtraSubOptionDto"
      required:
        - id
        - name
        - image
        - min
        - max
        - rank
        - allow_suboption_quantity
        - limit_suboptions_by_max
        - enabled
        - suboptions
    OrderingItemExtraDto:
      type: object
      properties:
        id:
          type: number
        name:
          type: string
        description:
          type: string
          nullable: true
        enabled:
          type: boolean
        rank:
          type: number
        options:
          type: array
          items:
            $ref: "#/components/schemas/OrderingItemExtraOptionDto"
      required:
        - id
        - name
        - description
        - enabled
        - rank
        - options
    ChannelConfig:
      type: object
      properties:
        channel:
          type: string
          example: Kiosk
          enum:
            - Wolt
            - MunchiOnline
            - MunchiKiosk
            - MunchiPos
            - UberEats
            - Foodora
            - Bolt
            - MunchiKioskV2
            - Kiosk
        quantity:
          type: number
          example: 10
        inventoried:
          type: boolean
          example: true
        enabled:
          type: boolean
          example: true
        external_id:
          type: string
          example: abc_1234
          nullable: true
      required:
        - channel
        - quantity
        - inventoried
        - enabled
    ExtendedProductDto:
      type: object
      properties:
        id:
          type: number
          example: 12345
          description: Product ID
        name:
          type: string
          example: Cheeseburger
          description: Product name
        price:
          type: number
          example: 9.99
          description: Product price
        description:
          type: string
          example: A delicious cheeseburger
          description: Product description
        images:
          type: string
          example: https://example.com/image.jpg
          description: Product image URL
        category_id:
          type: number
          example: 1
          description: Category ID the product belongs to
        inventoried:
          type: boolean
          example: true
          description: Whether the product is tracked for inventory
        quantity:
          type: number
          example: 10
          description: Available quantity if inventoried
        featured:
          type: boolean
          example: true
          description: Whether the product is marked as featured
        enabled:
          type: boolean
          example: true
          description: Whether the product is currently enabled
        upselling:
          type: boolean
          example: false
          description: Whether upselling is enabled for this product
        in_offer:
          type: boolean
          example: false
          description: Whether the product is part of an offer
        offer_price:
          type: object
          example: null
          nullable: true
          description: Offer price if applicable
        rank:
          type: number
          example: 1
          description: Display order rank of the product
        weight_unit:
          type: object
          example: g
          description: Weight unit (e.g., g, kg, ml)
        updated_at:
          type: string
          example: 2024-03-16T12:00:00Z
          description: Last update timestamp
        created_at:
          type: string
          example: 2024-03-16T12:00:00Z
          description: Product creation timestamp
        deleted_at:
          type: object
          example: null
          nullable: true
          description: Deletion timestamp if soft-deleted
        extras:
          description: List of product extras (e.g., toppings, add-ons)
          type: array
          items:
            $ref: "#/components/schemas/OrderingItemExtraDto"
        is_restricted:
          type: boolean
          example: true
          description: Whether the product is restricted
        tax:
          allOf: &a57
            - $ref: "#/components/schemas/BusinessTaxResponseDto"
          nullable: true
        colorCode:
          type: string
          description: Product color code in hex format
          example: "#FF5733"
        printer_type:
          description: Printer type for the product
          example: BAR
          allOf:
            - $ref: "#/components/schemas/PrinterTypeEnum"
        custom_color_code:
          type: string
          description: "Custom UI override color in hex, e.g., #RRGGBB"
          example: "#FF5733"
        display_photo:
          type: boolean
          description: Whether the product has a display label
          example: false
          default: false
        reporting_category:
          description: Reporting category details
          nullable: true
          allOf:
            - $ref: "#/components/schemas/ReportingCategoryDto"
        pos_inventoried:
          type: boolean
          description: Indicates if the product is inventoried in POS
          example: true
        pos_quantity:
          type: number
          description: Quantity of the product in POS
          example: 10
        channel_configs:
          description: Channel config of inventoried per product
          type: array
          items:
            $ref: "#/components/schemas/ChannelConfig"
            minLength: 2
      required:
        - id
        - name
        - price
        - description
        - images
        - category_id
        - inventoried
        - quantity
        - featured
        - enabled
        - upselling
        - in_offer
        - offer_price
        - rank
        - weight_unit
        - updated_at
        - created_at
        - deleted_at
        - extras
        - is_restricted
        - tax
        - pos_inventoried
        - pos_quantity
        - channel_configs
    OrderingCoProductDto:
      type: object
      properties:
        id:
          type: number
          example: 12345
          description: Product ID
        name:
          type: string
          example: Cheeseburger
          description: Product name
        price:
          type: number
          example: 9.99
          description: Product price
        description:
          type: string
          example: A delicious cheeseburger
          description: Product description
        images:
          type: string
          example: https://example.com/image.jpg
          description: Product image URL
        category_id:
          type: number
          example: 1
          description: Category ID the product belongs to
        inventoried:
          type: boolean
          example: true
          description: Whether the product is tracked for inventory
        quantity:
          type: number
          example: 10
          description: Available quantity if inventoried
        featured:
          type: boolean
          example: true
          description: Whether the product is marked as featured
        enabled:
          type: boolean
          example: true
          description: Whether the product is currently enabled
        upselling:
          type: boolean
          example: false
          description: Whether upselling is enabled for this product
        in_offer:
          type: boolean
          example: false
          description: Whether the product is part of an offer
        offer_price:
          type: object
          example: null
          nullable: true
          description: Offer price if applicable
        rank:
          type: number
          example: 1
          description: Display order rank of the product
        weight_unit:
          type: object
          example: g
          description: Weight unit (e.g., g, kg, ml)
        updated_at:
          type: string
          example: 2024-03-16T12:00:00Z
          description: Last update timestamp
        created_at:
          type: string
          example: 2024-03-16T12:00:00Z
          description: Product creation timestamp
        deleted_at:
          type: object
          example: null
          nullable: true
          description: Deletion timestamp if soft-deleted
        extras:
          description: List of product extras (e.g., toppings, add-ons)
          type: array
          items:
            $ref: "#/components/schemas/OrderingItemExtraDto"
        is_restricted:
          type: boolean
          example: true
          description: Whether the product is restricted
        tax:
          allOf: *a57
          nullable: true
      required:
        - id
        - name
        - price
        - description
        - images
        - category_id
        - inventoried
        - quantity
        - featured
        - enabled
        - upselling
        - in_offer
        - offer_price
        - rank
        - weight_unit
        - updated_at
        - created_at
        - deleted_at
        - extras
        - is_restricted
        - tax
    SubcategoryDto:
      type: object
      properties:
        id:
          type: number
          example: 10260
          description: Subcategory ID
        name:
          type: string
          example: Chicken Burger
          description: Subcategory name
        image:
          type: string
          example: https://res.cloudinary.com/ordering2/image/upload/subcategory.jpg
          nullable: true
          description: Subcategory image URL
        rank:
          type: number
          example: 5
          description: Display rank
        enabled:
          type: boolean
          example: true
          description: Whether the subcategory is enabled
        parent_category_id:
          type: number
          example: 5535
          description: ID of the parent category
        slug:
          type: string
          example: chicken_burger
          nullable: true
          description: Subcategory slug
        header:
          type: string
          example: Test description
          nullable: true
          description: Subcategory description
        description:
          type: string
          example: Our selection of chicken burgers
          nullable: true
          description: Subcategory description
        products:
          description: Products in this subcategory
          type: array
          items:
            $ref: "#/components/schemas/OrderingCoProductDto"
      required:
        - id
        - name
        - image
        - rank
        - enabled
        - parent_category_id
        - slug
        - header
        - description
        - products
    CategoryDto:
      type: object
      properties:
        id:
          type: string
          example: "123"
        name:
          type: string
          example: Burgers
        image:
          type: object
          example: https://example.com/image.jpg
          nullable: true
        rank:
          type: number
          example: 1
        enabled:
          type: boolean
          example: true
        header:
          type: object
          example: Our special burger selection
          nullable: true
        description:
          type: object
          example: Delicious burgers from our menu
          nullable: true
        products:
          type: array
          items:
            $ref: "#/components/schemas/ExtendedProductDto"
        subcategories:
          type: array
          items:
            $ref: "#/components/schemas/SubcategoryDto"
      required:
        - id
        - name
        - image
        - rank
        - enabled
        - header
        - description
        - products
        - subcategories
    AdditionalConfigDto:
      type: object
      properties:
        merchantId:
          type: string
          example: "123456"
          nullable: true
          description: Viva merchant id
        sourceCode:
          type: string
          example: "123456"
          nullable: true
          description: Viva source code
    PaymentProviderResponseDto:
      type: object
      properties:
        id:
          type: string
          example: cm8ekt3c20000mry41gx3sagi
        provider:
          example: stripe
          allOf:
            - $ref: "#/components/schemas/PaymentProvider"
        type:
          type: string
          example: api_key
        isActive:
          type: boolean
          example: true
        locationId:
          type: string
          example: true
        businessConfigId:
          type: string
          example: cm8ekhky8000bs6341ifnk8rt
        additionalConfig:
          example: {}
          allOf:
            - $ref: "#/components/schemas/AdditionalConfigDto"
      required:
        - id
        - provider
        - type
        - isActive
        - locationId
        - businessConfigId
        - additionalConfig
    PosPaymentType:
      type: string
      enum:
        - manual
        - static
        - non_static
        - common
    PaymentMethodsResponseDto:
      type: object
      properties:
        id:
          type: string
          example: cm8ekt3c20000mry41gx3sagi
          description: Unique identifier of the payment method
        name:
          description: Type of payment method (e.g., CREDIT_CARD, PAYPAL)
          example: Edenred
          allOf:
            - $ref: "#/components/schemas/PaymentMethod"
        position:
          type: number
          description: Display position/order of the payment method in UI
          example: 1
        additionalConfig:
          type: string
          description: Additional configuration or metadata related to the payment method,
            stored as a JSON string
          example: '{"iconUrl": "https://example.com/icon.png"}'
        enable:
          type: boolean
          example: true
          description: Indicates whether the payment method is currently enabled or
            available for use
        updated_at:
          type: string
          example: 2024-03-16T12:00:00Z
          description: ISO timestamp of the last update to the payment method
        created_at:
          type: string
          example: 2024-03-16T12:00:00Z
          description: ISO timestamp of when the payment method was first created
        description:
          type: string
          example: Flatpay Payment Method
          description: Description of the payment method
        subDescription:
          type: string
          example: Flatpay
          description: Short description or name of the payment method
        logo:
          type: string
          example: https://example.com/logo.png
          description: URL of the logo image for the payment method
        illustration:
          type: string
          example: https://example.com/illustration.png
          description: URL of the illustration image for the payment method
        type:
          description: "Type of payment method (manual, static, nonstatic, ...) "
          example: manual
          allOf:
            - $ref: "#/components/schemas/PosPaymentType"
        customName:
          type: string
          example: flatPay
          description: Name of the payment method that want to show in UI
        isHiddenInFilters:
          type: boolean
          example: false
          description: Should be shown in history filter or not
        minimumCheckoutAmount:
          type: number
          description: Minimum amount that an order can pay
          example: 0
      required:
        - id
        - name
        - position
        - additionalConfig
        - enable
        - updated_at
        - created_at
        - description
        - subDescription
        - logo
        - illustration
        - type
        - customName
        - isHiddenInFilters
    BusinessPaymentIntegrationType:
      type: string
      enum:
        - GiftCard
    PaymentIntegrationLinkDto:
      type: object
      properties:
        validate:
          type: string
          example: /api/v1/giftcard/validate
          description: API route for validating a gift card
          nullable: true
        redeem:
          type: string
          example: /api/v1/giftcard/redeem
          description: API route for redeeming a gift card
          nullable: true
    PaymentIntegrationDto:
      type: object
      properties:
        id:
          type: string
          example: cm8ekhky8000bs6341ifnk8rt
          description: Unique integration record ID
        type:
          example: GiftCard
          description: Type of integration (GiftCard, etc.)
          allOf:
            - $ref: "#/components/schemas/BusinessPaymentIntegrationType"
        active:
          type: boolean
          description: Whether the integration is active for this business
          example: true
        links:
          description: Set of API routes available for this integration
          allOf:
            - $ref: "#/components/schemas/PaymentIntegrationLinkDto"
      required:
        - id
        - type
        - active
        - links
    BusinessConfigResponseDto:
      type: object
      properties:
        id:
          type: string
          example: cm8ekhky8000bs6341ifnk8rt
        timeZone:
          type: string
          example: Europe/Helsinki
        currency:
          type: string
          example: EUR
        business:
          description: Business data attached
          allOf:
            - $ref: "#/components/schemas/BusinessDto"
        locationId:
          type: string
          example: "1234"
        orderingBusinessId:
          type: number
          example: 351
        selectedPaymentProvider:
          example: stripe
          nullable: true
          allOf:
            - $ref: "#/components/schemas/PaymentProvider"
        paymentProviders:
          type: array
          items:
            $ref: "#/components/schemas/PaymentProviderResponseDto"
        paymentMethods:
          type: array
          items:
            $ref: "#/components/schemas/PaymentMethodsResponseDto"
        companyName:
          type: string
          example: Munchi Oy
          nullable: true
        paymentIntegrations:
          description: Active payment integrations for the business (e.g. GiftCard)
          type: array
          items:
            $ref: "#/components/schemas/PaymentIntegrationDto"
        hasLoyaltyProgram:
          type: boolean
          example: true
          description: Indicates if the business has a loyalty program linked
        hasInvoiceCompany:
          type: boolean
          example: true
          description: Indicates if the business has a invoice company linked
      required:
        - id
        - timeZone
        - currency
        - business
        - locationId
        - orderingBusinessId
        - paymentProviders
        - paymentMethods
        - hasLoyaltyProgram
        - hasInvoiceCompany
    ExternalBusinessConfigDto:
      type: object
      properties:
        id:
          type: string
          example: cm8ekhky8000bs6341ifnk8rt
        timeZone:
          type: string
          example: Europe/Helsinki
        currency:
          type: string
          example: EUR
        business:
          description: Business data attached
          allOf:
            - $ref: "#/components/schemas/BusinessDto"
        locationId:
          type: string
          example: "1234"
        selectedPaymentProvider:
          example: stripe
          nullable: true
          allOf:
            - $ref: "#/components/schemas/PaymentProvider"
        paymentProviders:
          type: array
          items:
            $ref: "#/components/schemas/PaymentProviderResponseDto"
        companyName:
          type: string
          example: Munchi Oy
          nullable: true
        hasLoyaltyProgram:
          type: boolean
          example: true
          description: Indicates if the business has a loyalty program linked
        hasInvoiceCompany:
          type: boolean
          example: true
          description: Indicates if the business has a invoice company linked
      required:
        - id
        - timeZone
        - currency
        - business
        - locationId
        - paymentProviders
        - hasLoyaltyProgram
        - hasInvoiceCompany
    ExternalBusinessConfigResponseDto:
      type: object
      properties:
        id:
          type: string
          description: Unique identifier of the business
        name:
          type: string
          description: Name of the business
        logo:
          type: string
          description: Logo of the business
        email:
          type: string
          description: Email of the business
        address:
          type: string
          description: Address of the business
        createdAt:
          format: date-time
          type: string
          description: Creation date of the business
        phone:
          type: string
          description: Phone number of the business
        orderingBusinessId:
          type: number
          description: Ordering business identifier
        bic:
          type: string
          description: BIC/SWIFT code of the business
          nullable: true
        enabled:
          type: boolean
          description: Whether the business is enabled
        chainId:
          type: string
        merchantId:
          type: string
        config:
          $ref: "#/components/schemas/ExternalBusinessConfigDto"
      required:
        - id
        - name
        - logo
        - createdAt
        - orderingBusinessId
        - bic
        - enabled
        - config
    BusinessStatusEnum:
      type: string
      enum:
        - ONLINE
        - OFFLINE
    BusinessStatusDto:
      type: object
      properties:
        provider:
          example: MunchiKiosk
          description: Name of the provider handling the order
          allOf:
            - $ref: "#/components/schemas/ProviderEnum"
        status:
          example:
            - status: ONLINE
          allOf:
            - $ref: "#/components/schemas/BusinessStatusEnum"
        duration:
          type: number
          description: Duration of the status in minutes
          example: "5"
      required:
        - provider
        - status
    UpdateStatusResponseDto:
      type: object
      properties:
        futureTime:
          type: string
          description: Future time when the status will change back
          example: 2023-12-31T23:59:59.999Z
          nullable: true
        provider:
          description: Provider for which the status was updated
          example: UberEats
          allOf:
            - $ref: "#/components/schemas/ProviderEnum"
        businessId:
          type: number
          description: Business ID for which the status was updated
          example: 351
      required:
        - provider
        - businessId
    ProviderStatusResponseDto:
      type: object
      properties:
        provider:
          description: Provider channel (Wolt, Foodora, Munchi, etc.)
          example: Wolt
          allOf:
            - $ref: "#/components/schemas/ProviderEnum"
        open:
          type: boolean
          description: Provider open status
          example: true
      required:
        - provider
        - open
    SingleProviderStatusResponseDto:
      type: object
      properties:
        activeChannel:
          description: Active channel status
          nullable: true
          allOf:
            - $ref: "#/components/schemas/ProviderStatusResponseDto"
      required:
        - activeChannel
    BusinessTaxResponseDto:
      type: object
      properties:
        id:
          type: number
          example: 1
        name:
          type: string
          example: VAT
        description:
          type: string
          example: Value Added Tax
        rate:
          type: number
          example: 14
        type:
          type: number
          example: 1
      required:
        - id
        - name
        - description
        - rate
        - type
    BusinessDiscountDto:
      type: object
      properties:
        id:
          type: number
          example: 1
          description: Discount ID
        business_id:
          type: number
          example: 351
          description: Ordering business ID
        name:
          type: string
          example: Summer Sale 10%
        value:
          type: number
          example: 10
          description: Discount value (amount or percentage depending on type)
        type:
          example: PERCENTAGE
          allOf:
            - $ref: "#/components/schemas/DiscountType"
        description:
          type: string
          example: 10% off on all items
        available:
          type: boolean
          example: true
      required:
        - id
        - name
        - value
    UnifiedDiscountsResponseDto:
      type: object
      properties:
        venue:
          description: Venue-level discounts
          type: array
          items:
            $ref: "#/components/schemas/BusinessDiscountDto"
        global:
          description: Global (owner-level) discounts applicable to this venue
          type: array
          items:
            $ref: "#/components/schemas/BusinessDiscountDto"
      required:
        - venue
        - global
    PermissionDto:
      type: object
      properties:
        key:
          type: string
          example: pos::action::discount
          description: Permission key identifier
        enabled:
          type: boolean
          example: true
          description: Whether the permission is enabled
      required:
        - key
        - enabled
    BusinessPermissionResponseDto:
      type: object
      properties:
        key:
          type: string
          example: pos::action::discount
          description: Permission key identifier
        enabled:
          type: boolean
          example: true
          description: Whether the permission is enabled
        id:
          type: number
          example: 1
        businessId:
          type: number
          example: 351
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
      required:
        - key
        - enabled
        - id
        - businessId
        - createdAt
        - updatedAt
    UpdatePermissionDto:
      type: object
      properties:
        enabled:
          type: boolean
          example: true
          description: Whether the permission is enabled
      required:
        - enabled
    PreOrderReminderDto:
      type: object
      properties:
        orderId:
          type: string
          description: Unique identifier for the order
        orderingBusinessId:
          type: number
          description: ID of the business updating the order
        provider:
          description: Name of the provider handling the order
          allOf:
            - $ref: "#/components/schemas/ProviderEnum"
        scheduledTime:
          type: string
          description: Pickup time of the order
          example: 2025-03-22T14:30:00Z
      required:
        - orderId
        - orderingBusinessId
        - provider
        - scheduledTime
    OrderUpdateDto:
      type: object
      properties:
        externalId:
          type: string
          description: External ID of the order
          example: EXT-12345
        orderingBusinessId:
          type: number
          description: ID of the business that placed the order
          example: 123
        status:
          description: New status of the order
          example: in_progress
          allOf:
            - $ref: "#/components/schemas/OrderStatusEnum"
      required:
        - externalId
        - orderingBusinessId
        - status
    VivaWebhookPayloadDto:
      type: object
      properties:
        Url:
          type: string
          description: Webhook URL
          example: https://f7ff6c353da9.ngrok-free.app/api/webhook/viva
        EventData:
          type: object
          description: Event data containing transaction details
        Created:
          type: string
          description: Event creation timestamp
          example: 2025-08-31T21:29:32.7050438Z
        CorrelationId:
          type: string
          description: Correlation ID for tracking
          example: 25-243-7F84529E
        EventTypeId:
          type: number
          description: Event type ID
          example: 1796
          enum:
            - 1796
            - 1797
            - 1798
            - 1799
            - 1802
            - 1803
            - 8193
            - 8194
        Delay:
          type: object
          description: Event delay
          example: null
        RetryCount:
          type: number
          description: Retry count
          example: 0
        RetryDelayInSeconds:
          type: object
          description: Retry delay in seconds
          example: null
        MessageId:
          type: string
          description: Message ID
          example: 02101e4f-47a5-42d6-86cc-322a68a119b5
        RecipientId:
          type: string
          description: Recipient ID
          example: 7e2a46a4-5b64-4d39-bd82-a2a572078506
        MessageTypeId:
          type: number
          description: Message type ID
          example: 512
      required:
        - Url
        - EventData
        - Created
        - CorrelationId
        - EventTypeId
        - RetryCount
        - MessageId
        - RecipientId
        - MessageTypeId
    MenuProductExtraSuboptionDto:
      type: object
      properties:
        id:
          type: number
        extra_option_id:
          type: number
        name:
          type: string
        price:
          type: number
        image:
          type: string
          nullable: true
        sku:
          type: string
          nullable: true
        rank:
          type: number
        description:
          type: string
          nullable: true
        max:
          type: number
        half_price:
          type: number
          nullable: true
        enabled:
          type: boolean
        external_id:
          type: string
          nullable: true
        preselected:
          type: boolean
        is_alcohol:
          type: boolean
        snooze_until:
          type: string
          nullable: true
      required:
        - id
        - extra_option_id
        - name
        - price
        - image
        - sku
        - rank
        - description
        - max
        - half_price
        - enabled
        - external_id
        - preselected
        - is_alcohol
        - snooze_until
    MenuProductExtraOptionDto:
      type: object
      properties:
        id:
          type: number
        extra_id:
          type: number
        name:
          type: string
        image:
          type: string
          nullable: true
        conditioned:
          type: boolean
        respect_to:
          type: number
          nullable: true
        min:
          type: number
        max:
          type: number
        rank:
          type: number
        with_half_option:
          type: boolean
        allow_suboption_quantity:
          type: boolean
        limit_suboptions_by_max:
          type: boolean
        enabled:
          type: boolean
        external_id:
          type: string
          nullable: true
        snooze_until:
          type: string
          nullable: true
        suboptions:
          type: array
          items:
            $ref: "#/components/schemas/MenuProductExtraSuboptionDto"
      required:
        - id
        - extra_id
        - name
        - image
        - conditioned
        - respect_to
        - min
        - max
        - rank
        - with_half_option
        - allow_suboption_quantity
        - limit_suboptions_by_max
        - enabled
        - external_id
        - snooze_until
        - suboptions
    MenuProductExtraDto:
      type: object
      properties:
        id:
          type: number
        business_id:
          type: number
        name:
          type: string
        description:
          type: string
          nullable: true
        enabled:
          type: boolean
        external_id:
          type: string
          nullable: true
        rank:
          type: number
        snooze_until:
          type: string
          nullable: true
        updated_at:
          type: string
        created_at:
          type: string
          nullable: true
        options:
          type: array
          items:
            $ref: "#/components/schemas/MenuProductExtraOptionDto"
        metafields:
          type: array
          items:
            type: string
      required:
        - id
        - business_id
        - name
        - description
        - enabled
        - external_id
        - rank
        - snooze_until
        - updated_at
        - created_at
        - options
        - metafields
    ResetEodDto:
      type: object
      properties:
        bindingId:
          type: string
          description: The unique binding ID for the business or device
          example: cmkd1hn520000lwpgecj0nlpx
      required:
        - bindingId
    MenuProductDto:
      type: object
      properties:
        id:
          type: number
          example: 15460
          description: Product ID from Ordering
        categoryId:
          type: number
          example: 5528
          description: Category ID in Ordering
        enabled:
          type: boolean
          example: true
          description: Visibility flag
      required:
        - id
        - categoryId
        - enabled
    ProviderResponseDto:
      type: object
      properties:
        error:
          type: boolean
          example: false
          description: Whether the update failed (true) or succeeded (false)
        message:
          type: string
          example: Products updated successfully
          description: Status message for the provider
        timestamp:
          type: string
          example: 2025-04-24T10:17:11.103Z
          description: Time when the product will be updated
      required:
        - error
        - message
        - timestamp
    ProviderMapResponseDto:
      type: object
      properties:
        providers:
          type: object
          description: Only providers configured for this business are included. Keys are
            ProviderEnum values.
          additionalProperties:
            $ref: "#/components/schemas/ProviderResponseDto"
          example:
            MunchiOnline:
              error: false
              message: Products updated successfully
              timestamp: 2025-04-24T10:17:11.103Z
            Wolt:
              error: false
              message: Products scheduled for update
              timestamp: 2025-04-24T10:31:55.400Z
      required:
        - providers
    TimeSpan:
      type: string
      enum:
        - CUSTOM
        - DAY
        - WEEK
        - MONTH
        - YEAR
    SendReportEmailDto:
      type: object
      properties:
        subject:
          type: string
          description: Optional custom subject
          example: Daily Sales Report - March 15, 2025
        message:
          type: string
          description: Additional message for email body
        email:
          type: string
          description: Email address to send the report to
          example: test@gmail.com
    PaymentDetailsDto:
      type: object
      properties:
        paymentMethod:
          type: string
          description: Payment method type
          example: Card
        transactionCount:
          type: number
          description: Number of transactions
          example: 45
        totalSales:
          type: number
          description: Total sales amount
          example: 892.3
        totalPaid:
          type: number
          description: Total amount actually paid
          example: 892.3
        difference:
          type: number
          description: Difference (important for vouchers)
          example: 0
      required:
        - paymentMethod
        - transactionCount
        - totalSales
        - totalPaid
        - difference
    SalesSummaryDto:
      type: object
      properties:
        totalOrders:
          type: number
          description: Total number of orders
          example: 76
        totalSales:
          type: number
          description: Total sales amount
          example: 1588.65
        netSales:
          type: number
          description: Net sales amount after adjustments
          example: 1432.25
        totalPaid:
          type: number
          description: Total amount actually paid
          example: 1432.25
        totalDifference:
          type: number
          description: Total difference
          example: 156.4
        totalTransactions:
          type: number
          description: Total transactions
          example: 26
        rejectedOrders:
          type: number
          description: Number of rejected orders
          example: 0
        rejectedSales:
          type: number
          description: Total rejected sales amount
          example: 0
        averageSales:
          type: number
          description: Average sales per order
          example: 35.5
        totalItemsCount:
          type: number
          description: Total number of items sold
          example: 142
        totalRefunds:
          type: number
          description: Total refund amount
          example: 0
        totalDiscounts:
          type: number
          description: Total discount amount given
          example: 25.5
        totalVoucherForfeited:
          type: number
          description: Total voucher forfeited amount in cents
      required:
        - totalOrders
        - totalSales
        - netSales
        - totalPaid
        - totalDifference
        - totalTransactions
        - rejectedOrders
        - rejectedSales
        - averageSales
        - totalItemsCount
        - totalRefunds
        - totalDiscounts
        - totalVoucherForfeited
    TaxBreakdownDto:
      type: object
      properties:
        standardTaxAmount:
          type: number
          description: Standard tax amount
          example: 173.21
        premiumTaxAmount:
          type: number
          description: Premium tax amount
          example: 22.42
        totalTaxAmount:
          type: number
          description: Total tax amount
          example: 195.63
        standardTaxRate:
          type: number
          description: Standard tax rate %
          example: 14
        premiumTaxRate:
          type: number
          description: Premium tax rate %
          example: 25.5
      required:
        - standardTaxAmount
        - premiumTaxAmount
        - totalTaxAmount
        - standardTaxRate
        - premiumTaxRate
    ItemBreakdownDto:
      type: object
      properties:
        itemName:
          type: string
          description: Item name
          example: Classic Fries
        quantitySold:
          type: number
          description: Quantity sold
          example: 12
        totalAmount:
          type: number
          description: Total amount
          example: 156
      required:
        - itemName
        - quantitySold
        - totalAmount
    EndOfDayReportDto:
      type: object
      properties:
        reportGeneratedAt:
          format: date-time
          type: string
          description: Report generated at
        reportDateStart:
          format: date-time
          type: string
          description: Report date start
        reportDateEnd:
          format: date-time
          type: string
          description: Report date end
        businessId:
          type: number
          description: Business ID
        paymentMethodDetails:
          description: Payment reconciliation
          type: array
          items:
            $ref: "#/components/schemas/PaymentDetailsDto"
        salesSummary:
          description: Sales summary
          allOf:
            - $ref: "#/components/schemas/SalesSummaryDto"
        taxBreakdown:
          description: Tax breakdown
          allOf:
            - $ref: "#/components/schemas/TaxBreakdownDto"
        itemBreakdown:
          description: Item breakdown
          type: array
          items:
            $ref: "#/components/schemas/ItemBreakdownDto"
      required:
        - reportGeneratedAt
        - reportDateStart
        - reportDateEnd
        - businessId
        - paymentMethodDetails
        - salesSummary
        - taxBreakdown
        - itemBreakdown
    PasscodeScopeType:
      type: string
      enum:
        - BUSINESS
        - CHAIN
    CreatePasscodeDto:
      type: object
      properties:
        passcode:
          type: number
          example: 1234
        scopeType:
          example: BUSINESS
          allOf:
            - $ref: "#/components/schemas/PasscodeScopeType"
        scopeId:
          type: string
          example: "351"
      required:
        - passcode
        - scopeType
        - scopeId
    CreatePasscodeResponseDto:
      type: object
      properties:
        id:
          type: number
          example: 1
        pin:
          type: number
          example: 1234
        scopeType:
          type: string
          enum:
            - BUSINESS
            - CHAIN
        scopeId:
          type: string
          example: "351"
        enabled:
          type: boolean
          example: true
        createdAt:
          format: date-time
          type: string
      required:
        - id
        - pin
        - scopeType
        - scopeId
        - enabled
        - createdAt
    PasscodeOptionDto:
      type: object
      properties:
        id:
          type: number
          example: 1
        pin:
          type: number
          example: 1234
        scopeType:
          example: BUSINESS
          allOf:
            - $ref: "#/components/schemas/PasscodeScopeType"
        scopeId:
          type: string
          example: "351"
      required:
        - id
        - pin
        - scopeType
        - scopeId
    PasscodeOptionsResponseDto:
      type: object
      properties:
        businessId:
          type: number
          example: 351
        chainId:
          type: string
          example: helsinki-restaurants
        availablePasscodes:
          description: Available passcodes for business and chain
          type: array
          items:
            $ref: "#/components/schemas/PasscodeOptionDto"
        permissions:
          description: Business permissions with enabled status
          type: array
          items:
            $ref: "#/components/schemas/PermissionDto"
      required:
        - businessId
        - availablePasscodes
        - permissions
    ValidatePasscodeDto:
      type: object
      properties:
        businessId:
          type: number
          example: 351
        passcode:
          type: number
          example: 1234
      required:
        - businessId
        - passcode
    ValidatePasscodeResponseDto:
      type: object
      properties:
        valid:
          type: boolean
          example: true
        permissions:
          description: Permissions returned only if valid is true
          type: array
          items:
            $ref: "#/components/schemas/PermissionDto"
      required:
        - valid
    RefundMode:
      type: string
      enum:
        - FULL
        - ITEM
    RefundRequestItemDto:
      type: object
      properties:
        lineItemId:
          type: string
          description: The unique identifier of the original order line item.
          example: li_1a2b3c4d5e
        quantity:
          type: number
          description: The quantity of the item to be refunded. Must be at least 1.
          example: 1
          minimum: 1
      required:
        - lineItemId
        - quantity
    CreateRefundPlanDto:
      type: object
      properties:
        mode:
          description: The mode of the refund, either 'FULL' or 'ITEM'.
          example: ITEM
          allOf:
            - $ref: "#/components/schemas/RefundMode"
        lineItems:
          description: The list of items to be refunded. Required only when mode is ITEM.
          type: array
          items:
            $ref: "#/components/schemas/RefundRequestItemDto"
      required:
        - mode
    RefundOverallStatus:
      type: string
      enum:
        - PENDING
        - IN_PROGRESS
        - CHOICE_REQUIRED
        - COMPLETED
        - FAILED
    RefundStepStatus:
      type: string
      enum:
        - PENDING
        - in_progress
        - FAILED
        - COMPLETED
    RefundPlanItemDto:
      type: object
      properties:
        stepId:
          type: string
        method:
          description: The payment method to be refunded.
          example: Card
          allOf:
            - $ref: "#/components/schemas/PaymentMethod"
        provider:
          description: The specific payment provider (e.g., NETS, VIVA), if applicable.
          allOf:
            - $ref: "#/components/schemas/PaymentProvider"
        amount:
          type: number
          description: The amount to be refunded in cents.
          example: 2500
        originalPaymentEventId:
          type: string
          description: The unique ID of the original payment event this refund is sourced
            from.
        originalPaymentReferenceId:
          type: string
          description: The reference ID (e.g., session or payment intent ID) of the
            original transaction, crucial for provider APIs.
          nullable: true
        status:
          description: The current status of this individual refund step.
          example: PENDING
          allOf:
            - $ref: "#/components/schemas/RefundStepStatus"
        rawData:
          type: object
          description: The full, unaltered raw response from the payment provider for this
            specific transaction.
          nullable: true
          additionalProperties: true
      required:
        - stepId
        - method
        - amount
        - originalPaymentEventId
        - originalPaymentReferenceId
        - status
    RefundChoiceOptionDto:
      type: object
      properties:
        originalPaymentEventId:
          type: string
        method:
          allOf:
            - $ref: "#/components/schemas/PaymentMethod"
        amountAvailable:
          type: number
        cardLastFour:
          type: string
      required:
        - originalPaymentEventId
        - method
        - amountAvailable
    RefundPlanDto:
      type: object
      properties:
        id:
          type: string
        orderId:
          type: string
        businessId:
          type: string
        mode:
          allOf:
            - $ref: "#/components/schemas/RefundMode"
        failureReasonKey:
          type: object
          description: A translation key for the frontend if the status is FAILED.
          nullable: true
        status:
          allOf:
            - $ref: "#/components/schemas/RefundOverallStatus"
        activeStepIndex:
          type: number
          description: The index of the current PENDING step in the plan. Null if complete
            or requires choice.
          nullable: true
        totalAmount:
          type: number
        items:
          description: List of refunded items
          type: array
          items:
            $ref: "#/components/schemas/RefundedItemDto"
        plan:
          type: array
          items:
            $ref: "#/components/schemas/RefundPlanItemDto"
        createdAt:
          type: string
        updatedAt:
          type: string
        amountToRefund:
          type: number
        options:
          type: array
          items:
            $ref: "#/components/schemas/RefundChoiceOptionDto"
      required:
        - id
        - orderId
        - businessId
        - mode
        - status
        - totalAmount
        - items
        - plan
    CompletedStepDto:
      type: object
      properties:
        stepId:
          type: string
          description: The unique ID of the plan step being completed.
          example: step_cuid2_abc123
        status:
          description: The final status of the transaction from the payment provider.
          example: SUCCESS
          allOf:
            - $ref: "#/components/schemas/RefundStepStatus"
        originalPaymentEventId:
          type: string
          description: ID of the original payment being refunded
          nullable: true
        sourceTransactionId:
          type: string
          description: Refund ID from the payment provider V2 (e.g., Stripe refund ID)
          nullable: true
        type:
          allOf:
            - $ref: "#/components/schemas/PaymentMethod"
        referenceId:
          type: string
          description: "Refund ID from the payment provider "
        rawData:
          type: object
          description: The full, unaltered raw response from the payment provider for this
            specific transaction.
          nullable: true
          additionalProperties: true
      required:
        - stepId
        - status
        - sourceTransactionId
        - referenceId
    ResolveChoiceDto:
      type: object
      properties:
        chosenPaymentEventId:
          type: string
          description: The originalPaymentEventId of the payment source chosen by the user.
          example: wogzo2k2hd9ataoi4fkpxtf0
      required:
        - chosenPaymentEventId
    ValidateGiftCardDto:
      type: object
      properties:
        giftCardNumber:
          type: string
        orderingBusinessId:
          type: number
          example: 42
      required:
        - giftCardNumber
        - orderingBusinessId
    GiftCardInfoDto:
      type: object
      properties:
        title:
          type: string
        balance:
          type: number
        currency:
          type: string
        expirationDate:
          type: string
        mustBeFullyRedeemed:
          type: boolean
        giftCardNumber:
          type: string
      required:
        - title
        - balance
        - currency
        - expirationDate
        - mustBeFullyRedeemed
        - giftCardNumber
    ValidateGiftCardResponseDto:
      type: object
      properties:
        valid:
          type: boolean
        errorCode:
          type: number
          nullable: true
        cardInfo:
          $ref: "#/components/schemas/GiftCardInfoDto"
      required:
        - valid
    RedeemGiftCardDto:
      type: object
      properties:
        giftCardNumber:
          type: string
        amount:
          type: number
        orderingBusinessId:
          type: number
          example: 42
      required:
        - giftCardNumber
        - amount
        - orderingBusinessId
    RedeemGiftCardResponseDto:
      type: object
      properties:
        success:
          type: boolean
        errorCode:
          type: number
          nullable: true
        redeemedAmount:
          type: number
        remainingBalance:
          type: number
        currency:
          type: string
      required:
        - success
    LoyaltyInfoResponseDto:
      type: object
      properties:
        loyaltyId:
          type: string
          example: 68274e2987e02a582e0e697f
        venueId:
          type: number
          example: 1
        name:
          type: string
          example: Premium Rewards Club
        description:
          example:
            - Earn points with every purchase
          type: array
          items:
            type: string
        logo_url:
          type: object
          nullable: true
          example: https://example.com/logo.png
        banner_url:
          type: object
          nullable: true
          example: https://example.com/banner.jpg
        expires_at:
          type: object
          nullable: true
          example: 2025-01-15T12:00:00Z
        _links:
          type: object
          additionalProperties:
            type: object
            properties:
              href:
                type: string
              method:
                type: string
          example:
            self:
              href: /loyalty/info/1/351
              method: GET
            getUserById:
              href: /users/userinfo
              method: GET
            searchUser:
              href: /users/search
              method: GET
            addPoints:
              href: /loyalty/update-user-points
              method: POST
            getAdminHistory:
              href: /loyalty/xxx/admin/transactions
              method: GET
      required:
        - loyaltyId
        - venueId
        - name
        - description
        - logo_url
        - banner_url
        - expires_at
        - _links
    ProgramUserDto:
      type: object
      properties:
        id:
          type: number
          example: 1234
          description: The id of the user
        first_name:
          type: string
        verified:
          type: boolean
          example: false
        last_name:
          type: string
        phone:
          type: string
        email:
          type: string
        image_url:
          type: string
        country_code:
          type: string
        date_of_birth:
          type: string
          format: date-time
        address:
          type: string
      required:
        - id
        - verified
        - phone
        - country_code
    LoyaltyTierDto:
      type: object
      properties:
        id:
          type: number
          example: 8
        name:
          type: string
          example: Bronze
        description:
          example:
            - Welcome tier
          type: array
          items:
            type: string
        threshold:
          type: number
          example: 0
      required:
        - id
        - name
        - description
        - threshold
    NextTierDto:
      type: object
      properties:
        id:
          type: number
          example: 7
        name:
          type: string
          example: Silver
        description:
          example:
            - Mid-tier benefits
          type: array
          items:
            type: string
        points_to_next_tier:
          type: number
          example: 800
        threshold:
          type: number
          example: 1000
      required:
        - id
        - name
        - description
        - points_to_next_tier
        - threshold
    PointsBreakdownDto:
      type: object
      properties:
        expires_at:
          type: string
          example: 2026-10-29T14:26:24.328Z
        points:
          type: number
          example: 100
      required:
        - expires_at
        - points
    LoyaltyAccountDto:
      type: object
      properties:
        id:
          type: number
          example: 103
        user_id:
          type: number
          example: 38
        lifetime_points:
          type: number
          example: 200
        joined_date:
          type: string
          example: 2025-10-28T09:52:35.685Z
        last_activity_date:
          type: string
          example: 2025-10-29T14:54:33.086Z
        is_active:
          type: boolean
          example: true
        venue_id:
          type: number
          example: 2
        loyalty_id:
          type: string
          example: 68274e2987e02a582e0e697f
        is_subscribed_to_promotions:
          type: boolean
          example: true
        joined_At:
          type: string
          example: 2025-10-28T09:52:35.685Z
        current_tier:
          nullable: true
          allOf:
            - $ref: "#/components/schemas/LoyaltyTierDto"
        next_tier:
          $ref: "#/components/schemas/NextTierDto"
        joined:
          type: boolean
          example: true
        current_points:
          type: number
          example: 200
        points_breakdown:
          type: array
          items:
            $ref: "#/components/schemas/PointsBreakdownDto"
      required:
        - id
        - user_id
        - lifetime_points
        - joined_date
        - last_activity_date
        - is_active
        - venue_id
        - loyalty_id
        - is_subscribed_to_promotions
        - joined_At
        - current_tier
        - next_tier
        - joined
        - current_points
        - points_breakdown
    UserWithLoyaltyDto:
      type: object
      properties:
        user:
          $ref: "#/components/schemas/ProgramUserDto"
        loyaltyAccount:
          $ref: "#/components/schemas/LoyaltyAccountDto"
      required:
        - user
        - loyaltyAccount
    SearchUserInfoResponseDto:
      type: object
      properties:
        _links:
          type: object
          additionalProperties:
            type: object
            properties:
              href:
                type: string
              method:
                type: string
        data:
          type: array
          items:
            $ref: "#/components/schemas/UserWithLoyaltyDto"
      required:
        - _links
        - data
    LoyaltyUserInfoResponseDto:
      type: object
      properties:
        user:
          $ref: "#/components/schemas/ProgramUserDto"
        loyaltyAccount:
          $ref: "#/components/schemas/LoyaltyAccountDto"
        _links:
          type: object
          additionalProperties:
            type: object
            properties:
              href:
                type: string
              method:
                type: string
      required:
        - user
        - loyaltyAccount
        - _links
    TransactionEventType:
      type: string
      enum:
        - earn
        - redeem
        - collect
        - credit
        - debit
        - claimed
    PointsUpdatePayloadDto:
      type: object
      properties:
        targetUserId:
          type: number
          example: 123
        pointsAmount:
          type: number
          example: 100
        TransactionEventType:
          example: credit
          allOf:
            - $ref: "#/components/schemas/TransactionEventType"
      required:
        - targetUserId
        - pointsAmount
        - TransactionEventType
    PointsUpdateResponseDto:
      type: object
      properties:
        status:
          type: boolean
          example: true
        message:
          type: string
          example: Points updated successfully
        _links:
          type: object
          additionalProperties:
            type: object
            properties:
              href:
                type: string
              method:
                type: string
          example:
            getUserById:
              href: /users/userinfo
              method: GET
      required:
        - status
        - message
        - _links
    AdminTransactionDto:
      type: object
      properties:
        transaction_id:
          type: number
          example: 123
        admin_action_id:
          type: number
          example: 456
        admin_user_name:
          type: string
          example: Muhammad Ahmed
        admin_user_phone:
          type: string
          example: "+358449303499"
        target_user_name:
          type: string
          example: Vic Nguyen
        target_user_phone:
          type: string
          example: "+358449303499"
        amount:
          type: number
          example: 500
        event_type:
          type: string
          enum:
            - earn
            - redeem
            - collect
            - credit
            - debit
            - claimed
        reason:
          type: string
          example: Birthday bonus
        created_at:
          format: date-time
          type: string
          example: 2025-06-19T14:30:00Z
      required:
        - transaction_id
        - admin_action_id
        - admin_user_name
        - admin_user_phone
        - target_user_name
        - target_user_phone
        - amount
        - event_type
        - reason
        - created_at
    AdminPaginationDto:
      type: object
      properties:
        page:
          type: number
          example: 1
        limit:
          type: number
          example: 10
        total_pages:
          type: number
          example: 100
        has_previous:
          type: boolean
          example: false
        has_next:
          type: boolean
          example: true
      required:
        - page
        - limit
        - total_pages
        - has_previous
        - has_next
    AdminTransactionResponseDto:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/AdminTransactionDto"
        pagination:
          $ref: "#/components/schemas/AdminPaginationDto"
      required:
        - data
        - pagination
    OrderSummaryDto:
      type: object
      properties:
        totalOrders:
          type: number
          description: Total orders
        rejectedOrders:
          type: number
          description: Rejected orders
        totalSales:
          type: number
          description: Total sales
          example: 1234.56
        rejectedSales:
          type: number
          description: Rejected sales
          example: 123.45
      required:
        - totalOrders
        - rejectedOrders
        - totalSales
        - rejectedSales
    PaginationDto:
      type: object
      properties:
        page:
          type: number
          description: Page number
        rowPerPage:
          type: number
          description: Row per page
        totalPages:
          type: number
          description: Total pages
      required:
        - page
        - rowPerPage
        - totalPages
    OrderHistoryResponseDto:
      type: object
      properties:
        orders:
          description: Order details
          type: array
          items:
            $ref: "#/components/schemas/OrderResponseDto"
        summary:
          description: Order status
          allOf:
            - $ref: "#/components/schemas/OrderSummaryDto"
        pagination:
          description: Pagination details
          allOf:
            - $ref: "#/components/schemas/PaginationDto"
      required:
        - orders
        - summary
        - pagination
    GetPaymentStatusDto:
      type: object
      properties:
        provider:
          description: The payment provider for this transaction.
          allOf:
            - $ref: "#/components/schemas/PaymentProvider"
        referenceId:
          type: string
          description: The session ID or reference ID from the payment provider (e.g.,
            Viva sessionId).
        businessId:
          type: number
          description: The ordering business ID for this transaction.
        orderId:
          type: string
          description: The order ID associated with this payment (optional, returned in
            response for convenience).
      required:
        - provider
        - referenceId
        - businessId
    StripeConnectionTokenDto:
      type: object
      properties:
        object:
          type: string
          description: String representing the object's type
          example: terminal.connection_token
        location:
          type: string
          description: The id of the location that this connection token is scoped to
          example: loc_123456
        secret:
          type: string
          description: Your application should pass this token to the Stripe Terminal SDK
          example: pst_test_YWNjdF8xSk...
      required:
        - object
        - secret
    PaymentIntentIdDto:
      type: object
      properties:
        id:
          type: string
          description: The ID of the payment intent to capture or cancel
          example: pi_3NABCxyzABC123
      required:
        - id
    StripePaymentIntentDto:
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the payment intent
          example: pi_3NABCxyzABC123
        object:
          type: string
          description: Object type, always "payment_intent"
          example: payment_intent
        amount:
          type: number
          description: Amount intended to be collected (in smallest currency unit)
          example: 2000
        amount_capturable:
          type: number
          description: Amount that can be captured from this payment intent
          example: 2000
        amount_received:
          type: number
          description: Amount that has been received from this payment intent
          example: 0
        currency:
          type: string
          description: The currency of the payment intent
          example: usd
        customer:
          type: object
          description: Customer ID this payment intent belongs to, if any
          example: cus_ABC123xyz
          nullable: true
        status:
          type: string
          description: Status of the payment intent
          example: requires_capture
          enum:
            - requires_payment_method
            - requires_confirmation
            - requires_action
            - processing
            - requires_capture
            - canceled
            - succeeded
        payment_method:
          type: object
          description: ID of the payment method used in this payment intent
          example: pm_1ABC123xyz
          nullable: true
        created:
          type: number
          description: Time at which the object was created
          example: 1615425255
        livemode:
          type: boolean
          description: Has the value true if the object exists in live mode or false if
            the object exists in test mode
          example: false
        shipping:
          type: object
          description: Shipping information
          nullable: true
          example:
            name: Jane Doe
            address:
              line1: 123 Main St
              city: San Francisco
              state: CA
              postal_code: "94111"
              country: US
        metadata:
          type: object
          description: Set of key-value pairs attached to the object
          example:
            order_id: "6735"
      required:
        - id
        - object
        - amount
        - amount_capturable
        - amount_received
        - currency
        - status
        - created
        - livemode
    ConnectionTokenPayloadDto:
      type: object
      properties:
        orderingBusinessId:
          type: number
          description: The ordering business ID for this transaction.
        provider:
          description: The payment provider for this transaction.
          allOf:
            - $ref: "#/components/schemas/PaymentProvider"
      required:
        - orderingBusinessId
        - provider
    ConnectionTokenResponseDto:
      type: object
      properties:
        accessToken:
          type: string
          description: The access token for the payment provider.
      required:
        - accessToken
    VivaCurrencyCode:
      type: string
      enum:
        - "978"
        - "840"
        - "826"
        - "392"
        - "036"
        - "124"
        - "756"
        - "156"
        - "344"
        - "554"
        - "752"
        - "410"
        - "702"
        - "578"
        - "484"
        - "356"
        - "643"
        - "710"
        - "949"
        - "986"
        - "901"
        - "208"
        - "985"
        - "764"
        - "360"
        - "348"
        - "203"
        - "376"
        - "152"
        - "608"
        - "784"
        - "170"
        - "682"
        - "458"
        - "946"
    VivaCreatePaymentDto:
      type: object
      properties:
        orderingBusinessId:
          type: number
          description: The ordering business ID for this transaction.
        provider:
          description: The payment provider for this transaction.
          allOf:
            - $ref: "#/components/schemas/PaymentProvider"
        cartId:
          type: string
          description: The cart ID for this transaction.
        amount:
          type: number
          description: The amount for this transaction in cents.
        terminalId:
          type: string
          description: The terminal ID for this transaction.
        currencyCode:
          description: The currency code for this transaction.
          allOf:
            - $ref: "#/components/schemas/VivaCurrencyCode"
        showTransactionResult:
          type: boolean
          description: Whether to show the transaction result.
        showReceipt:
          type: boolean
          description: Whether to show the receipt.
        tipAmount:
          type: number
          description: The tip amount for this transaction.
      required:
        - orderingBusinessId
        - provider
        - cartId
        - amount
        - terminalId
        - currencyCode
    IsvDetails:
      type: object
      properties:
        amount:
          type: number
          description: The amount related to the ISV (Independent Software Vendor).
          example: 100
        terminalMerchantId:
          type: string
          description: The terminal merchant ID associated with the ISV.
          example: ISVTerminalMerch123
        sourceCode:
          type: string
          description: The source code for the ISV.
          example: ISVSRC001
        merchantId:
          type: string
          description: The merchant ID for the ISV.
          example: ISVMerchXYZ
        merchantSourceCode:
          type: string
          description: The merchant source code for the ISV.
          example: ISVMerchSRC789
    VivaPaymentIntent:
      type: object
      properties:
        sessionId:
          type: string
          description: The session ID for the transaction.
        terminalId:
          type: string
          description: The terminal ID initiating the transaction.
        cashRegisterId:
          type: string
          description: The cash register ID associated with the transaction.
        amount:
          type: number
          description: The amount of the transaction.
          example: 1050
        currencyCode:
          type: string
          description: The currency code for the transaction amount.
          enum:
            - "978"
            - "840"
            - "826"
            - "392"
            - "036"
            - "124"
            - "756"
            - "156"
            - "344"
            - "554"
            - "752"
            - "410"
            - "702"
            - "578"
            - "484"
            - "356"
            - "643"
            - "710"
            - "949"
            - "986"
            - "901"
            - "208"
            - "985"
            - "764"
            - "360"
            - "348"
            - "203"
            - "376"
            - "152"
            - "608"
            - "784"
            - "170"
            - "682"
            - "458"
            - "946"
          example: "978"
        merchantReference:
          type: string
          description: A reference for the merchant.
        customerTrns:
          type: string
          description: A human-readable description for the customer statement.
        tipAmount:
          type: number
          description: The tip amount included in the transaction.
          default: 0
        preauth:
          type: boolean
          description: Indicates if the transaction is a preauthorization.
          default: false
        showTransactionResult:
          type: boolean
          description: Whether to show the transaction result on the terminal.
          default: true
        showReceipt:
          type: boolean
          description: Whether to show the receipt on the terminal.
          default: true
        isvDetails:
          description: ISV (Independent Software Vendor) specific details.
          allOf:
            - $ref: "#/components/schemas/IsvDetails"
      required:
        - sessionId
        - terminalId
        - cashRegisterId
        - amount
        - currencyCode
        - tipAmount
        - preauth
        - showTransactionResult
        - showReceipt
    VivaDiscoverDevicesDto:
      type: object
      properties:
        orderingBusinessId:
          type: number
          description: The ordering business ID for this transaction.
      required:
        - orderingBusinessId
    DeviceStatus:
      type: number
      enum:
        - 0
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
    VivaDevice:
      type: object
      properties:
        terminalId:
          type: string
          description: The terminal ID for this transaction.
        statusId:
          description: The status of the device.
          allOf:
            - $ref: "#/components/schemas/DeviceStatus"
        sourceCode:
          type: string
          description: The source code of the business location.
        virtualTerminalId:
          type: string
          description: The virtual terminal ID of the device.
      required:
        - terminalId
        - statusId
        - sourceCode
        - virtualTerminalId
    VivaCancelTransactionDto:
      type: object
      properties:
        sessionId:
          type: string
          description: The session ID for the transaction.
          example: 77c5b454-73e8-48a0-8724-b49dfb4071b0
        cashRegisterId:
          type: string
          description: The cash register ID for the transaction.
          example: "123"
      required:
        - sessionId
        - cashRegisterId
    CreateEmployeeDto:
      type: object
      properties:
        name:
          type: string
          example: Javier Rodriguez
          description: The employee's full name
        merchantId:
          type: string
          example: clvua331k000008l41k8g6f9a
          description: The ID of the merchant this employee belongs to
        pin:
          type: string
          example: "2235"
          description: The 4-digit plain-text PIN for the employee
      required:
        - name
        - merchantId
        - pin
    EmployeeResponseDto:
      type: object
      properties:
        id:
          type: string
          example: clvub123k000008l41k8g9b4c
        name:
          type: string
          example: Javier Rodriguez
        merchantId:
          type: string
          example: clvua331k000008l41k8g6f9a
        status:
          example: ACTIVE
          allOf:
            - $ref: "#/components/schemas/Status"
        pin:
          type: string
          example: "2235"
          description: The employee's plain-text, decrypted PIN
      required:
        - id
        - name
        - merchantId
        - status
        - pin
    PaginationMetaDto:
      type: object
      properties:
        total:
          type: number
          example: 100
        page:
          type: number
          example: 1
        limit:
          type: number
          example: 20
        totalPages:
          type: number
          example: 5
      required:
        - total
        - page
        - limit
        - totalPages
    PaginatedEmployeesResponseDto:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/EmployeeResponseDto"
        pagination:
          $ref: "#/components/schemas/PaginationMetaDto"
      required:
        - data
        - pagination
    CreateMerchantDto:
      type: object
      properties:
        name:
          type: string
          example: Joe's Pizza Chain
          description: The name of the merchant or restaurant chain
      required:
        - name
    MerchantResponseDto:
      type: object
      properties:
        id:
          type: string
          example: clvua331k000008l41k8g6f9a
        name:
          type: string
          example: Joe's Pizza Chain
        createdAt:
          format: date-time
          type: string
          example: 2025-11-10T14:30:00.000Z
        updatedAt:
          format: date-time
          type: string
          example: 2025-11-10T14:30:00.000Z
      required:
        - id
        - name
        - createdAt
        - updatedAt
    PosPermission:
      type: string
      enum:
        - Access::PosApp
        - Page::Pos
        - Page::OpenOrders
        - Page::Orders
        - Page::Transactions
        - Page::Products
        - Page::Reports
        - Page::Settings
        - Cart::*
        - Cart::AddItem
        - Cart::RemoveItem
        - Cart::ApplyDiscount
        - Cart::VoidItem
        - Cart::Clear
        - Transaction::*
        - Transaction::View
        - Transaction::Refund
        - Shift::*
        - Shift::ForceClockOut
        - Settings::*
        - Settings::EditProfile
    PermissionRuleDto:
      type: object
      properties:
        key:
          example: POS::Cart::Discount
          description: The unique permission key
          allOf:
            - $ref: "#/components/schemas/PosPermission"
        enabled:
          type: boolean
          example: true
          description: Whether this permission is enabled for the role
      required:
        - key
        - enabled
    CreateRoleDto:
      type: object
      properties:
        name:
          type: string
          example: Shift Manager
          description: The name of the role
        permissionRules:
          description: An array of permission rule objects
          type: array
          items:
            $ref: "#/components/schemas/PermissionRuleDto"
      required:
        - name
        - permissionRules
    RoleResponseDto:
      type: object
      properties:
        id:
          type: string
          example: clvuc456k000008l41k8g7d8e
        name:
          type: string
          example: Shift Manager
        businessId:
          type: number
          example: 12345
        permissionRules:
          description: An array of permission rule objects
          type: array
          items:
            $ref: "#/components/schemas/PermissionRuleDto"
      required:
        - id
        - name
        - businessId
        - permissionRules
    CreateEmployeeAssignmentDto:
      type: object
      properties:
        employeeId:
          type: string
          example: clvub123k000008l41k8g9b4c
          description: The global ID of the employee to assign
        roleId:
          type: string
          example: clvuc456k000008l41k8g7d8e
          description: The ID of the role at this specific business
      required:
        - employeeId
        - roleId
    EmployeeAssignmentResponseDto:
      type: object
      properties:
        employeeId:
          type: string
          example: clvub123k000008l41k8g9b4c
        businessId:
          type: number
          example: 12345
        roleId:
          type: string
          example: clvuc456k000008l41k8g7d8e
      required:
        - employeeId
        - businessId
        - roleId
    OperatingMode:
      type: string
      enum:
        - STANDARD
        - TEAM
        - PINLOCK
    PosEmployeeDto:
      type: object
      properties:
        id:
          type: string
          example: clvub123k000008l41k8g9b4c
        name:
          type: string
          example: Javier Rodriguez
        roleId:
          type: string
          example: clvuc456k000008l41k8g7d8e
        status:
          example: ACTIVE
          allOf:
            - $ref: "#/components/schemas/Status"
        pinHash:
          type: string
          example: $2b$10$K/aP.V.m.x...
          description: The one-way bcrypt hash of the PIN.
      required:
        - id
        - name
        - roleId
        - status
        - pinHash
    PermissionRuleResponseDto:
      type: object
      properties:
        id:
          type: string
          example: clvud789k000008l41k8g0f9a
        key:
          example: POS::Cart::Discount
          allOf:
            - $ref: "#/components/schemas/PosPermission"
        enabled:
          type: boolean
          example: true
      required:
        - id
        - key
        - enabled
    PosRoleDto:
      type: object
      properties:
        id:
          type: string
          example: clvuc456k000008l41k8g7d8e
        name:
          type: string
          example: Shift Manager
        permissionRules:
          type: array
          items:
            $ref: "#/components/schemas/PermissionRuleResponseDto"
      required:
        - id
        - name
        - permissionRules
    PosActionPasscodeDto:
      type: object
      properties:
        id:
          type: string
          example: clvud789k000008l41k8g0f9a
        name:
          type: string
          example: Manager Override PIN
        permissionRules:
          type: array
          items:
            $ref: "#/components/schemas/PermissionRuleResponseDto"
        pinHash:
          type: string
          example: $2b$10$Q/bX.Y.m.z...
          description: The one-way bcrypt hash of the PIN.
      required:
        - id
        - name
        - permissionRules
        - pinHash
    PosSessionResponseDto:
      type: object
      properties:
        operatingMode:
          example: TEAM
          allOf:
            - $ref: "#/components/schemas/OperatingMode"
        employees:
          type: array
          items:
            $ref: "#/components/schemas/PosEmployeeDto"
        roles:
          type: array
          items:
            $ref: "#/components/schemas/PosRoleDto"
        actionPasscodes:
          type: array
          items:
            $ref: "#/components/schemas/PosActionPasscodeDto"
      required:
        - operatingMode
        - employees
        - roles
        - actionPasscodes
    CreateActionPasscodeDto:
      type: object
      properties:
        name:
          type: string
          example: Manager PIN
        pin:
          type: string
          example: "2235"
        businessId:
          type: number
          example: 12345
        merchantId:
          type: string
          example: clvud789k000008l41k8g0f9a
        permissionRules:
          description: An array of permission rule objects
          type: array
          items:
            $ref: "#/components/schemas/PermissionRuleDto"
      required:
        - name
        - pin
        - permissionRules
    ActionPasscodeResponseDto:
      type: object
      properties:
        id:
          type: string
          example: clvud789k000008l41k8g0f9a
        name:
          type: string
          example: Manager PIN
        businessId:
          type: object
          example: 12345
          nullable: true
        merchantId:
          type: object
          example: clvud789k000008l41k8g0f9a
          nullable: true
        permissionRules:
          type: array
          items:
            $ref: "#/components/schemas/PermissionRuleResponseDto"
      required:
        - id
        - name
        - permissionRules
    ShiftEmployeeDto:
      type: object
      properties:
        id:
          type: string
          example: emp_123
        name:
          type: string
          example: Javier Rodriguez
        status:
          example: ACTIVE
          allOf:
            - $ref: "#/components/schemas/Status"
        photoUrl:
          type: string
          nullable: true
      required:
        - id
        - name
        - status
        - photoUrl
    EmployeeShiftResponseDto:
      type: object
      properties:
        id:
          type: string
          example: shift_abc
        employeeId:
          type: string
          example: emp_123
        businessId:
          type: number
          example: 456
          description: The orderingBusinessId.
        clockInTime:
          format: date-time
          type: string
          example: 2025-11-12T09:00:00.000Z
          nullable: true
        clockOutTime:
          format: date-time
          type: string
          example: null
          nullable: true
        activeSessionId:
          type: string
          example: null
        employee:
          description: Nested employee details.
          allOf:
            - $ref: "#/components/schemas/ShiftEmployeeDto"
      required:
        - id
        - employeeId
        - businessId
        - clockInTime
        - clockOutTime
        - activeSessionId
        - employee
    TodayShiftResponseDto:
      type: object
      properties:
        activeShift:
          nullable: true
          description: The currently open shift for the employee, or null if none.
          allOf:
            - $ref: "#/components/schemas/EmployeeShiftResponseDto"
      required:
        - activeShift
    ClockInRequestDto:
      type: object
      properties:
        employeeId:
          type: string
          example: emp_123
          description: The ID of the employee clocking in.
      required:
        - employeeId
    ClockOutRequestDto:
      type: object
      properties:
        employeeId:
          type: string
          example: shift_abc
          description: The ID of the employee.
      required:
        - employeeId
    PaginatedResponseDto:
      type: object
      properties:
        data:
          type: array
          items:
            type: string
        pagination:
          type: object
      required:
        - data
        - pagination
    UnlockTerminalDto:
      type: object
      properties:
        employeeId:
          type: string
          example: emp_123
          description: The ID of the employee unlocking the terminal.
      required:
        - employeeId
    EmployeeSessionResponseDto:
      type: object
      properties:
        employee:
          description: The full employee profile.
          allOf:
            - $ref: "#/components/schemas/ShiftEmployeeDto"
        activeShift:
          nullable: true
          description: The active shift, if the user is already clocked in. Null otherwise.
          allOf:
            - $ref: "#/components/schemas/EmployeeShiftResponseDto"
      required:
        - employee
        - activeShift
    UpdatePosInventoryDto:
      type: object
      properties:
        pos_inventoried:
          type: boolean
          example: true
          description: Enable POS inventory tracking
        pos_quantity:
          type: number
          example: 100
          description: Current POS inventory quantity
      required:
        - pos_inventoried
        - pos_quantity
    PosInventoryStatusResponseDto:
      type: object
      properties:
        product_id:
          type: number
          example: 1
          description: Product ID
        category_id:
          type: number
          example: 2
          description: Category ID
        pos_inventoried:
          type: boolean
          example: true
          description: POS inventory tracking enabled
        pos_quantity:
          type: number
          example: 100
          description: Current POS inventory quantity
      required:
        - product_id
        - category_id
        - pos_inventoried
        - pos_quantity
    CashSessionResponseDto:
      type: object
      properties:
        activeSession:
          oneOf:
            - $ref: "#/components/schemas/CashSessionDto"
            - type: "null"
          nullable: true
          description: The currently open cash session for the business, or null if none.
      required:
        - activeSession
    CashSessionStatus:
      type: string
      enum:
        - OPEN
        - COUNTING
        - CLOSED
    CashSessionTotalsDto:
      type: object
      properties:
        sales:
          type: number
          example: 1500
          description: Total Cash Sales
        refunds:
          type: number
          example: 50
          description: Total Cash Refunds
        cashIn:
          type: number
          example: 100
          description: Total Manual Cash In
        cashOut:
          type: number
          example: 200
          description: Total Manual Cash Out
      required:
        - sales
        - refunds
        - cashIn
        - cashOut
    CashSessionClosingDto:
      type: object
      properties:
        expectedCash:
          type: number
          example: 1850
          description: Calculated Expected Amount
        countedCash:
          type: number
          example: 1855
          description: Actual Counted Amount
        difference:
          type: number
          example: 5
          description: Difference (Counted - Expected)
        notes:
          type: string
          example: Found extra 5 euros under tray
      required:
        - expectedCash
        - countedCash
        - difference
    CashSessionDto:
      type: object
      properties:
        id:
          type: string
          example: session_xyz789
          description: Session ID
        businessId:
          type: string
          example: biz_351
          description: Business ID
        currency:
          type: string
          example: EUR
        status:
          example: OPEN
          allOf:
            - $ref: "#/components/schemas/CashSessionStatus"
        openedBy:
          type: string
          example: staff_001
          description: ID of staff who opened
          nullable: true
        openedAt:
          format: date-time
          type: string
          example: 2025-08-05T09:00:00.000Z
        closedBy:
          type: string
          example: staff_002
          description: ID of staff who closed
          nullable: true
        closedAt:
          format: date-time
          type: string
          example: 2025-08-05T22:00:00.000Z
        openingBalance:
          type: number
          example: 500
          description: Initial float amount
        totals:
          $ref: "#/components/schemas/CashSessionTotalsDto"
        closing:
          description: Closing reconciliation data
          allOf:
            - $ref: "#/components/schemas/CashSessionClosingDto"
        currentStageLabel:
          type: string
          example: Shift 1 - Morning
          description: Optional label for the stage/shift
      required:
        - id
        - businessId
        - currency
        - status
        - openedAt
        - openingBalance
        - totals
    CashLogType:
      type: string
      enum:
        - OPENING
        - SALE
        - REFUND
        - MANUAL_IN
        - MANUAL_OUT
        - CLOSING
    CashLogReason:
      type: string
      enum:
        - SALE_TRANSACTION
        - REFUND_TRANSACTION
        - ORDER_VOID
        - OPENING_FLOAT
        - CLOSING_COUNT
        - ADJUSTMENT_ENTRY
        - BANK_TRANSFER_IN
        - PRIVATE_DEPOSIT
        - TIPS_DEPOSIT
        - PURCHASE_MATERIALS
        - BANK_TRANSFER_OUT
        - SALARY_PAYOUT
        - TIPS_PAYOUT
        - PRIVATE_WITHDRAWAL
        - OTHER_EXPENSE
        - OTHER
    CashLogDto:
      type: object
      properties:
        id:
          type: string
          example: log_abc123
          description: Unique Log ID
        currency:
          type: string
          example: EUR
        businessId:
          type: string
          example: biz_351
          description: Business ID
        cashSessionId:
          type: string
          example: session_xyz789
          description: Linked Session ID
        staffId:
          type: string
          example: staff_001
          description: Staff Member ID
          nullable: true
        timestamp:
          format: date-time
          type: string
          example: 2025-08-05T10:00:00.000Z
        type:
          example: MANUAL_IN
          description: Type of cash movement
          allOf:
            - $ref: "#/components/schemas/CashLogType"
        amount:
          type: number
          example: 50
          description: Amount of movement (always positive absolute value)
        reason:
          example: PURCHASE_MATERIALS
          description: Specific reason for the movement
          allOf:
            - $ref: "#/components/schemas/CashLogReason"
        referenceId:
          type: string
          example: order_999
          description: Related Order ID if applicable
        description:
          type: string
          example: Added from safe
          description: Optional detailed description
      required:
        - id
        - currency
        - businessId
        - cashSessionId
        - staffId
        - timestamp
        - type
        - amount
        - reason
    CreateInvoiceCompanyDto:
      type: object
      properties:
        businessId:
          type: number
          example: 351
        name:
          type: string
          example: Nokia Corporation
        email:
          type: string
          example: invoice@nokia.com
        countryCode:
          type: string
          example: "+358"
        phone:
          type: string
          example: "+358501234567"
        bic:
          type: string
          example: 1234567-8
        address:
          type: string
          example: Espoo, Finland
      required:
        - businessId
        - name
        - email
        - countryCode
        - phone
    UpdateInvoiceCompanyDto:
      type: object
      properties:
        name:
          type: string
          example: Nokia Corporation
        email:
          type: string
          example: invoice@nokia.com
        countryCode:
          type: string
          example: "+358"
        phone:
          type: string
          example: "+358501234567"
        bic:
          type: string
          example: 1234567-8
        address:
          type: string
          example: Espoo, Finland
    DiscoverTerminalDto:
      type: object
      properties:
        businessId:
          type: number
          description: The id of the business
        provider:
          description: The payment gateway or hardware provider handling the transaction.
          example: stripe
          allOf:
            - $ref: "#/components/schemas/PaymentProvider"
      required:
        - businessId
        - provider
    ConnectTerminalDto:
      type: object
      properties:
        terminalHardwareId:
          type: string
          description: The unique hardware identifier of the physical terminal.
          example: TID-99203-AX
      required:
        - terminalHardwareId
    StationType:
      type: string
      enum:
        - KIOSK
        - POS
    StationDetailsDto:
      type: object
      properties:
        id:
          type: string
          example: cuid123456
        name:
          type: string
          example: Kitchen Station 1
        hardwareId:
          type: string
          example: station-tablet-001
        type:
          example: KIOSK
          allOf:
            - $ref: "#/components/schemas/StationType"
        status:
          example: ACTIVE
          allOf:
            - $ref: "#/components/schemas/Status"
        orderingBusinessId:
          type: number
          example: 351
        prefix:
          type: string
          example: station-tablet-001
        metadata:
          type: object
          example:
            deviceModel: iPad Pro
            osVersion: "17.2"
        createdAt:
          type: string
          description: Timestamp when the station record was created.
          format: date-time
        updatedAt:
          type: string
          description: Timestamp when the station record was last updated.
          format: date-time
        paymentTerminal:
          description: The payment terminal connected to this station, or null if
            unassigned.
          nullable: true
          allOf:
            - $ref: "#/components/schemas/PaymentTerminalDto"
      required:
        - id
        - name
        - hardwareId
        - type
        - status
        - orderingBusinessId
        - prefix
        - createdAt
        - updatedAt
    GetStationResponseDto:
      type: object
      properties:
        station:
          description: The station details.
          nullable: true
          allOf:
            - $ref: "#/components/schemas/StationDetailsDto"
      required:
        - station
    SyncStationDto:
      type: object
      properties:
        hardwareId:
          type: string
          example: station-tablet-001
          description: Unique hardware ID of the station device
        businessId:
          type: number
          example: 351
          description: Ordering business ID
        name:
          type: string
          example: Kitchen Station 1
          description: Display name for the station
        prefix:
          type: string
          example: K1
          description: Prefix for station when creating orders
        type:
          description: Type of station (KIOSK or POS)
          example: KIOSK
          default: KIOSK
          allOf:
            - $ref: "#/components/schemas/StationType"
        paymentTerminalId:
          type: string
          example: terminal-id-123
          description: Payment terminal ID associated with this station
        settings:
          type: object
          example:
            autoPrint: true
            theme: dark
          description: Additional settings for the station in JSON format
        metadata:
          type: object
          example:
            deviceModel: iPad Pro
            osVersion: "17.2"
            appVersion: 1.0.0
          description: Metadata information about the station device in JSON format
      required:
        - hardwareId
        - businessId
        - prefix
    StationSyncResponseDto:
      type: object
      properties:
        message:
          type: string
          example: Station synced successfully
          description: A success message indicating the sync was successful
      required:
        - message
    SyncTerminalDto:
      type: object
      properties:
        stationHardwareId:
          type: string
          example: station-tablet-001
          description: Hardware ID of the station to connect the terminal to
        terminalId:
          type: string
          example: terminal-123
          description: Hardware ID of the payment terminal
        provider:
          description: Payment provider of the terminal
          example: viva
          allOf:
            - $ref: "#/components/schemas/PaymentProvider"
        label:
          type: string
          example: Main Counter Terminal
          description: Label/name for the terminal
        connectionType:
          description: Connection type of the terminal
          example: NETWORK
          default: NETWORK
          allOf:
            - $ref: "#/components/schemas/TerminalConnectionType"
        businessId:
          type: number
          example: 351
          description: Business ID that owns the terminal
      required:
        - stationHardwareId
        - terminalId
        - provider
        - businessId
    OrderHistoryPosResponseDtoV2:
      type: object
      properties:
        orders:
          description: Cart order data
          type: array
          items:
            $ref: "#/components/schemas/PosOrderDto"
        summary:
          description: Order summary
          allOf:
            - $ref: "#/components/schemas/OrderSummaryDto"
        pagination:
          description: Pagination details
          allOf:
            - $ref: "#/components/schemas/PaginationDto"
      required:
        - orders
        - summary
        - pagination
    TransactionType:
      type: string
      enum:
        - purchase
        - purchaseWithCashback
        - reversal
        - returnOfGoods
        - bonus
        - authorization
        - preAuthorizationIncremental
        - preAuthorizationReversal
        - preAuthorizationSaleCompletion
        - deposit
        - balanceInquiry
    AccountFundingTransactionDetails:
      type: object
      properties:
        transactionCategory:
          type: string
          description: Transaction category for Account Funding Transactions.
          example: T
        paymentType:
          type: string
          description: Payment type for Account Funding Transactions.
          example: "01"
        transactionPurpose:
          type: string
          description: Purpose of the transaction.
          example: "00"
        senderReferenceNumber:
          type: string
          description: A reference number for the sender.
          example: "123456789012"
        senderName:
          type: string
          description: The sender's name.
          example: SenderName30characters.1234567
        senderCity:
          type: string
          description: The sender's city.
          example: SenderCity25characters123
        senderState:
          type: string
          description: The sender's state.
          example: OSL
        senderCountry:
          type: string
          description: The sender's country in NOR-3166-1 alpha-3 format.
          example: NOR
        senderStreetAddress:
          type: string
          description: The sender's street address.
          example: Sender Address35characters.123456789
        sourceOfFunds:
          type: string
          description: Source of funds.
          example: A1
        recipientName:
          type: string
          description: The recipient's name.
          example: Receivername30char.01234567890
        recipientAccount:
          type: string
          description: The recipient's account number (e.g., IBAN).
          example: ReceivIBANaccount89012345678901234
        recipientAccountNumberType:
          type: string
          description: The type of the recipient account number.
          example: "01"
        acceptorLegalBusinessName:
          type: string
          description: The legal business name of the acceptor.
          example: Acceptor Legal BusinessName
        merchantMarkupFee:
          type: string
          description: Any markup fee applied by the merchant.
          example: "123456789012"
      required:
        - paymentType
        - senderReferenceNumber
    CreateNetsTransactionDto:
      type: object
      properties:
        transactionType:
          description: The type of financial transaction to perform.
          example: purchase
          allOf:
            - $ref: "#/components/schemas/TransactionType"
        amount:
          type: number
          description: The transaction amount in the smallest currency unit (e.g., cents
            for EUR). So 25.15 EUR should be sent as 2515.
          example: 2515
        allowPinBypass:
          type: boolean
          description: If true, allows the cardholder to bypass PIN entry. The fraud
            liability shifts to the merchant.
          default: false
          example: false
        operatorId:
          type: string
          description: The operator ID for a terminal with a multimerchant configuration.
            Main merchant is "0001".
          example: "0001"
        orderId:
          type: string
          description: A unique ID for the order or receipt, used for reconciliation
            purposes.
          example: 10A90015224431
        accountFundingTransactionDetails:
          description: Contains details required for an Account Funding Transaction (AFT).
          allOf:
            - $ref: "#/components/schemas/AccountFundingTransactionDetails"
        preAuthorizationInfo:
          type: string
          description: The authorization token received from a preceding "authorization"
            transaction, required for completion or reversal.
          example: 2cb12d7f1c0ea477d1d3eb1a8be0343f7ad104e78c283a4357e5e77feb2c2a1f
        orderingBusinessId:
          type: number
          description: The ordering business ID for this transaction.
        provider:
          description: The payment provider for this transaction.
          allOf:
            - $ref: "#/components/schemas/PaymentProvider"
        cartId:
          type: string
          description: The cart ID for this transaction.
        terminalId:
          type: string
          description: The terminal ID for this transaction.
      required:
        - transactionType
        - amount
        - orderingBusinessId
        - provider
        - cartId
        - terminalId
    CreateNetsTransactionResponseDto:
      type: object
      properties:
        transactionType:
          description: The type of financial transaction to perform.
          example: purchase
          allOf:
            - $ref: "#/components/schemas/TransactionType"
        amount:
          type: number
          description: The transaction amount in the smallest currency unit (e.g., cents
            for EUR). So 25.15 EUR should be sent as 2515.
          example: 2515
        allowPinBypass:
          type: boolean
          description: If true, allows the cardholder to bypass PIN entry. The fraud
            liability shifts to the merchant.
          default: false
          example: false
        operatorId:
          type: string
          description: The operator ID for a terminal with a multimerchant configuration.
            Main merchant is "0001".
          example: "0001"
        orderId:
          type: string
          description: A unique ID for the order or receipt, used for reconciliation
            purposes.
          example: 10A90015224431
        accountFundingTransactionDetails:
          description: Contains details required for an Account Funding Transaction (AFT).
          allOf:
            - $ref: "#/components/schemas/AccountFundingTransactionDetails"
        preAuthorizationInfo:
          type: string
          description: The authorization token received from a preceding "authorization"
            transaction, required for completion or reversal.
          example: 2cb12d7f1c0ea477d1d3eb1a8be0343f7ad104e78c283a4357e5e77feb2c2a1f
        orderingBusinessId:
          type: number
          description: The ordering business ID for this transaction.
        provider:
          description: The payment provider for this transaction.
          allOf:
            - $ref: "#/components/schemas/PaymentProvider"
        cartId:
          type: string
          description: The cart ID for this transaction.
        terminalId:
          type: string
          description: The terminal ID for this transaction.
        connectCloudRequestId:
          type: string
          description: A unique identifier for the Nets transaction.
          example: "156023467841"
      required:
        - transactionType
        - amount
        - orderingBusinessId
        - provider
        - cartId
        - terminalId
        - connectCloudRequestId
    NetsCancelPayloadDto:
      type: object
      properties:
        terminalId:
          type: string
          description: The unique identifier for the payment terminal.
          example: "77773000"
        requestId:
          type: string
          description: The unique request identifier for the request.
          example: abcd1234
          nullable: true
        orderingBusinessId:
          type: number
          description: The ID of the business that owns the terminal.
          example: 1234
      required:
        - terminalId
        - requestId
        - orderingBusinessId
    ShareOrderingBusinessIdPayload:
      type: object
      properties:
        orderingBusinessId:
          type: number
          description: The ordering business ID for this transaction.
      required:
        - orderingBusinessId
    DiscoveredNetsTerminalDto:
      type: object
      properties:
        terminalId:
          type: string
          description: The unique identifier for the payment terminal.
          example: "77773000"
        name:
          type: string
          description: A friendly name for the terminal, often the same as the ID.
          example: Front Counter
        isConnected:
          type: boolean
          description: Indicates if this terminal is currently connected in your database.
          example: true
        connectedToCurrentBusiness:
          type: boolean
          description: Indicates if this terminal is currently connected in other business.
          example: true
        connectedToOtherBusinessId:
          type: number
          description: Indicates if this business that the terminal is currently connected
          example: true
      required:
        - terminalId
        - name
        - isConnected
        - connectedToCurrentBusiness
        - connectedToOtherBusinessId
    ConnectTerminalPayloadDto:
      type: object
      properties:
        terminalId:
          type: string
          description: Id of the terminal
          example: "77773000"
        orderingBusinessId:
          type: number
          description: Id of the business
          example: "1234"
      required:
        - terminalId
        - orderingBusinessId
    ConnectTerminaldDto:
      type: object
      properties:
        terminalId:
          type: string
          description: Id of the terminal
          example: "77773000"
        id:
          type: string
          example: abcd1234
        name:
          type: string
          description: Name of the terminal
          example: "77773000"
        connectedAt:
          format: date-time
          type: string
          description: Time when it last connected to the terminal
          example: "77773000"
      required:
        - terminalId
        - id
        - name
        - connectedAt
    RefundPayloadDto:
      type: object
      properties:
        orderingBusinessId:
          type: number
          description: The ordering business ID for this transaction.
        posOrderId:
          type: string
          description: The POS order id for this transaction.
        transactionIds:
          description: The transaction IDs to refund.
          nullable: true
          type: array
          items:
            type: string
        items:
          description: The item data to be refunded
          nullable: true
          type: array
          items:
            $ref: "#/components/schemas/RefundedItemDto"
        refundTransactionId:
          type: string
          description: The unique ID of the transaction to be refunded
          nullable: true
          format: uuid
        terminalId:
          type: string
          description: The terminal id for this transaction.
      required:
        - orderingBusinessId
        - posOrderId
        - transactionIds
        - items
        - refundTransactionId
        - terminalId
    NetsRemoveFailedTransactionPayloadDto:
      type: object
      properties:
        requestId:
          type: string
          description: The unique request identifier for the request.
          example: abcd1234
          nullable: true
        orderingBusinessId:
          type: number
          description: The ID of the business that owns the terminal.
          example: 1234
      required:
        - requestId
        - orderingBusinessId
    CashRefundPayload:
      type: object
      properties:
        id:
          type: string
          description: Unique internal ID for this refund transaction
        refundId:
          type: string
          description: Unique internal ID for this refund transaction
        providerRefundId:
          type: string
          description: Refund ID from the payment provider (e.g., Stripe refund ID).
            Deprecated soon
        sourceTransactionId:
          type: string
          description: Refund ID from the payment provider V2 (e.g., Stripe refund ID)
          nullable: true
        originalPaymentId:
          type: string
          description: ID of the original payment being refunded
          nullable: true
          deprecated: true
        originalPaymentEventId:
          type: string
          description: ID of the original payment being refunded
          nullable: true
        paymentProvider:
          allOf:
            - $ref: "#/components/schemas/PaymentProviderEnum"
        amount:
          type: number
          description: The amount refunded
        currency:
          type: string
          description: Currency of the refund (ISO 4217 code, e.g., EUR)
        status:
          allOf:
            - $ref: "#/components/schemas/RefundStatusEnum"
        processedAt:
          format: date-time
          type: string
          description: Timestamp when the refund was processed
        reason:
          type: string
          description: Reason for the refund
          nullable: true
        items:
          description: Specific items refunded
          type: array
          items:
            $ref: "#/components/schemas/RefundedItemDto"
        type:
          allOf:
            - $ref: "#/components/schemas/PaymentMethod"
        metadata:
          type: object
          description: Additional metadata from the payment provider or system
          additionalProperties: true
        orderingBusinessId:
          type: number
          description: The ordering business ID for this transaction.
        posOrderId:
          type: string
          description: The POS order id for this transaction.
      required:
        - id
        - refundId
        - providerRefundId
        - sourceTransactionId
        - paymentProvider
        - amount
        - currency
        - status
        - processedAt
        - orderingBusinessId
        - posOrderId
    ManualRefundPayload:
      type: object
      properties:
        id:
          type: string
          description: Unique internal ID for this refund transaction
        refundId:
          type: string
          description: Unique internal ID for this refund transaction
        providerRefundId:
          type: string
          description: Refund ID from the payment provider (e.g., Stripe refund ID).
            Deprecated soon
        sourceTransactionId:
          type: string
          description: Refund ID from the payment provider V2 (e.g., Stripe refund ID)
          nullable: true
        originalPaymentId:
          type: string
          description: ID of the original payment being refunded
          nullable: true
          deprecated: true
        originalPaymentEventId:
          type: string
          description: ID of the original payment being refunded
          nullable: true
        paymentProvider:
          allOf:
            - $ref: "#/components/schemas/PaymentProviderEnum"
        amount:
          type: number
          description: The amount refunded
        currency:
          type: string
          description: Currency of the refund (ISO 4217 code, e.g., EUR)
        status:
          allOf:
            - $ref: "#/components/schemas/RefundStatusEnum"
        processedAt:
          format: date-time
          type: string
          description: Timestamp when the refund was processed
        reason:
          type: string
          description: Reason for the refund
          nullable: true
        items:
          description: Specific items refunded
          type: array
          items:
            $ref: "#/components/schemas/RefundedItemDto"
        type:
          description: Payment method type
          allOf:
            - $ref: "#/components/schemas/PaymentMethod"
        metadata:
          type: object
          description: Additional metadata from the payment provider or system
          additionalProperties: true
        orderingBusinessId:
          type: number
          description: The ordering business ID for this transaction.
        posOrderId:
          type: string
          description: The POS order id for this transaction.
      required:
        - id
        - refundId
        - providerRefundId
        - sourceTransactionId
        - paymentProvider
        - amount
        - currency
        - status
        - processedAt
        - orderingBusinessId
        - posOrderId
    TimeDto:
      type: object
      properties:
        hour:
          type: number
          description: Hour component of the time (0-23)
        minute:
          type: number
          description: Minute component of the time (0-59)
      required:
        - hour
        - minute
    LapseDto:
      type: object
      properties:
        open:
          description: Opening time for the lapse
          allOf:
            - $ref: "#/components/schemas/TimeDto"
        close:
          description: Closing time for the lapse
          allOf:
            - $ref: "#/components/schemas/TimeDto"
      required:
        - open
        - close
    ScheduleDto:
      type: object
      properties:
        lapses:
          description: Array of time lapses for a specific day of the week
          type: array
          items:
            $ref: "#/components/schemas/LapseDto"
        enabled:
          type: boolean
          description: Indicates if this schedule entry is active
      required:
        - lapses
        - enabled
    KioskLayout:
      type: string
      enum:
        - VERTICAL
        - HORIZONTAL
    UpsellMode:
      type: string
      enum:
        - AfterAddProduct
        - BeforeCheckout
        - Disabled
    ProductDetailLayout:
      type: string
      enum:
        - MODAL
        - SCREEN
    ConfigDto:
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the configuration
        currency:
          description: Currency code, e.g., EUR
          allOf:
            - $ref: "#/components/schemas/CurrencyCode"
        createdAt:
          format: date-time
          type: string
          description: Creation date and time in ISO 8601 format
        updatedAt:
          format: date-time
          type: string
          description: Last update date and time in ISO 8601 format
        orderingBusinessId:
          type: number
          description: ID used by the ordering business system
        channel:
          description: The sales channel, e.g., Kiosk
          allOf:
            - $ref: "#/components/schemas/ProviderEnum"
        autoRejectEnabled:
          type: boolean
          description: Whether automatic rejection of orders is enabled
        layout:
          description: Layout setting
          allOf:
            - $ref: "#/components/schemas/KioskLayout"
        upsellMode:
          description: Upsell mode configuration
          allOf:
            - $ref: "#/components/schemas/UpsellMode"
        kioskAutoPrintReceipt:
          type: boolean
          description: Default config for kiosk auto print
        productDetailLayout:
          description: Product detail screen layout, e.g., SCREEN
          allOf:
            - $ref: "#/components/schemas/ProductDetailLayout"
        selectedPaymentProvider:
          description: The selected payment provider
          nullable: true
          allOf:
            - $ref: "#/components/schemas/PaymentProvider"
        hasLoyaltyProgram:
          type: boolean
          description: Show if business has loyalty program
        appearanceConfig:
          type: object
          description: Configuration for the business background
        showLocator:
          type: boolean
          description: Configuration for the locator screen
        companyName:
          type: string
          description: Company name for the business
          nullable: true
        timezone:
          type: string
          description: Timezone for the business
          nullable: true
        theme:
          type: object
          description: Configuration for the theme
      required:
        - id
        - currency
        - createdAt
        - updatedAt
        - orderingBusinessId
        - channel
        - autoRejectEnabled
        - layout
        - upsellMode
        - kioskAutoPrintReceipt
        - productDetailLayout
        - selectedPaymentProvider
        - hasLoyaltyProgram
        - appearanceConfig
        - showLocator
        - companyName
        - timezone
        - theme
    LoyaltyLinkMetadataDto:
      type: object
      properties:
        venueId:
          type: number
          description: Venue ID within the loyalty program
      required:
        - venueId
    LoyaltyLinkDto:
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the loyalty link
        businessId:
          type: number
          description: ID of the associated business
        loyaltyProgramId:
          type: string
          description: ID of the linked loyalty program
        metadata:
          description: Metadata for the loyalty link
          allOf:
            - $ref: "#/components/schemas/LoyaltyLinkMetadataDto"
        createdAt:
          format: date-time
          type: string
          description: Creation date and time in ISO 8601 format
        updatedAt:
          format: date-time
          type: string
          description: Last update date and time in ISO 8601 format
      required:
        - id
        - businessId
        - loyaltyProgramId
        - metadata
        - createdAt
        - updatedAt
    BusinessResponseDto:
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the business
        enabled:
          type: boolean
          description: Indicates if the business is enabled
        name:
          type: string
          description: Name of the business
        logo:
          type: string
          description: URL for the business logo image
          nullable: true
        email:
          type: string
          description: Contact email address
          nullable: true
        address:
          type: string
          description: Physical address of the business
          nullable: true
        createdAt:
          format: date-time
          type: string
          description: Creation date and time in ISO 8601 format
        phone:
          type: string
          description: Contact phone number
          nullable: true
        orderingBusinessId:
          type: number
          description: ID used by the ordering business system
        bic:
          type: string
          description: Business Identity Code (BIC)
          nullable: true
        schedule:
          description: Weekly operating schedule (7 elements for 7 days)
          type: array
          items:
            $ref: "#/components/schemas/ScheduleDto"
        chainId:
          type: string
          description: Identifier for the business chain
          nullable: true
        merchantId:
          type: string
          description: Identifier for the merchant
          nullable: true
        config:
          description: Configuration settings for the business (usually a single element)
          type: array
          items:
            $ref: "#/components/schemas/ConfigDto"
        loyaltyLinks:
          description: Links to loyalty programs associated with the business
          type: array
          items:
            $ref: "#/components/schemas/LoyaltyLinkDto"
      required:
        - id
        - enabled
        - name
        - logo
        - email
        - address
        - createdAt
        - phone
        - orderingBusinessId
        - bic
        - schedule
        - chainId
        - merchantId
        - config
        - loyaltyLinks
    ExtendedCategoryDto:
      type: object
      properties:
        id:
          type: string
          example: "123"
        name:
          type: string
          example: Burgers
        image:
          type: object
          example: https://example.com/image.jpg
          nullable: true
        rank:
          type: number
          example: 1
        enabled:
          type: boolean
          example: true
        header:
          type: object
          example: Our special burger selection
          nullable: true
        description:
          type: object
          example: Delicious burgers from our menu
          nullable: true
        products:
          type: array
          items:
            $ref: "#/components/schemas/ExtendedProductDto"
        subcategories:
          type: array
          items:
            $ref: "#/components/schemas/SubcategoryDto"
        custom_color_code:
          type: string
          description: Category color code in hex format
          example: "#FF5733"
        colorCode:
          type: string
          description: Category color code in hex format
          example: "#FF5733"
      required:
        - id
        - name
        - image
        - rank
        - enabled
        - header
        - description
        - products
        - subcategories
    ProductWithCategoryDto:
      type: object
      properties:
        id:
          type: number
          example: 12345
          description: Product ID
        name:
          type: string
          example: Cheeseburger
          description: Product name
        price:
          type: number
          example: 9.99
          description: Product price
        description:
          type: string
          example: A delicious cheeseburger
          description: Product description
        images:
          type: string
          example: https://example.com/image.jpg
          description: Product image URL
        category_id:
          type: number
          example: 1
          description: Category ID the product belongs to
        inventoried:
          type: boolean
          example: true
          description: Whether the product is tracked for inventory
        quantity:
          type: number
          example: 10
          description: Available quantity if inventoried
        featured:
          type: boolean
          example: true
          description: Whether the product is marked as featured
        enabled:
          type: boolean
          example: true
          description: Whether the product is currently enabled
        upselling:
          type: boolean
          example: false
          description: Whether upselling is enabled for this product
        in_offer:
          type: boolean
          example: false
          description: Whether the product is part of an offer
        offer_price:
          type: object
          example: null
          nullable: true
          description: Offer price if applicable
        rank:
          type: number
          example: 1
          description: Display order rank of the product
        weight_unit:
          type: object
          example: g
          description: Weight unit (e.g., g, kg, ml)
        updated_at:
          type: string
          example: 2024-03-16T12:00:00Z
          description: Last update timestamp
        created_at:
          type: string
          example: 2024-03-16T12:00:00Z
          description: Product creation timestamp
        deleted_at:
          type: object
          example: null
          nullable: true
          description: Deletion timestamp if soft-deleted
        extras:
          description: List of product extras (e.g., toppings, add-ons)
          type: array
          items:
            $ref: "#/components/schemas/OrderingItemExtraDto"
        is_restricted:
          type: boolean
          example: true
          description: Whether the product is restricted
        tax:
          allOf: *a57
          nullable: true
        categoryName:
          type: string
          description: Name of the category this product belongs to
          example: Appetizers
        pos_inventoried:
          type: boolean
          description: Indicates if the product is inventoried in POS
          example: true
        pos_quantity:
          type: number
          description: Quantity of the product in POS
          example: 10
        channel_configs:
          description: Channel config of inventoried per product
          type: array
          items:
            $ref: "#/components/schemas/ChannelConfig"
            minLength: 2
      required:
        - id
        - name
        - price
        - description
        - images
        - category_id
        - inventoried
        - quantity
        - featured
        - enabled
        - upselling
        - in_offer
        - offer_price
        - rank
        - weight_unit
        - updated_at
        - created_at
        - deleted_at
        - extras
        - is_restricted
        - tax
        - categoryName
        - pos_inventoried
        - pos_quantity
        - channel_configs
    ProductsSummaryDto:
      type: object
      properties:
        productCount:
          type: number
          example: 42
          description: Total number of products
        categoryCount:
          type: number
          example: 8
          description: Total number of categories
      required:
        - productCount
        - categoryCount
    ProductsByCategoriesResponseDto:
      type: object
      properties:
        products:
          description: List of products with their associated categories
          type: array
          items:
            $ref: "#/components/schemas/ProductWithCategoryDto"
        summary:
          description: Summary data for products and categories
          allOf:
            - $ref: "#/components/schemas/ProductsSummaryDto"
      required:
        - products
        - summary
    ProductAvailability:
      type: string
      enum:
        - AVAILABLE
        - UNAVAILABLE_TODAY
        - UNAVAILABLE_INDEFINITELY
    MenuProductDtoV2:
      type: object
      properties:
        id:
          type: number
          example: 15460
          description: Product ID from Ordering
        categoryId:
          type: number
          example: 5528
          description: Category ID in Ordering
        enabled:
          type: boolean
          example: true
          description: Visibility flag
        availabilityStatus:
          example: UNAVAILABLE_INDEFINITELY
          description: Product availability
          allOf:
            - $ref: "#/components/schemas/ProductAvailability"
      required:
        - id
        - categoryId
        - enabled
        - availabilityStatus
    ChannelInventoryUpdateDto:
      type: object
      properties:
        channel:
          description: Channel to update
          example: MunchiPos
          allOf:
            - $ref: "#/components/schemas/ProviderEnum"
        inventoried:
          type: boolean
          description: Whether inventory tracking is enabled for this channel
          example: true
        quantity:
          type: number
          description: Current quantity for this channel
          example: 10
        enabled:
          type: boolean
          description: Whether the product is enabled for this channel
          example: true
      required:
        - channel
        - inventoried
        - quantity
    UpdateChannelInventoryDto:
      type: object
      properties:
        channels:
          description: Array of channel inventory updates
          type: array
          items:
            $ref: "#/components/schemas/ChannelInventoryUpdateDto"
      required:
        - channels
    ChannelInventoryResponseDto:
      type: object
      properties:
        channel:
          example: MunchiPos
          allOf:
            - $ref: "#/components/schemas/ProviderEnum"
        product_id:
          type: number
          example: 1
        category_id:
          type: number
          example: 2
        pos_inventoried:
          type: boolean
          example: true
        pos_quantity:
          type: number
          example: 10
        enabled:
          type: boolean
          example: true
      required:
        - channel
        - product_id
        - category_id
        - pos_inventoried
        - pos_quantity
        - enabled
    TaxRateItem:
      type: object
      properties:
        rate:
          type: number
          description: Tax rate percentage
          example: 14
        amount:
          type: number
          description: Tax amount for this rate
          example: 173.21
      required:
        - rate
        - amount
    TaxBreakdownDtoV3:
      type: object
      properties:
        taxRates:
          description: Tax breakdown by rate
          example:
            - rate: 14
              amount: 173.21
            - rate: 25.5
              amount: 22.42
          type: array
          items:
            $ref: "#/components/schemas/TaxRateItem"
        totalTaxAmount:
          type: number
          description: Total tax amount
          example: 195.63
      required:
        - taxRates
        - totalTaxAmount
    EndOfDayReportDtoV3:
      type: object
      properties:
        reportGeneratedAt:
          format: date-time
          type: string
          description: Report generated at
        reportDateStart:
          format: date-time
          type: string
          description: Report date start
        reportDateEnd:
          format: date-time
          type: string
          description: Report date end
        businessId:
          type: number
          description: Business ID
        paymentMethodDetails:
          description: Payment reconciliation
          type: array
          items:
            $ref: "#/components/schemas/PaymentDetailsDto"
        salesSummary:
          description: Sales summary
          allOf:
            - $ref: "#/components/schemas/SalesSummaryDto"
        taxBreakdown:
          description: Tax breakdown
          allOf:
            - $ref: "#/components/schemas/TaxBreakdownDtoV3"
        itemBreakdown:
          description: Item breakdown
          type: array
          items:
            $ref: "#/components/schemas/ItemBreakdownDto"
      required:
        - reportGeneratedAt
        - reportDateStart
        - reportDateEnd
        - businessId
        - paymentMethodDetails
        - salesSummary
        - taxBreakdown
        - itemBreakdown
    OrderPaginationDto:
      type: object
      properties:
        page:
          type: number
          description: Page number (starts from 1)
          example: 1
        limit:
          type: number
          description: Number of items per page (max 100)
          example: 20
        total:
          type: number
          description: Total number of items
        totalPages:
          type: number
          description: Total number of pages
        hasNext:
          type: boolean
          description: Whether there is a next page
          default: false
          example: true
        hasPrevious:
          type: boolean
          description: Whether there is a previous page
          default: false
          example: false
      required:
        - total
        - totalPages
        - hasNext
        - hasPrevious
    PaginatedOrderResponseDto:
      type: object
      properties:
        orders:
          description: Order details
          type: array
          items:
            $ref: "#/components/schemas/OrderResponseDto"
        pagination:
          description: Pagination details
          allOf:
            - $ref: "#/components/schemas/OrderPaginationDto"
      required:
        - orders
        - pagination
    RefundPayloadDtoV4:
      type: object
      properties:
        amount:
          type: number
          description: The amount to be refunded.
        merchantId:
          type: string
          description: The merchant ID for this transaction
        parentSessionId:
          type: string
          description: The parent session ID for this transaction.
        orderId:
          type: string
          description: The parent session ID for this transaction.
        businessId:
          type: string
          description: The business ID for this transaction.
        terminalId:
          type: string
          description: The terminal ID for this transaction
      required:
        - amount
        - merchantId
        - parentSessionId
        - orderId
        - businessId
        - terminalId
    CreateTransactionPayloadDto:
      type: object
      properties:
        orderingBusinessId:
          type: number
          description: The ordering business ID for this transaction.
        orderId:
          type: string
          description: The order ID for this transaction.
        amount:
          type: number
          description: The amount for this transaction in cents.
        currencyCode:
          type: string
          description: The currency code for this transaction.
        identityId:
          type: string
          description: The identity ID for this transaction.
      required:
        - orderingBusinessId
        - orderId
        - amount
        - currencyCode
        - identityId
    IntegrationType:
      type: string
      enum:
        - ORDERS
        - MENU
        - VENUE
    ProviderIntegrationDto:
      type: object
      properties:
        externalId:
          type: string
          example: clx8n4m9u0000s8q2p1h2k3l4
          description: Provider external ID (unique key used in integrations)
        provider:
          example: Wolt
          description: Provider enum (also used as channel in your schema)
          allOf:
            - $ref: "#/components/schemas/ProviderEnum"
        orderingBusinessId:
          type: number
          example: 12345
          description: Business orderingBusinessId
        supportedIntegrations:
          type: array
          example:
            - MENU
            - ORDERS
          description: Integrations this provider supports (capability)
          items:
            $ref: "#/components/schemas/IntegrationType"
        isInternal:
          type: boolean
          example: true
          description: Whether this provider is internal (starts with "Munchi")
      required:
        - externalId
        - provider
        - orderingBusinessId
        - supportedIntegrations
        - isInternal
    MenuReponseDto:
      type: object
      properties:
        menus:
          description: Array of menu data
          type: array
          items:
            $ref: "#/components/schemas/MenuDto"
        integrations:
          description: Array of integrations aligned with that business
          type: array
          items:
            $ref: "#/components/schemas/ProviderIntegrationDto"
      required:
        - menus
        - integrations
    OrderActionDataDto:
      type: object
      properties:
        orderId:
          type: string
          description: Order ID
          example: order_123
        businessId:
          type: string
          description: Business ID
          example: "12345"
        cancelledItems:
          description: Array of cancelled line item IDs
          example:
            - item_123
            - item_456
          type: array
          items:
            type: string
        targetUserId:
          type: number
          description: targetUserId
          example: 10
      required:
        - orderId
        - businessId
        - cancelledItems
    ProcessOrderActionsDto:
      type: object
      properties:
        actions:
          type: array
          description: Array of actions to process
          example:
            - NewOrder
            - Printing
          items:
            type: string
            enum:
              - Ticketing
              - OrderChange
              - NewOrder
              - Printing
              - PosOrderChange
              - UpdateLoyaltyPoints
        data:
          description: Action-specific data
          allOf:
            - $ref: "#/components/schemas/OrderActionDataDto"
      required:
        - actions
        - data
    ProcessOrderActionsResponseDto:
      type: object
      properties:
        order:
          description: Processed order
          allOf:
            - $ref: "#/components/schemas/PosOrderDto"
        processedActions:
          description: Actions that were processed
          example:
            - NewOrder
            - Printing
          type: array
          items:
            type: string
      required:
        - order
        - processedActions
    VivaErrorId:
      type: number
      enum:
        - 1000
        - 1001
        - 1002
        - 1003
        - 1004
        - 1006
        - 1007
        - 1008
        - 1009
        - 1010
        - 1011
        - 1012
        - 1013
        - 1014
        - 1016
        - 1017
        - 1018
        - 1019
        - 1020
        - 1021
        - 1047
        - 1048
        - 1049
        - 1050
        - 1051
        - 1052
        - 1053
        - 1054
        - 1055
        - 1056
        - 1057
        - 1058
        - 1059
        - 1060
        - 1061
        - 1062
        - 1063
        - 1064
        - 1065
        - 1066
        - 1067
        - 1068
        - 1069
        - 1070
        - 1071
        - 1072
        - 1074
        - 1075
        - 1076
        - 1077
        - 1079
        - 1080
        - 1081
        - 1082
        - 1083
        - 1099
        - 1100
        - 1101
        - 1102
        - 1110
        - 1301
        - 1302
        - 1303
        - 2000
        - 3000
        - 3001
        - 3002
        - 3099
        - 4000
        - 5000
        - 5001
        - 5002
        - 5003
        - 5004
        - 5005
        - 5006
        - 6000
        - 6102
        - 6201
        - 7001
        - 7002
        - 7003
        - 7004
        - 7005
    VivaPaymentResultDto:
      type: object
      properties:
        sessionId:
          type: string
          description: The session ID for the transaction.
          example: 77c5b454-73e8-48a0-8724-b49dfb4071b0
        terminalId:
          type: string
          description: The terminal ID that performed the transaction.
          example: "16572945"
        cashRegisterId:
          type: string
          description: The cash register ID associated with the transaction.
          example: "4740"
        amount:
          type: number
          description: The amount of the transaction in the smallest currency unit.
          example: 2970
        currencyCode:
          description: The ISO 4217 numeric currency code (as a string).
          example: "978"
          allOf:
            - $ref: "#/components/schemas/VivaCurrencyCode"
        merchantReference:
          type: string
          description: A reference for the merchant (e.g., order ID).
          example: Elias Dner Kebab Lippulaiva
        customerTrns:
          type: string
          description: A human-readable description for the customer statement.
          example: cart-a234ec04-5f5e-477c-b3e6-6263ba717a10
        showReceipt:
          type: boolean
          description: Whether the receipt was shown on the terminal.
          example: true
        showTransactionResult:
          type: boolean
          description: Whether the transaction result was shown on the terminal.
          example: true
        tipAmount:
          type: number
          description: The tip amount included in the transaction.
          example: 0
        success:
          type: boolean
          description: Indicates if the transaction was successful.
          example: true
        eventId:
          description: Event ID associated with the transaction. 0 typically indicates
            success, otherwise a code from VivaErrorId.
          example: 0
          allOf:
            - $ref: "#/components/schemas/VivaErrorId"
        parentSessionId:
          type: string
          description: Parent session id for refund
          example: 0
          nullable: true
        authorizationId:
          type: string
          description: Authorization ID from the acquirer/issuer.
          example: "417610"
        transactionId:
          type: string
          description: Unique transaction ID generated by the system.
          example: 8cce1f35-0f3b-40f1-ad10-d50d37a2ee00
        transactionTypeId:
          type: number
          description: Type ID of the transaction (e.g., Sale, Refund).
          example: 5
        retrievalReferenceNumber:
          type: number
          description: Retrieval Reference Number (RRN).
          example: 514617168107
        panEntryMode:
          type: string
          description: Indicates how the card was entered (e.g., Contactless, Chip).
          example: "07"
        applicationLabel:
          type: string
          description: Card application label (e.g., Visa Debit).
          example: Visa Debit
        aid:
          type: string
          description: Application Identifier (AID) of the card.
          example: A0000000031010
        primaryAccountNumberMasked:
          type: string
          description: Masked Primary Account Number (PAN) of the card.
          example: 431871******5415
        transactionDateTime:
          type: string
          description: Date and time of the transaction (ISO 8601 format).
          example: 2025-05-26T17:00:20.550000Z
          format: date-time
        abortOperation:
          type: boolean
          description: Indicates if the operation was aborted by the user/system.
          example: false
        abortAckTime:
          type: string
          description: Time the abort operation was acknowledged.
          example: null
          format: date-time
          nullable: true
        abortSuccess:
          type: boolean
          description: Indicates if the abort operation was successful.
          example: false
        loyaltyInfo:
          type: object
          description: Information related to loyalty programs.
          example: null
          nullable: true
        verificationMethod:
          type: string
          description: Cardholder Verification Method used (e.g., PIN, Signature, None).
          example: CONTACTLESS - NO CVM
        tid:
          type: string
          description: Terminal Identifier (TID), often same as terminalId.
          example: "16572945"
        shortOrderCode:
          type: string
          description: A short code related to the order.
          example: "5146208995"
        installments:
          type: number
          description: Number of installments for the payment.
          example: 0
        message:
          type: string
          description: A human-readable message about the transaction status.
          example: Transaction successful
        preauth:
          type: boolean
          description: Indicates if the transaction was a preauthorization.
          example: false
        referenceNumber:
          type: number
          description: A reference number for the transaction.
          example: 168107
        orderCode:
          type: string
          description: A full code related to the order.
          example: "5146208995572945"
        transactionEventId:
          type: number
          description: Transaction event ID.
          example: 0
        cardType:
          type: string
          description: Type of the card used (e.g., Visa Debit, Mastercard).
          example: Visa Debit
        bankId:
          type: string
          description: Identifier for the bank or card network.
          example: NET_VISA
        isvDetails:
          description: ISV (Independent Software Vendor) specific details.
          allOf:
            - $ref: "#/components/schemas/IsvDetails"
        aadeTransactionId:
          type: object
          description: AADE (Greek Tax Authority) specific transaction ID.
          example: null
          nullable: true
        aadeResultCommand:
          type: object
          description: AADE (Greek Tax Authority) specific result command.
          example: null
          nullable: true
        dccDetails:
          type: object
          description: Dynamic Currency Conversion (DCC) details, if applicable.
          example: null
          nullable: true
        surchargeAmount:
          type: number
          description: Any surcharge amount applied to the transaction.
          example: 0
      required:
        - sessionId
        - terminalId
        - cashRegisterId
        - amount
        - currencyCode
        - showReceipt
        - showTransactionResult
        - tipAmount
        - success
        - eventId
        - authorizationId
        - transactionId
        - transactionTypeId
        - retrievalReferenceNumber
        - panEntryMode
        - applicationLabel
        - aid
        - primaryAccountNumberMasked
        - transactionDateTime
        - abortOperation
        - abortSuccess
        - verificationMethod
        - tid
        - shortOrderCode
        - installments
        - message
        - preauth
        - referenceNumber
        - orderCode
        - transactionEventId
        - cardType
        - bankId
        - surchargeAmount
    CreateRefundDto:
      type: object
      properties:
        businessId:
          type: number
          description: The internal business ID.
        orderReferenceId:
          type: string
          description: The order reference id.
        referenceId:
          type: string
          description: The unique reference for the order to be refunded.
        displayId:
          type: string
          description: The display reference for the order (e.g., visual ID).
        amount:
          type: number
          description: Amount to refund in the smallest currency unit (e.g., cents).
        currency:
          allOf:
            - $ref: "#/components/schemas/CurrencyCode"
      required:
        - businessId
        - orderReferenceId
        - referenceId
        - displayId
        - amount
        - currency
    CreateNetsRefundResponseDto:
      type: object
      properties:
        referenceId:
          type: string
          description: The reference ID of the refund transaction from Nets.
          example: req_123456789
      required:
        - referenceId
    CreateTerminalPaymentDto:
      type: object
      properties:
        businessId:
          type: number
          description: The internal business ID.
        referenceId:
          type: string
          description: The unique reference for the order or cart.
        displayId:
          type: string
          description: The display reference for the order or cart.
        amount:
          type: number
          description: Amount in the smallest currency unit (e.g., cents).
        currency:
          allOf:
            - $ref: "#/components/schemas/CurrencyCode"
        showReceipt:
          type: boolean
        tipAmount:
          type: number
        showTransactionResult:
          type: boolean
          default: true
      required:
        - businessId
        - referenceId
        - displayId
        - amount
        - currency
    SalesSummaryDtoV2:
      type: object
      properties:
        totalOrders:
          type: number
          description: Total number of orders
          example: 76
        totalSales:
          type: number
          description: Total sales amount
          example: 1588.65
        netSales:
          type: number
          description: Net sales amount after adjustments
          example: 1432.25
        totalPaid:
          type: number
          description: Total amount actually paid
          example: 1432.25
        totalDifference:
          type: number
          description: Total difference
          example: 156.4
        totalTransactions:
          type: number
          description: Total transactions
          example: 26
        rejectedOrders:
          type: number
          description: Number of rejected orders
          example: 0
        rejectedSales:
          type: number
          description: Total rejected sales amount
          example: 0
        averageSales:
          type: number
          description: Average sales per order
          example: 35.5
        totalItemsCount:
          type: number
          description: Total number of items sold
          example: 142
        totalRefunds:
          type: number
          description: Total refund amount
          example: 0
        totalDiscounts:
          type: number
          description: Total discount amount given
          example: 25.5
        totalVoucherForfeited:
          type: number
          description: Total voucher forfeited amount in cents
        totalPaymentAmount:
          type: number
          description: Total amount of all payment methods
          example: 25.5
      required:
        - totalOrders
        - totalSales
        - netSales
        - totalPaid
        - totalDifference
        - totalTransactions
        - rejectedOrders
        - rejectedSales
        - averageSales
        - totalItemsCount
        - totalRefunds
        - totalDiscounts
        - totalVoucherForfeited
        - totalPaymentAmount
    EndOfDayReportDtoV4:
      type: object
      properties:
        reportGeneratedAt:
          format: date-time
          type: string
          description: Report generated at
        reportDateStart:
          format: date-time
          type: string
          description: Report date start
        reportDateEnd:
          format: date-time
          type: string
          description: Report date end
        businessId:
          type: number
          description: Business ID
        paymentMethodDetails:
          description: Payment reconciliation
          type: array
          items:
            $ref: "#/components/schemas/PaymentDetailsDto"
        salesSummary:
          description: Sales summary
          allOf:
            - $ref: "#/components/schemas/SalesSummaryDtoV2"
        taxBreakdown:
          description: Tax breakdown
          allOf:
            - $ref: "#/components/schemas/TaxBreakdownDtoV3"
        itemBreakdown:
          description: Item breakdown
          type: array
          items:
            $ref: "#/components/schemas/ItemBreakdownDto"
      required:
        - reportGeneratedAt
        - reportDateStart
        - reportDateEnd
        - businessId
        - paymentMethodDetails
        - salesSummary
        - taxBreakdown
        - itemBreakdown
    OrderEventDto:
      type: object
      properties:
        orderId:
          type: string
          description: Unique identifier for the order
        orderNumber:
          type: string
          description: Order number shown to the customer
        orderingBusinessId:
          type: number
          description: Business ID that placed the order
        status:
          type: string
          description: Current status of the order
        provider:
          type: string
          description: Provider name
        timestamp:
          type: string
          description: ISO timestamp of the event
        orderType:
          type: string
          description: Type of order
        itemSummary:
          type: object
          description: Summary of the order items
          properties:
            sum:
              type: number
              description: Total net amount
            size:
              type: number
              description: Number of products
        expiryDate:
          type: string
          description: Expiry date of the order
          nullable: true
        pickUpEta:
          type: string
          description: Estimated pickup time
          nullable: true
        preparedIn:
          type: number
          description: Preparation time in minutes
          nullable: true
        order:
          type: object
          description: order data
        only_cancelled_items:
          type: boolean
          description: Flag to indicate if only cancelled items are included
          default: false
      required:
        - orderId
        - orderNumber
        - orderingBusinessId
        - status
        - provider
        - timestamp
        - orderType
        - itemSummary
        - order
    PosSubOptionDto:
      type: object
      properties:
        subOptionId:
          type: string
          description: Sub-option ID
        name:
          type: string
          description: Sub-option name
        price:
          type: number
          description: Sub-option price
        quantity:
          type: number
          description: Sub-option quantity
      required:
        - subOptionId
        - name
        - price
        - quantity
    PosSelectedOptionDto:
      type: object
      properties:
        optionId:
          type: string
          description: Option id
        name:
          type: string
          description: Option name
        totalPrice:
          type: number
          description: Total price
        subOption:
          description: Sub-options for the discount
          type: array
          items:
            $ref: "#/components/schemas/PosSubOptionDto"
      required:
        - optionId
        - name
        - totalPrice
        - subOption
    PosDiscountType:
      type: string
      enum:
        - percentage
        - fixed
    DiscountOptionsDto:
      type: object
      properties:
        type:
          description: Discount type (percentage or fixed)
          allOf:
            - $ref: "#/components/schemas/PosDiscountType"
        value:
          type: number
          description: Discount value (percentage or amount)
      required:
        - type
        - value
    PosItemDto:
      type: object
      properties:
        id:
          type: number
          example: 12345
          description: Product ID
        name:
          type: string
          example: Cheeseburger
          description: Product name
        price:
          type: number
          example: 9.99
          description: Product price
        description:
          type: string
          example: A delicious cheeseburger
          description: Product description
        images:
          type: string
          example: https://example.com/image.jpg
          description: Product image URL
        category_id:
          type: number
          example: 1
          description: Category ID the product belongs to
        inventoried:
          type: boolean
          example: true
          description: Whether the product is tracked for inventory
        quantity:
          type: number
          example: 10
          description: Available quantity if inventoried
        featured:
          type: boolean
          example: true
          description: Whether the product is marked as featured
        enabled:
          type: boolean
          example: true
          description: Whether the product is currently enabled
        upselling:
          type: boolean
          example: false
          description: Whether upselling is enabled for this product
        in_offer:
          type: boolean
          example: false
          description: Whether the product is part of an offer
        offer_price:
          type: object
          example: null
          nullable: true
          description: Offer price if applicable
        rank:
          type: number
          example: 1
          description: Display order rank of the product
        weight_unit:
          type: object
          example: g
          description: Weight unit (e.g., g, kg, ml)
        updated_at:
          type: string
          example: 2024-03-16T12:00:00Z
          description: Last update timestamp
        created_at:
          type: string
          example: 2024-03-16T12:00:00Z
          description: Product creation timestamp
        deleted_at:
          type: object
          example: null
          nullable: true
          description: Deletion timestamp if soft-deleted
        extras:
          description: List of product extras (e.g., toppings, add-ons)
          type: array
          items:
            $ref: "#/components/schemas/OrderingItemExtraDto"
        is_restricted:
          type: boolean
          example: true
          description: Whether the product is restricted
        tax:
          allOf: *a57
          nullable: true
        colorCode:
          type: string
          description: Product color code in hex format
          example: "#FF5733"
        printer_type:
          description: Printer type for the product
          example: BAR
          allOf:
            - $ref: "#/components/schemas/PrinterTypeEnum"
        custom_color_code:
          type: string
          description: "Custom UI override color in hex, e.g., #RRGGBB"
          example: "#FF5733"
        display_photo:
          type: boolean
          description: Whether the product has a display label
          example: false
          default: false
        reporting_category:
          description: Reporting category details
          nullable: true
          allOf:
            - $ref: "#/components/schemas/ReportingCategoryDto"
        pos_inventoried:
          type: boolean
          description: Indicates if the product is inventoried in POS
          example: true
        pos_quantity:
          type: number
          description: Quantity of the product in POS
          example: 10
        channel_configs:
          description: Channel config of inventoried per product
          type: array
          items:
            $ref: "#/components/schemas/ChannelConfig"
            minLength: 2
        orderId:
          type: string
          description: Order identifier
          example: ORD-2024-001
        options:
          description: Selected options for the item
          example:
            - id: size-large
              name: Large Size
              price: 2.5
          type: array
          items:
            $ref: "#/components/schemas/PosSelectedOptionDto"
        subTotal:
          type: number
          description: Subtotal amount for the item
          example: 15.99
        comment:
          type: string
          description: Additional comments for the item
          example: Extra spicy, no onions
        discount:
          description: Discount applied to the item
          nullable: true
          allOf:
            - $ref: "#/components/schemas/DiscountOptionsDto"
        printed:
          type: boolean
          description: Whether the item has been printed
          example: false
        paid:
          type: boolean
          description: Whether the item has been paid for
          example: true
      required:
        - id
        - name
        - price
        - description
        - images
        - category_id
        - inventoried
        - quantity
        - featured
        - enabled
        - upselling
        - in_offer
        - offer_price
        - rank
        - weight_unit
        - updated_at
        - created_at
        - deleted_at
        - extras
        - is_restricted
        - tax
        - pos_inventoried
        - pos_quantity
        - channel_configs
        - orderId
        - options
        - subTotal
        - comment
        - printed
        - paid
    CardPresentDetailsDto:
      type: object
      properties:
        last4:
          type: string
          description: Last 4 digits of the card
          example: "4242"
        expMonth:
          type: string
          description: Card expiration month
          example: "12"
        expYear:
          type: string
          description: Card expiration year
          example: "2025"
        cardholderName:
          type: string
          description: Cardholder name
          example: John Doe
          nullable: true
        funding:
          type: string
          description: Card funding type
          example: credit
        brand:
          type: string
          description: Card brand
          example: visa
        generatedCard:
          type: string
          description: Generated card identifier
          example: card_123abc
          nullable: true
        receipt:
          type: string
          description: Receipt data
          example: receipt_data_string
          nullable: true
        emvAuthData:
          type: string
          description: EMV authorization data
          example: emv_auth_data
          nullable: true
        country:
          type: string
          description: Card issuing country
          example: US
          nullable: true
        preferredLocales:
          description: Preferred locales
          example:
            - en-US
            - es-ES
          type: array
          items:
            type: string
        issuer:
          type: string
          description: Card issuer
          example: Chase Bank
        iin:
          type: string
          description: Issuer identification number
          example: "424242"
        network:
          type: string
          description: Card network
          example: visa
        description:
          type: string
          description: Card description
          example: Visa  4242
        wallet:
          description: Wallet information
          allOf:
            - $ref: "#/components/schemas/WalletDto"
        location:
          type: string
          description: Reader location
          example: store_location_1
          nullable: true
        reader:
          type: string
          description: Card reader identifier
          example: reader_123
          nullable: true
      required:
        - last4
        - expMonth
        - expYear
        - funding
        - brand
        - preferredLocales
        - issuer
        - iin
        - network
        - description
        - wallet
    ReceiptDetailsDto:
      type: object
      properties:
        accountType:
          type: string
          description: Account type
          example: credit
        applicationCryptogram:
          type: string
          description: Application cryptogram
          example: ABC123XYZ
        applicationPreferredName:
          type: string
          description: Application preferred name
          example: VISA CREDIT
        authorizationCode:
          type: string
          description: Authorization code
          example: "123456"
        authorizationResponseCode:
          type: string
          description: Authorization response code
          example: "00"
        cvm:
          type: string
          description: Cardholder verification method
          example: signature
        dedicatedFileName:
          type: string
          description: Dedicated file name
          example: A0000000031010
        terminalVerificationResult:
          type: string
          description: Terminal verification result
          example: "8000008000"
        transactionStatusInformation:
          type: string
          description: Transaction status information
          example: E800
      required:
        - accountType
        - applicationCryptogram
        - applicationPreferredName
        - authorizationCode
        - authorizationResponseCode
        - cvm
        - dedicatedFileName
        - terminalVerificationResult
        - transactionStatusInformation
    OfflineCardPresentDetailsDto:
      type: object
      properties:
        brand:
          type: string
          description: Card brand
          example: visa
        cardholderName:
          type: string
          description: Cardholder name
          example: John Doe
        expMonth:
          type: number
          description: Card expiration month
          example: 12
        expYear:
          type: number
          description: Card expiration year
          example: 2025
        last4:
          type: string
          description: Last 4 digits of the card
          example: "4242"
        readMethod:
          type: string
          description: Card read method
          example: contact_emv
        receiptDetails:
          description: Receipt details
          allOf:
            - $ref: "#/components/schemas/ReceiptDetailsDto"
      required:
        - brand
        - cardholderName
        - expMonth
        - expYear
        - last4
        - readMethod
        - receiptDetails
    WechatPayDetailsDto:
      type: object
      properties:
        location:
          type: string
          description: Payment location
          example: store_location_1
          nullable: true
        reader:
          type: string
          description: Reader identifier
          example: reader_123
          nullable: true
        transactionId:
          type: string
          description: WeChat Pay transaction ID
          example: wechat_txn_123
          nullable: true
    AffirmDetailsDto:
      type: object
      properties:
        location:
          type: string
          description: Payment location
          example: store_location_1
          nullable: true
        reader:
          type: string
          description: Reader identifier
          example: reader_123
          nullable: true
        transactionId:
          type: string
          description: Affirm transaction ID
          example: affirm_txn_123
          nullable: true
    PaymentMethodDetailsDto:
      type: object
      properties:
        type:
          type: string
          description: Payment method type
          example: card_present
        cardPresentDetails:
          description: Card present payment details
          allOf:
            - $ref: "#/components/schemas/CardPresentDetailsDto"
        interacPresentDetails:
          description: Interac present payment details
          allOf:
            - $ref: "#/components/schemas/CardPresentDetailsDto"
        wechatPayDetails:
          description: WeChat Pay payment details
          allOf:
            - $ref: "#/components/schemas/WechatPayDetailsDto"
        affirmDetails:
          description: Affirm payment details
          allOf:
            - $ref: "#/components/schemas/AffirmDetailsDto"
      required:
        - type
    ChargeDto:
      type: object
      properties:
        id:
          type: string
          description: Charge identifier
          example: ch_1ABC123xyz
        amount:
          type: number
          description: Charge amount in smallest currency unit
          example: 2000
        description:
          type: string
          description: Charge description
          example: "Payment for order #123"
        currency:
          type: string
          description: Charge currency
          example: usd
        status:
          type: string
          description: Charge status
          example: succeeded
        paymentMethodDetails:
          description: Payment method details
          allOf:
            - $ref: "#/components/schemas/PaymentMethodDetailsDto"
      required:
        - id
        - amount
        - description
        - currency
        - status
        - paymentMethodDetails
    AmountDto:
      type: object
      properties:
        value:
          type: number
          description: Amount value in smallest currency unit
          example: 300
        currency:
          type: string
          description: Currency code
          example: usd
      required:
        - value
        - currency
    AmountDetailsDto:
      type: object
      properties:
        tip:
          description: Tip amount details
          allOf:
            - $ref: "#/components/schemas/AmountDto"
      required:
        - tip
    OfflineDetailsDto:
      type: object
      properties:
        storedAtMs:
          type: string
          description: Timestamp when stored offline (in milliseconds)
          example: "1640995200000"
        requiresUpload:
          type: boolean
          description: Whether the payment requires upload to complete
          example: true
        cardPresentDetails:
          description: Card present details for offline payment
          allOf:
            - $ref: "#/components/schemas/OfflineCardPresentDetailsDto"
        amountDetails:
          description: Amount details for offline payment
          allOf:
            - $ref: "#/components/schemas/AmountDetailsDto"
      required:
        - storedAtMs
        - requiresUpload
        - cardPresentDetails
        - amountDetails
    NetsTransactionResultDto:
      type: object
      properties:
        transactionId:
          type: string
          description: A unique identifier for the transaction.
          example: "156023467841"
        cardNumber:
          type: string
          description: The truncated/masked PAN of the payment card used.
          example: 524999******2083
        cardType:
          type: string
          description: The issuer or card scheme identifier.
          example: Mastercard
        orderId:
          type: string
          description: The unique order ID for this transaction.
          example: 10A90015224431
        timeStamp:
          type: string
          description: An RFC3339 formatted timestamp of the transaction.
          example: 2018-11-07T10:31:51.000Z
        merchantReceipt:
          type: string
          description: The transaction receipt to be stored by the merchant.
          example: EUR 25.15 TAPAHT. OK MERCHANT RECEIPT
        customerReceipt:
          type: string
          description: The transaction receipt to be printed for the customer.
          example: EUR 25.15 TAPAHT. OK CUSTOMER COPY
        transactionType:
          type: string
          description: The type of transaction that was performed.
          example: purchase
        localModeEventArgs:
          type: object
          description: Full LocalMode arguments as sent by the terminal.
          example:
            result: "0"
            resultData: D 055...
          additionalProperties: true
        storeboxToken:
          type: string
          description: A token for the card number to be used with Storebox services.
          example: LLEtfxw0pHfR0+sai+A0P3rRB0eMKDpDV+Xnf+ssKh8=
      required:
        - transactionId
        - cardNumber
        - cardType
        - orderId
        - timeStamp
        - merchantReceipt
        - customerReceipt
        - transactionType
        - localModeEventArgs
    NetsPaymentMessageDto:
      type: object
      properties:
        success:
          type: boolean
          description: Indicates if the payment transaction was successful.
          example: true
        error:
          type: string
          description: Error message if the transaction failed.
          example: PSP / Invalid card number (no such number)
        errorCode:
          type: string
          description: The detailed, human-readable error string provided by the payment
            service provider (PSP) if the transaction failed.
          example: PSP / Invalid card number (no such number)
        terminalId:
          type: object
          description: The terminal ID where the transaction was processed.
          example: "77773000"
          nullable: true
        rawData:
          type: object
          description: The raw, unparsed response object received from the payment provider.
          example: &a58
            failure:
              error: ...
        requestId:
          type: string
          description: A unique identifier for the request, used for tracking.
          example: req_1234567890
        data:
          description: Transaction details if the payment was successful.
          allOf:
            - $ref: "#/components/schemas/NetsTransactionResultDto"
      required:
        - success
        - rawData
    VivaPaymentMessageDto:
      type: object
      properties:
        success:
          type: boolean
          description: Indicates if the payment transaction was successful.
          example: true
        error:
          type: string
          description: Error message if the transaction failed.
          example: PSP / Invalid card number (no such number)
        errorCode:
          type: string
          description: The detailed, human-readable error string provided by the payment
            service provider (PSP) if the transaction failed.
          example: PSP / Invalid card number (no such number)
        terminalId:
          type: object
          description: The terminal ID where the transaction was processed.
          example: "77773000"
          nullable: true
        rawData:
          type: object
          description: The raw, unparsed response object received from the payment provider.
          example: *a58
        sessionId:
          type: string
          description: A unique identifier for the request, used for tracking.
          example: req_1234567890
        data:
          description: Transaction details if the payment was successful.
          allOf:
            - $ref: "#/components/schemas/VivaPaymentResultDto"
      required:
        - success
        - rawData
    VivaEventId:
      type: number
      enum:
        - 1000
        - 1001
        - 1002
        - 1003
        - 1004
        - 1006
        - 1007
        - 1008
        - 1009
        - 1010
        - 1011
        - 1012
        - 1013
        - 1014
        - 1016
        - 1017
        - 1018
        - 1019
        - 1020
        - 1021
        - 1047
        - 1048
        - 1049
        - 1050
        - 1051
        - 1052
        - 1053
        - 1054
        - 1055
        - 1056
        - 1057
        - 1058
        - 1059
        - 1060
        - 1061
        - 1062
        - 1063
        - 1064
        - 1065
        - 1066
        - 1067
        - 1068
        - 1069
        - 1070
        - 1071
        - 1072
        - 1074
        - 1075
        - 1076
        - 1077
        - 1079
        - 1080
        - 1081
        - 1082
        - 1083
        - 1099
        - 1100
        - 1101
        - 1102
        - 1110
        - 1301
        - 1302
        - 1303
        - 2000
        - 3000
        - 3001
        - 3002
        - 3099
        - 4000
        - 5000
        - 5001
        - 5002
        - 5003
        - 5004
        - 5005
        - 5006
        - 6000
        - 6102
        - 6201
        - 7001
        - 7002
        - 7003
        - 7004
        - 7005
    VivaEventDataEcrDto:
      type: object
      properties:
        Aid:
          type: string
          description: Application Identifier (AID)
          example: A0000000031010
        Tid:
          type: string
          description: Terminal ID (Tid)
          example: "16010572"
        Amount:
          type: number
          description: Transaction amount in the smallest currency unit
          example: 1400
        EventId:
          description: Event ID
          allOf:
            - $ref: "#/components/schemas/VivaEventId"
        Preauth:
          type: boolean
          description: Indicates if the transaction was a pre-authorization
          example: false
        Success:
          type: boolean
          description: Indicates if the transaction was successful
          example: true
        Message:
          type: string
          description: Message describing the transaction outcome
          example: Transaction successful
        TipAmount:
          type: number
          description: Tip amount
          example: 0
        MerchantId:
          type: string
          description: Merchant ID (UUID)
          example: 7e2a46a4-5b64-4d39-bd82-a2a572078506
        ResellerId:
          type: string
          description: Reseller ID (UUID)
          example: eeca4dee-10b9-4a4d-84e0-06393c28c6e6
        OrderCode:
          type: string
          description: Order Code
          example: "5288110730010572"
        SessionId:
          type: string
          description: Session ID
          example: vpi_cmgrpcjth00010glw1z670rm2_1760515290197
        Installments:
          type: number
          description: Number of installments
          example: 0
        TerminalId:
          type: string
          description: Terminal ID
          example: "16010572"
        AbortSuccess:
          type: boolean
          description: Indicates if an abort success operation occurred
          example: false
        AbortOperation:
          type: boolean
          description: Indicates if an abort operation occurred
          example: false
        CurrencyCode:
          description: Currency Code (e.g., ISO 4217 numeric)
          allOf:
            - $ref: "#/components/schemas/VivaCurrencyCode"
        PanEntryMode:
          type: string
          description: PAN Entry Mode
          example: "07"
        TransactionId:
          type: string
          description: Transaction ID (UUID)
          example: 00feaf2e-7fd8-4a69-9cca-d685b88ab5a8
        ReferenceNumber:
          type: number
          description: Reference Number
          example: 169341
        CashRegisterId:
          type: string
          description: Cash Register ID
          example: "351"
        DccDetails:
          type: string
          description: DCC Details
          example: null
        ShortOrderCode:
          type: string
          description: Short Order Code
          example: "5288110730"
        TransactionTypeId:
          type: number
          description: Transaction Type ID
          example: 5
        AuthorizationId:
          type: string
          description: Authorization ID
          example: "169341"
        ApplicationLabel:
          type: string
          description: Application Label (e.g., Card Scheme)
          example: Visa DEBIT
        LoyaltyInfo:
          type: object
          description: Loyalty Information
          example: null
        AadeTransactionId:
          type: string
          description: AADE Transaction ID
          example: null
          nullable: true
        MerchantReference:
          type: string
          description: Merchant Reference
          example: vpi_cmgrpcjth00010glw1z670rm2_1760515290197
        VerificationMethod:
          type: string
          description: Cardholder Verification Method (CVM)
          example: CONTACTLESS - NO CVM
        AbortAckTime:
          type: object
          description: Abort Acknowledge Time
          example: null
        RetrievalReferenceNumber:
          type: number
          description: Retrieval Reference Number
          example: 528808169341
        PrimaryAccountNumberMasked:
          type: string
          description: Primary Account Number Masked
          example: 489985******9740
        TransactionDateTime:
          type: string
          description: Transaction Date and Time (ISO 8601 format)
          example: 2025-10-15T08:01:44.383+00:00
      required:
        - Aid
        - Tid
        - Amount
        - EventId
        - Preauth
        - Success
        - Message
        - TipAmount
        - MerchantId
        - ResellerId
        - OrderCode
        - SessionId
        - Installments
        - TerminalId
        - AbortSuccess
        - AbortOperation
        - CurrencyCode
        - PanEntryMode
        - TransactionId
        - ReferenceNumber
        - CashRegisterId
        - ShortOrderCode
        - TransactionTypeId
        - AuthorizationId
        - ApplicationLabel
        - MerchantReference
        - VerificationMethod
        - RetrievalReferenceNumber
        - PrimaryAccountNumberMasked
        - TransactionDateTime
    NetsTransactionFailureDetailsDto:
      type: object
      properties:
        error:
          type: string
          description: A description of the error that occurred.
          example: Transaction declined by issuer
        transactionId:
          type: object
          description: A unique identifier for the failed transaction.
          example: "156023467841"
          nullable: true
        cardNumber:
          type: object
          description: The truncated/masked PAN of the payment card used (if available).
          example: 524999******2083
          nullable: true
        cardType:
          type: object
          description: The issuer or card scheme identifier (if available).
          example: Mastercard
          nullable: true
        timestamp:
          type: object
          description: An RFC3339 formatted timestamp of the transaction attempt.
          example: 2018-11-07T10:31:51.000Z
          nullable: true
        merchantReceipt:
          type: string
          description: The transaction receipt to be stored by the merchant for the failure.
          example: EUR 25.15 TAPAHT. EI OK MERCHANT RECEIPT
        customerReceipt:
          type: string
          description: The transaction receipt to be printed for the customer for the
            failure.
          example: EUR 25.15 TAPAHT. EI OK CUSTOMER COPY
        transactionType:
          type: object
          description: The type of transaction that was attempted.
          example: purchase
          nullable: true
        localModeEventArgs:
          type: object
          description: Full LocalMode arguments as sent by the terminal detailing the
            failure.
          example:
            result: "1"
            resultData: D 055...
          additionalProperties: true
      required:
        - error
        - transactionId
        - cardNumber
        - cardType
        - timestamp
        - merchantReceipt
        - customerReceipt
        - transactionType
        - localModeEventArgs
    NetsTransactionFailureResponseDto:
      type: object
      properties:
        failure:
          description: Details of the failed transaction.
          allOf:
            - $ref: "#/components/schemas/NetsTransactionFailureDetailsDto"
      required:
        - failure
    NetsTransactionSuccessResponseDto:
      type: object
      properties:
        result:
          description: An array of transaction result objects.
          type: array
          items:
            $ref: "#/components/schemas/NetsTransactionResultDto"
      required:
        - result
    StaffActivityActionType:
      type: string
      enum:
        - ORDER_CREATED
        - ORDER_UPDATED
        - ITEM_ADDED
        - ITEM_REMOVED
        - ITEM_UPDATED
        - DISCOUNT_APPLIED
        - DISCOUNT_REMOVED
        - REFUND_INITIATED
        - REFUND_PROCESSED
        - REFUND_CANCELED
        - PAYMENT_PROCESSED
        - ORDER_STATUS_UPDATED
        - INVENTORY_UPDATED
        - CASH_SESSION_OPENED
        - CASH_SESSION_CLOSED
        - CASH_MANUAL_ADD
        - CASH_MANUAL_REMOVE
    StaffActivityChangeDto:
      type: object
      properties:
        attribute:
          type: string
          description: The name of the attribute that changed
          example: status
        oldValue:
          type: object
          description: The previous value of the attribute
          example: PENDING
          nullable: true
        newValue:
          type: object
          description: The new value of the attribute
          example: COMPLETED
          nullable: true
      required:
        - attribute
    StaffActivityLogDto:
      type: object
      properties:
        id:
          type: string
          description: Unique ID of the log entry
          example: clvsqm8p8000008l41234abcd
        timestamp:
          type: string
          description: The ISO 8601 timestamp of when the action occurred
          example: 2025-11-12T20:09:49.000Z
        businessId:
          type: string
          description: The ID of the business this log belongs to
          example: "12345"
        orderId:
          type: string
          description: The ID of the order this log belongs to
          example: order_abc
          nullable: true
        staffId:
          type: string
          description: The ID of the staff member who performed the action
          example: staff_123
          nullable: true
        shiftId:
          type: string
          description: The ID of the shift during which the action occurred
          example: shift_456
          nullable: true
        actionType:
          description: The type of action performed
          example: REFUND_PROCESSED
          allOf:
            - $ref: "#/components/schemas/StaffActivityActionType"
        entityType:
          type: string
          description: The type of entity that was affected
          example: PaymentRefund
        entityId:
          type: string
          description: The ID of the entity that was affected
          example: refund_abc
        changes:
          description: A list of changes that occurred during this action
          type: array
          items:
            $ref: "#/components/schemas/StaffActivityChangeDto"
        expiresAt:
          format: date-time
          type: string
          description: The expiration date of the log entry, if applicable
          example: 2026-11-12T20:09:49.000Z
          nullable: true
        productName:
          type: string
          description: Name of the product associated with the activity log
          example: Cappuccino
          nullable: true
      required:
        - id
        - timestamp
        - businessId
        - orderId
        - staffId
        - shiftId
        - actionType
        - entityType
        - entityId
        - changes
    CashSessionMessageDto:
      type: object
      properties:
        CashSessionDto:
          type: string
          enum:
            - SESSION_UPDATED
            - SESSION_CLOSED
            - LOG_ADDED
          description: The type of the signal.
      required:
        - CashSessionDto
    BusinessEventType:
      type: string
      enum:
        - business:status-updated
        - business:menu-updated
        - business:config-updated
    KioskEventType:
      type: string
      enum:
        - kiosk.status.updated
        - kiosk.config.updated
    KioskStatusDto:
      type: object
      properties:
        open:
          type: boolean
          description: The open status of the kiosk.
        event:
          description: The type of business event currently active.
          allOf:
            - $ref: "#/components/schemas/BusinessEventType"
        kiosk_event:
          description: The type of kiosk event currently active.
          allOf:
            - $ref: "#/components/schemas/KioskEventType"
      required:
        - open
        - event
        - kiosk_event
    BusinessBackgroundType:
      type: string
      enum:
        - image
        - video
        - animation
    ImageBackgroundConfig:
      type: object
      properties:
        overlayOpacity:
          type: number
          description: Opacity of the overlay
          minimum: 0
          maximum: 1
          example: 0.4
        overlayColor:
          type: string
          description: Color of the overlay
          example: "#000000"
        type:
          allOf:
            - $ref: "#/components/schemas/BusinessBackgroundType"
        url:
          type: string
          description: URL of the image
          example: https://cdn.example.com/bg.jpg
        blurRadius:
          type: number
          description: Blur radius in pixels
          default: 0
      required:
        - overlayOpacity
        - type
        - url
    VideoBackgroundConfig:
      type: object
      properties:
        overlayOpacity:
          type: number
          description: Opacity of the overlay
          minimum: 0
          maximum: 1
          example: 0.4
        overlayColor:
          type: string
          description: Color of the overlay
          example: "#000000"
        type:
          allOf:
            - $ref: "#/components/schemas/BusinessBackgroundType"
        url:
          type: string
          description: URL of the video file
          example: https://cdn.example.com/bg.mp4
        poster:
          type: string
          description: Thumbnail URL shown while video loads
        loop:
          type: boolean
          description: Should the video loop?
          default: true
      required:
        - overlayOpacity
        - type
        - url
        - poster
    ThemeTokensDto:
      type: object
      properties:
        munchi-primary:
          type: string
          example: "#ff6501"
        munchi-text-muted:
          type: string
          example: "#4B5563"
        munchi-green:
          type: string
          example: "#B3F5BC"
        munchi-yellow:
          type: string
          example: "#FFE699"
        munchi-red:
          type: string
          example: "#FA9189"
        munchi-purple:
          type: string
          example: "#D1BDFF"
        munchi-orange:
          type: string
          example: "#FCAE7C"
        munchi-blue:
          type: string
          example: "#D6F6FF"
        munchi-gray:
          type: string
          example: "#6A6A6A"
        munchi-tag-primary:
          type: string
          example: "#FFA8CD"
        munchi-bg-primary:
          type: string
          example: "#F0EAE0"
        munchi-bg-gray-component:
          type: string
          example: "#E2E0E0"
        munchi-bg-transparent-black:
          type: string
          example: "#00000080"
        munchi-card:
          type: string
          example: "#FFFFFF"
      required:
        - munchi-primary
        - munchi-text-muted
        - munchi-green
        - munchi-yellow
        - munchi-red
        - munchi-purple
        - munchi-orange
        - munchi-blue
        - munchi-gray
        - munchi-tag-primary
        - munchi-bg-primary
        - munchi-bg-gray-component
        - munchi-bg-transparent-black
        - munchi-card
    MunchiThemesDto:
      type: object
      properties:
        light:
          $ref: "#/components/schemas/ThemeTokensDto"
        dark:
          $ref: "#/components/schemas/ThemeTokensDto"
      required:
        - light
        - dark
    AblyBusinessEventPayloadDto:
      type: object
      properties:
        action:
          type: string
          enum:
            - PRODUCT_UPDATED
            - PRODUCT_DELETED
            - MENU_UPDATED
            - CATEGORY_UPDATED
            - EXTRA_UPDATED
            - EXTRA_DELETED
            - OPTION_UPDATED
            - OPTION_DELETED
            - SUBOPTION_UPDATED
            - SUBOPTION_DELETED
            - SITE_UPDATED
            - CATEGORY_DELETED
            - PRODUCT_CREATED
            - BUSINESS_CONFIG_UPDATED
            - data_sync_required
            - pos_session_updated
        entityType:
          type: string
          enum:
            - product
            - menu
            - category
            - extra
            - option
            - role
            - shift
            - employee
        entityId:
          type: object
        businessId:
          type: object
        channel:
          allOf:
            - $ref: "#/components/schemas/ProviderEnum"
        timestamp:
          type: string
        productUpdates:
          type: object
      required:
        - action
        - entityType
        - entityId
        - businessId
        - channel
        - timestamp
    LoyaltyActionKey:
      type: string
      enum:
        - self
        - getUserById
        - searchUser
        - addPoints
        - getAdminHistory
    BusinessEventAction:
      type: string
      enum:
        - PRODUCT_UPDATED
        - PRODUCT_DELETED
        - MENU_UPDATED
        - CATEGORY_UPDATED
        - EXTRA_UPDATED
        - EXTRA_DELETED
        - OPTION_UPDATED
        - OPTION_DELETED
        - SUBOPTION_UPDATED
        - SUBOPTION_DELETED
        - SITE_UPDATED
        - CATEGORY_DELETED
        - PRODUCT_CREATED
        - BUSINESS_CONFIG_UPDATED
        - data_sync_required
        - pos_session_updated
    EntityType:
      type: string
      enum:
        - product
        - menu
        - category
        - extra
        - option
        - role
        - shift
        - employee
